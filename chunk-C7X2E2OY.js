import{Ca as m,Ec as i,a as n,aa as r,b as s}from"./chunk-27GLVKKX.js";var c=(()=>{class t{_modals=m([]);_modalCounter=0;modals=i(()=>this._modals());hasOpenModals=i(()=>this._modals().some(e=>e.isOpen));open(e){let o=`modal-${++this._modalCounter}`,a={id:o,config:s(n({},e),{zIndex:e.zIndex||1e3+this._modalCounter}),isOpen:!0};return this._modals.set([...this._modals(),a]),console.log("Modal opened:",o,a),o}close(e){this._modals.set(this._modals().map(o=>o.id===e?s(n({},o),{isOpen:!1}):o)),setTimeout(()=>{this._modals.set(this._modals().filter(o=>o.id!==e))},300),console.log("Modal closed:",e)}closeAll(){this._modals.set(this._modals().map(e=>s(n({},e),{isOpen:!1}))),setTimeout(()=>{this._modals.set([])},300),console.log("All modals closed")}getModal(e){return this._modals().find(o=>o.id===e)}isModalOpen(e){return this._modals().some(o=>o.id===e&&o.isOpen)}openConfirm(e){return this.open({header:e.title||"Confirma\xE7\xE3o",component:void 0,componentInputs:{message:e.message,confirmText:e.confirmText||"Confirmar",cancelText:e.cancelText||"Cancelar",onConfirm:e.onConfirm,onCancel:e.onCancel},minWidth:"400px",maxWidth:"500px"})}openUserForm(e){return this.open({header:e?"Editar Usu\xE1rio":"Novo Usu\xE1rio",componentName:"UserForm",componentInputs:{userId:e,mode:e?"edit":"create"},minWidth:"600px",maxWidth:"800px",backdropClose:!1})}openAccessProfileForm(e){return this.open({header:e?"Editar Perfil de Acesso":"Novo Perfil de Acesso",componentName:"AccessProfileForm",componentInputs:{profileId:e,mode:e?"edit":"create"},minWidth:"700px",maxWidth:"900px"})}openPatientForm(e){return this.open({header:e?"Editar Paciente":"Novo Paciente",componentName:"PatientForm",componentInputs:{patientId:e,mode:e?"edit":"create"},minWidth:"800px",maxWidth:"1000px",backdropClose:!1})}openPrescriptionForm(e,o){return this.open({header:e?"Editar Prescri\xE7\xE3o":"Nova Prescri\xE7\xE3o",componentName:"PrescriptionForm",componentInputs:{prescriptionId:e,patientId:o,mode:e?"edit":"create"},minWidth:"900px",maxWidth:"1200px"})}openVisitScheduleForm(e,o){return this.open({header:e?"Editar Agendamento":"Novo Agendamento",componentName:"VisitScheduleForm",componentInputs:{visitId:e,patientId:o,mode:e?"edit":"create"},minWidth:"700px",maxWidth:"900px"})}static \u0275fac=function(o){return new(o||t)};static \u0275prov=r({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();export{c as a};
