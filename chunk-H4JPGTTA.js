import{a as q}from"./chunk-6TENUJJS.js";import{e as T}from"./chunk-IYVIUSTV.js";import"./chunk-IP7VHNIT.js";import"./chunk-P5RULU64.js";import{Aa as p,Cb as t,Db as o,Jb as s,Sc as g,Tb as r,Ub as f,Za as d,fa as m,gb as u,tb as b,vb as h}from"./chunk-R5P75FUM.js";var v={id:"patient-homecare",titulo:"Cadastro de Paciente - Homecare",descricao:"Formul\xE1rio para cadastro de pacientes em atendimento domiciliar",campos:[{id:"container-dados-pessoais",description:"Container para dados pessoais do paciente",id_hl7fhir:"Patient",label:"Dados Pessoais",elementType:"container",containerType:"fieldset",qtdLinha:1,qtdColuna:12,breakpoint:"both",requerido:"nao",habilitado:"sempre",apareceForm:!0,apareceTable:!1,alinhamento:"left",sequenciaForm:1},{id:"fullName",description:"Nome completo do paciente",id_hl7fhir:"Patient.name",label:"Nome Completo",labelTable:"Nome",elementType:"field",fieldType:"text",qtdLinha:1,qtdColuna:6,breakpoint:"both",requerido:"sim",habilitado:"incluir_alterar",apareceForm:!0,apareceTable:!0,containerParent:"container-dados-pessoais",alinhamento:"left",sequenciaForm:2,sequenciaTable:1,validacoes:[{tipo:"required",mensagem:"Nome completo \xE9 obrigat\xF3rio"},{tipo:"minLength",valor:3,mensagem:"Nome deve ter pelo menos 3 caracteres"}]},{id:"gender",description:"G\xEAnero do paciente",id_hl7fhir:"Patient.gender",label:"G\xEAnero",elementType:"field",fieldType:"select",qtdLinha:1,qtdColuna:3,breakpoint:"both",requerido:"sim",habilitado:"incluir_alterar",apareceForm:!0,apareceTable:!0,containerParent:"container-dados-pessoais",alinhamento:"left",sequenciaForm:3,sequenciaTable:2,opcoes:[{valor:"",texto:"Selecione"},{valor:"male",texto:"Masculino"},{valor:"female",texto:"Feminino"},{valor:"other",texto:"Outro"},{valor:"unknown",texto:"N\xE3o informado"}],validacoes:[{tipo:"required",mensagem:"G\xEAnero \xE9 obrigat\xF3rio"}]},{id:"birthDate",description:"Data de nascimento do paciente",id_hl7fhir:"Patient.birthDate",label:"Data de Nascimento",labelTable:"Nascimento",elementType:"field",fieldType:"date",qtdLinha:1,qtdColuna:3,breakpoint:"both",requerido:"sim",habilitado:"incluir_alterar",apareceForm:!0,apareceTable:!0,containerParent:"container-dados-pessoais",alinhamento:"left",sequenciaForm:4,sequenciaTable:3,validacoes:[{tipo:"required",mensagem:"Data de nascimento \xE9 obrigat\xF3ria"}]},{id:"phone",description:"Telefone do paciente",id_hl7fhir:"Patient.telecom",label:"Telefone",elementType:"field",fieldType:"tel",qtdLinha:1,qtdColuna:3,breakpoint:"both",requerido:"nao",habilitado:"incluir_alterar",apareceForm:!0,apareceTable:!0,containerParent:"container-dados-pessoais",alinhamento:"left",sequenciaForm:5,sequenciaTable:4,mascara:"(99) 99999-9999",tooltip:"Formato: (11) 99999-9999"},{id:"email",description:"Email do paciente",id_hl7fhir:"Patient.telecom",label:"Email",elementType:"field",fieldType:"email",qtdLinha:1,qtdColuna:3,breakpoint:"both",requerido:"nao",habilitado:"incluir_alterar",apareceForm:!0,apareceTable:!1,containerParent:"container-dados-pessoais",alinhamento:"left",sequenciaForm:6,validacoes:[{tipo:"email",mensagem:"Email deve ter formato v\xE1lido"}]},{id:"container-info-clinicas",description:"Container para informa\xE7\xF5es cl\xEDnicas",id_hl7fhir:"Patient",label:"Informa\xE7\xF5es Cl\xEDnicas",elementType:"container",containerType:"fieldset",qtdLinha:1,qtdColuna:12,breakpoint:"both",requerido:"nao",habilitado:"sempre",apareceForm:!0,apareceTable:!1,alinhamento:"left",sequenciaForm:7},{id:"primaryDiagnosis",description:"Diagn\xF3stico principal do paciente",id_hl7fhir:"Patient.extension",label:"Diagn\xF3stico Principal",labelTable:"Diagn\xF3stico",elementType:"field",fieldType:"text",qtdLinha:1,qtdColuna:6,breakpoint:"both",requerido:"condicional",condicaoRequerido:{campo:"patientType",valor:"homecare",operador:"="},habilitado:"incluir_alterar",apareceForm:!0,apareceTable:!0,containerParent:"container-info-clinicas",alinhamento:"left",sequenciaForm:8,sequenciaTable:5,tooltip:"Diagn\xF3stico principal para atendimento domiciliar"},{id:"attendingPhysician",description:"M\xE9dico respons\xE1vel pelo paciente",id_hl7fhir:"Patient.generalPractitioner",label:"M\xE9dico Respons\xE1vel",elementType:"field",fieldType:"text",qtdLinha:1,qtdColuna:6,breakpoint:"both",requerido:"sim",habilitado:"incluir_alterar",apareceForm:!0,apareceTable:!1,containerParent:"container-info-clinicas",alinhamento:"left",sequenciaForm:9,modalBusca:{titulo:"Selecionar M\xE9dico",endpoint:"/api/physicians",campos:["name","crm","specialty"],campoRetorno:"name"}},{id:"active",description:"Status ativo do paciente",id_hl7fhir:"Patient.active",label:"Paciente Ativo",elementType:"field",fieldType:"checkbox",qtdLinha:1,qtdColuna:2,breakpoint:"both",requerido:"nao",habilitado:"sempre",apareceForm:!0,apareceTable:!0,containerParent:"container-info-clinicas",alinhamento:"left",sequenciaForm:10,sequenciaTable:6,conteudoInicial:!0}],acoes:{incluir:!0,alterar:!0,excluir:!0,visualizar:!0,customizadas:[{nome:"Hist\xF3rico M\xE9dico",icone:"medical-history",classe:"btn-info",funcao:"openMedicalHistory"},{nome:"Agendar Visita",icone:"calendar",classe:"btn-success",funcao:"scheduleVisit"}]},paginacao:{tamanho:10,opcoesTamanho:[5,10,25,50]}};var S=(()=>{class c{router=m(T);tableConfig=v;tableData=p({items:[{id:1,nome:"Maria Silva Santos",cpf:"123.456.789-00",email:"maria.silva@email.com",telefone:"(11) 99999-1111",status:"ativo",dataCadastro:"2024-01-15",planoSaude:"Unimed"},{id:2,nome:"Jo\xE3o Carlos Oliveira",cpf:"987.654.321-00",email:"joao.carlos@email.com",telefone:"(11) 99999-2222",status:"pendente",dataCadastro:"2024-02-20",planoSaude:"Bradesco Sa\xFAde"},{id:3,nome:"Ana Paula Costa",cpf:"456.789.123-00",email:"ana.paula@email.com",telefone:"(11) 99999-3333",status:"ativo",dataCadastro:"2024-03-10",planoSaude:"SulAm\xE9rica"}],totalItems:3,currentPage:1,pageSize:25,totalPages:1});headerActions=[{id:"add",label:"Novo Paciente",icon:"add",class:"btn-primary",tooltip:"Cadastrar novo paciente"},{id:"import",label:"Importar",icon:"upload",class:"btn-outline",tooltip:"Importar dados de pacientes"},{id:"export",label:"Exportar",icon:"download",class:"btn-outline",tooltip:"Exportar lista de pacientes"}];rowActions=[{id:"view",label:"Visualizar",icon:"view",tooltip:"Ver detalhes do paciente"},{id:"edit",label:"Editar",icon:"edit",tooltip:"Editar informa\xE7\xF5es do paciente"},{id:"history",label:"Hist\xF3rico",icon:"history",tooltip:"Ver hist\xF3rico de atendimentos"},{id:"delete",label:"Excluir",icon:"delete",class:"text-error",tooltip:"Excluir paciente",condition:e=>e.status!=="ativo"}];bulkActions=[{id:"activate",label:"Ativar Selecionados",class:"btn-success"},{id:"deactivate",label:"Desativar Selecionados",class:"btn-warning"},{id:"delete-bulk",label:"Excluir Selecionados",class:"btn-error"}];loading=p(!1);showDeleteModal=!1;selectedPatient=null;selectedItems=[];ngOnInit(){this.loadPatients()}loadPatients(){this.loading.set(!0),setTimeout(()=>{this.loading.set(!1)},1e3)}onTableEvent(e){switch(console.log("Table Event:",e),e.action){case"headerAction":this.handleHeaderAction(e.data?.action);break;case"rowAction":this.handleRowAction(e.data?.action,e.data?.item);break;case"bulkAction":this.handleBulkAction(e.data?.action,e.data?.items);break;case"pageChange":this.handlePageChange(e.data?.page,e.data?.pageSize);break;case"pageSizeChange":this.handlePageSizeChange(e.data?.pageSize);break;case"sort":this.handleSort(e.data?.sortField,e.data?.sortDirection);break;case"search":this.handleSearch(e.data?.searchTerm);break;case"filter":this.handleFilter(e.data?.filters);break;case"clearFilters":this.handleClearFilters();break}}handleHeaderAction(e){switch(e){case"add":this.router.navigate(["/patients/new"]);break;case"import":this.openImportDialog();break;case"export":this.exportPatients();break}}handleRowAction(e,a){switch(e){case"view":this.router.navigate(["/patients",a.id,"view"]);break;case"edit":this.router.navigate(["/patients",a.id,"edit"]);break;case"history":this.router.navigate(["/patients",a.id,"history"]);break;case"delete":this.selectedPatient=a,this.showDeleteModal=!0;break}}handleBulkAction(e,a){switch(e){case"activate":this.activatePatients(a);break;case"deactivate":this.deactivatePatients(a);break;case"delete-bulk":this.deletePatientsInBulk(a);break}}handlePageChange(e,a){console.log(`Changing to page ${e} with size ${a}`)}handlePageSizeChange(e){console.log(`Changing page size to ${e}`)}handleSort(e,a){console.log(`Sorting by ${e} ${a}`)}handleSearch(e){console.log(`Searching for: ${e}`)}handleFilter(e){console.log("Applying filters:",e)}handleClearFilters(){console.log("Clearing all filters")}onRowClick(e){console.log("Row clicked:",e),this.router.navigate(["/patients",e.id,"view"])}onSelectionChange(e){this.selectedItems=e,console.log("Selection changed:",e)}openImportDialog(){console.log("Opening import dialog")}exportPatients(){console.log("Exporting patients")}activatePatients(e){console.log("Activating patients:",e)}deactivatePatients(e){console.log("Deactivating patients:",e)}deletePatientsInBulk(e){console.log("Deleting patients in bulk:",e)}confirmDelete(){this.selectedPatient&&(console.log("Deleting patient:",this.selectedPatient),this.showDeleteModal=!1,this.selectedPatient=null)}cancelDelete(){this.showDeleteModal=!1,this.selectedPatient=null}static \u0275fac=function(a){return new(a||c)};static \u0275cmp=u({type:c,selectors:[["app-patient-list"]],decls:24,vars:12,consts:[[1,"container","mx-auto","p-6"],[1,"mb-6"],[1,"text-3xl","font-bold","text-base-content"],[1,"text-base-content/70","mt-2"],["idField","id",3,"tableEvent","rowClick","selectionChange","config","tableData","allowMultiSelect","allowSearch","allowFilters","rowActions","headerActions","bulkActions","loading"],["id","delete_modal",1,"modal"],[1,"modal-box"],[1,"font-bold","text-lg"],[1,"py-4"],[1,"modal-action"],[1,"btn","btn-ghost",3,"click"],[1,"btn","btn-error",3,"click"],["method","dialog",1,"modal-backdrop",3,"click"]],template:function(a,i){a&1&&(t(0,"div",0)(1,"div",1)(2,"h1",2),r(3,"Gest\xE3o de Pacientes"),o(),t(4,"p",3),r(5,"Gerencie todos os pacientes do sistema de homecare"),o()(),t(6,"app-dynamic-table",4),s("tableEvent",function(l){return i.onTableEvent(l)})("rowClick",function(l){return i.onRowClick(l)})("selectionChange",function(l){return i.onSelectionChange(l)}),o(),t(7,"dialog",5)(8,"div",6)(9,"h3",7),r(10,"Confirmar Exclus\xE3o"),o(),t(11,"p",8),r(12,"Tem certeza que deseja excluir o paciente "),t(13,"strong"),r(14),o(),r(15,"?"),o(),t(16,"div",9)(17,"button",10),s("click",function(){return i.cancelDelete()}),r(18,"Cancelar"),o(),t(19,"button",11),s("click",function(){return i.confirmDelete()}),r(20,"Excluir"),o()()(),t(21,"form",12),s("click",function(){return i.cancelDelete()}),t(22,"button"),r(23,"close"),o()()()()),a&2&&(d(6),b("config",i.tableConfig)("tableData",i.tableData)("allowMultiSelect",!0)("allowSearch",!0)("allowFilters",!0)("rowActions",i.rowActions)("headerActions",i.headerActions)("bulkActions",i.bulkActions)("loading",i.loading),d(),h("modal-open",i.showDeleteModal),d(7),f(i.selectedPatient==null?null:i.selectedPatient.nome))},dependencies:[g,q],encapsulation:2})}return c})();export{S as PatientListComponent};
