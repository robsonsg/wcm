import{$ as l,Aa as s,C as a,Ea as d,N as r,V as c,Vc as g,fa as b,n as h,tc as u,v as o}from"./chunk-R5P75FUM.js";var M=(()=>{class n{platformId=b(d);isBrowser=g(this.platformId);MOBILE_BREAKPOINT=768;TABLET_BREAKPOINT=1024;_isMobile=s(!1);_isTablet=s(!1);_screenWidth=s(0);_screenHeight=s(0);_orientation=s("unknown");deviceInfoSubject=new h(this.getInitialDeviceInfo());isMobile=this._isMobile.asReadonly();isTablet=this._isTablet.asReadonly();isDesktop=u(()=>!this._isMobile()&&!this._isTablet());screenWidth=this._screenWidth.asReadonly();screenHeight=this._screenHeight.asReadonly();orientation=this._orientation.asReadonly();deviceInfo$=this.deviceInfoSubject.asObservable();isMobile$=this.deviceInfo$.pipe(o(e=>e.isMobile),r());orientation$=this.deviceInfo$.pipe(o(e=>e.orientation),r());constructor(){this.isBrowser&&(this.initializeDetection(),this.setupEventListeners())}getInitialDeviceInfo(){if(!this.isBrowser)return{isMobile:!1,isTablet:!1,isDesktop:!0,screenWidth:1920,screenHeight:1080,userAgent:"",orientation:"unknown"};let e=window.innerWidth,i=window.innerHeight,t=navigator.userAgent;return{isMobile:this.checkIsMobile(e,t),isTablet:this.checkIsTablet(e,t),isDesktop:this.checkIsDesktop(e,t),screenWidth:e,screenHeight:i,userAgent:t,orientation:this.getOrientation(e,i)}}initializeDetection(){let e=this.getInitialDeviceInfo();this.updateSignals(e),this.deviceInfoSubject.next(e)}setupEventListeners(){a(window,"resize").pipe(c(null),o(()=>this._getCurrentDeviceInfo()),r((e,i)=>e.isMobile===i.isMobile&&e.isTablet===i.isTablet&&e.orientation===i.orientation&&e.screenWidth===i.screenWidth)).subscribe(e=>{this.updateSignals(e),this.deviceInfoSubject.next(e)}),"orientation"in screen&&a(screen.orientation,"change").subscribe(()=>{let e=this._getCurrentDeviceInfo();this.updateSignals(e),this.deviceInfoSubject.next(e)})}updateSignals(e){this._isMobile.set(e.isMobile),this._isTablet.set(e.isTablet),this._screenWidth.set(e.screenWidth),this._screenHeight.set(e.screenHeight),this._orientation.set(e.orientation)}checkIsMobile(e,i){return e<this.MOBILE_BREAKPOINT?!0:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(i)}checkIsTablet(e,i){return e>=this.MOBILE_BREAKPOINT&&e<this.TABLET_BREAKPOINT?!0:/iPad|Android(?!.*Mobile)|Tablet/i.test(i)&&e>=this.MOBILE_BREAKPOINT}checkIsDesktop(e,i){return e>=this.TABLET_BREAKPOINT&&!this.checkIsMobile(e,i)}getOrientation(e,i){return this.isBrowser?screen.orientation?screen.orientation.angle===0||screen.orientation.angle===180?"portrait":"landscape":e>i?"landscape":"portrait":"unknown"}getDeviceType(){return this._isMobile()?"mobile":this._isTablet()?"tablet":"desktop"}_getCurrentDeviceInfo(){if(!this.isBrowser)return this.getInitialDeviceInfo();let e=window.innerWidth,i=window.innerHeight,t=navigator.userAgent;return{isMobile:this.checkIsMobile(e,t),isTablet:this.checkIsTablet(e,t),isDesktop:this.checkIsDesktop(e,t),screenWidth:e,screenHeight:i,userAgent:t,orientation:this.getOrientation(e,i)}}getCurrentDeviceInfo(){return{isMobile:this._isMobile(),isTablet:this._isTablet(),isDesktop:this.isDesktop(),screenWidth:this._screenWidth(),screenHeight:this._screenHeight(),userAgent:this.isBrowser?navigator.userAgent:"",orientation:this._orientation()}}isBreakpoint(e){let i={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};return this._screenWidth()>=i[e]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=l({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();export{M as a};
