import{a as P}from"./chunk-UMW3BAWJ.js";import"./chunk-KDFTUTX5.js";import{f as v}from"./chunk-JMGSQSON.js";import"./chunk-5267M4YT.js";import{a as q}from"./chunk-C7X2E2OY.js";import"./chunk-EUYLE5IP.js";import{w as T}from"./chunk-RLCM72IK.js";import{Ca as d,Ib as s,Ra as p,Vb as r,Wb as g,ab as b,g as u,ga as m,ob as h,qb as f,xb as o,yb as t}from"./chunk-27GLVKKX.js";var C=[{id:"1",username:"admin.geral",fullName:"Administrador do Sistema",email:"admin@homecare.com",phone:"(11) 91111-1111",profileId:"1",active:!0,lastLogin:"2025-06-24T08:30:00"},{id:"2",username:"ana.supervisor",fullName:"Ana Paula Supervisora",email:"ana.supervisor@homecare.com",phone:"(11) 92222-2222",profileId:"2",active:!0,lastLogin:"2025-06-24T07:45:00"},{id:"3",username:"carlos.agenda",fullName:"Carlos Operador de Agenda",email:"carlos.agenda@homecare.com",phone:"(11) 93333-3333",profileId:"3",active:!0,lastLogin:"2025-06-23T16:20:00"},{id:"4",username:"maria.relatorios",fullName:"Maria Analista de Relat\xF3rios",email:"maria.relatorios@homecare.com",phone:"(11) 94444-4444",profileId:"4",active:!1,lastLogin:"2025-06-20T14:15:00"}],y={id:"patient-homecare",titulo:"Cadastro de Paciente - Homecare",descricao:"Formul\xE1rio para cadastro de pacientes em atendimento domiciliar",campos:[{id:"container-dados-pessoais",description:"Container para dados pessoais do paciente",id_hl7fhir:"Patient",label:"Dados Pessoais",elementType:"container",containerType:"fieldset",qtdLinha:1,qtdColuna:12,breakpoint:"both",requerido:"nao",habilitado:"sempre",apareceForm:!0,apareceTable:!1,alinhamento:"left",sequenciaForm:1},{id:"fullName",description:"Nome completo do paciente",id_hl7fhir:"Patient.name",label:"Nome Completo",labelTable:"Nome",elementType:"field",fieldType:"text",qtdLinha:1,qtdColuna:6,breakpoint:"both",requerido:"sim",habilitado:"incluir_alterar",apareceForm:!0,apareceTable:!0,containerParent:"container-dados-pessoais",alinhamento:"left",sequenciaForm:2,sequenciaTable:1,validacoes:[{tipo:"required",mensagem:"Nome completo \xE9 obrigat\xF3rio"},{tipo:"minLength",valor:3,mensagem:"Nome deve ter pelo menos 3 caracteres"}]},{id:"gender",description:"G\xEAnero do paciente",id_hl7fhir:"Patient.gender",label:"G\xEAnero",elementType:"field",fieldType:"select",qtdLinha:1,qtdColuna:3,breakpoint:"both",requerido:"sim",habilitado:"incluir_alterar",apareceForm:!0,apareceTable:!0,containerParent:"container-dados-pessoais",alinhamento:"left",sequenciaForm:3,sequenciaTable:2,opcoes:[{valor:"",texto:"Selecione"},{valor:"male",texto:"Masculino"},{valor:"female",texto:"Feminino"},{valor:"other",texto:"Outro"},{valor:"unknown",texto:"N\xE3o informado"}],validacoes:[{tipo:"required",mensagem:"G\xEAnero \xE9 obrigat\xF3rio"}]},{id:"birthDate",description:"Data de nascimento do paciente",id_hl7fhir:"Patient.birthDate",label:"Data de Nascimento",labelTable:"Nascimento",elementType:"field",fieldType:"date",qtdLinha:1,qtdColuna:3,breakpoint:"both",requerido:"sim",habilitado:"incluir_alterar",apareceForm:!0,apareceTable:!0,containerParent:"container-dados-pessoais",alinhamento:"left",sequenciaForm:4,sequenciaTable:3,validacoes:[{tipo:"required",mensagem:"Data de nascimento \xE9 obrigat\xF3ria"}]},{id:"phone",description:"Telefone do paciente",id_hl7fhir:"Patient.telecom",label:"Telefone",elementType:"field",fieldType:"tel",qtdLinha:1,qtdColuna:3,breakpoint:"both",requerido:"nao",habilitado:"incluir_alterar",apareceForm:!0,apareceTable:!0,containerParent:"container-dados-pessoais",alinhamento:"left",sequenciaForm:5,sequenciaTable:4,mascara:"(99) 99999-9999",tooltip:"Formato: (11) 99999-9999"},{id:"email",description:"Email do paciente",id_hl7fhir:"Patient.telecom",label:"Email",elementType:"field",fieldType:"email",qtdLinha:1,qtdColuna:3,breakpoint:"both",requerido:"nao",habilitado:"incluir_alterar",apareceForm:!0,apareceTable:!1,containerParent:"container-dados-pessoais",alinhamento:"left",sequenciaForm:6,validacoes:[{tipo:"email",mensagem:"Email deve ter formato v\xE1lido"}]},{id:"container-info-clinicas",description:"Container para informa\xE7\xF5es cl\xEDnicas",id_hl7fhir:"Patient",label:"Informa\xE7\xF5es Cl\xEDnicas",elementType:"container",containerType:"fieldset",qtdLinha:1,qtdColuna:12,breakpoint:"both",requerido:"nao",habilitado:"sempre",apareceForm:!0,apareceTable:!1,alinhamento:"left",sequenciaForm:7},{id:"primaryDiagnosis",description:"Diagn\xF3stico principal do paciente",id_hl7fhir:"Patient.extension",label:"Diagn\xF3stico Principal",labelTable:"Diagn\xF3stico",elementType:"field",fieldType:"text",qtdLinha:1,qtdColuna:6,breakpoint:"both",requerido:"condicional",condicaoRequerido:{campo:"patientType",valor:"homecare",operador:"="},habilitado:"incluir_alterar",apareceForm:!0,apareceTable:!0,containerParent:"container-info-clinicas",alinhamento:"left",sequenciaForm:8,sequenciaTable:5,tooltip:"Diagn\xF3stico principal para atendimento domiciliar"},{id:"attendingPhysician",description:"M\xE9dico respons\xE1vel pelo paciente",id_hl7fhir:"Patient.generalPractitioner",label:"M\xE9dico Respons\xE1vel",elementType:"field",fieldType:"text",qtdLinha:1,qtdColuna:6,breakpoint:"both",requerido:"sim",habilitado:"incluir_alterar",apareceForm:!0,apareceTable:!1,containerParent:"container-info-clinicas",alinhamento:"left",sequenciaForm:9,modalBusca:{titulo:"Selecionar M\xE9dico",endpoint:"/api/physicians",campos:["name","crm","specialty"],campoRetorno:"name"}},{id:"active",description:"Status ativo do paciente",id_hl7fhir:"Patient.active",label:"Paciente Ativo",elementType:"field",fieldType:"checkbox",qtdLinha:1,qtdColuna:2,breakpoint:"both",requerido:"nao",habilitado:"sempre",apareceForm:!0,apareceTable:!0,containerParent:"container-info-clinicas",alinhamento:"left",sequenciaForm:10,sequenciaTable:6,conteudoInicial:!0}],acoes:{incluir:!0,alterar:!0,excluir:!0,visualizar:!0,customizadas:[{nome:"Hist\xF3rico M\xE9dico",icone:"medical-history",classe:"btn-info",funcao:"openMedicalHistory"},{nome:"Agendar Visita",icone:"calendar",classe:"btn-success",funcao:"scheduleVisit"}]},paginacao:{tamanho:10,opcoesTamanho:[5,10,25,50]}};var E=(()=>{class c{router=m(v);modalService=m(q);tableConfig=y;tableData=d({items:C,totalItems:3,currentPage:1,pageSize:25,totalPages:1});headerActions=[{id:"add",label:"Novo Paciente",icon:"add",class:"btn-primary",tooltip:"Cadastrar novo paciente"},{id:"import",label:"Importar",icon:"upload",class:"btn-outline",tooltip:"Importar dados de pacientes"},{id:"export",label:"Exportar",icon:"download",class:"btn-outline",tooltip:"Exportar lista de pacientes"}];rowActions=[{id:"view",label:"Visualizar",icon:"view",tooltip:"Ver detalhes do paciente"},{id:"edit",label:"Editar",icon:"edit",tooltip:"Editar informa\xE7\xF5es do paciente"},{id:"history",label:"Hist\xF3rico",icon:"history",tooltip:"Ver hist\xF3rico de atendimentos"},{id:"delete",label:"Excluir",icon:"delete",class:"text-error",tooltip:"Excluir paciente",condition:e=>e.status!=="ativo"}];bulkActions=[{id:"activate",label:"Ativar Selecionados",class:"btn-success"},{id:"deactivate",label:"Desativar Selecionados",class:"btn-warning"},{id:"delete-bulk",label:"Excluir Selecionados",class:"btn-error"}];loading=d(!1);showDeleteModal=!1;selectedPatient=null;selectedItems=[];ngOnInit(){this.loadPatients()}loadPatients(){this.loading.set(!0),setTimeout(()=>{this.loading.set(!1)},1e3)}onTableEvent(e){return u(this,null,function*(){switch(console.log("(1)Table Event:",e),e.action){case"headerAction":this.handleHeaderAction(e.data?.action);break;case"rowAction":this.handleRowAction(e.data?.action,e.data?.item);break;case"bulkAction":this.handleBulkAction(e.data?.action,e.data?.items);break;case"pageChange":this.handlePageChange(e.data?.page,e.data?.pageSize);break;case"pageSizeChange":this.handlePageSizeChange(e.data?.pageSize);break;case"sort":this.handleSort(e.data?.sortField,e.data?.sortDirection);break;case"search":this.handleSearch(e.data?.searchTerm);break;case"filter":this.handleFilter(e.data?.filters);break;case"clearFilters":this.handleClearFilters();break;case"history":alert("ser\xE1 apresentado o hist\xF3rico do paciente");break;default:e.action,this.handleModal(e.item,{mode:e.action});break}})}getHeaderTitle(e){switch(e){case"view":return"Visualizando Paciente";case"add":return"Adicionando Paciente";case"edit":return"Editando Paciente";default:return"Paciente"}}handleModal(e,a){let i=this.getHeaderTitle(a.mode),n=this.modalService.open({header:i,modalId:"patient-modal",minWidth:"600px",maxWidth:"800px",backdropClose:!0,debugConsole:!1,componentName:"DynamicForm",componentInputs:{config:this.tableConfig,initialData:e,formMode:d(a),onConfirm:l=>{console.log("Dados confirmados:",l)},onCancel:()=>{console.log("Opera\xE7\xE3o cancelada"),this.modalService.close(n)}}})}handleHeaderAction(e){switch(console.log("Executando headerAction:",e),e){case"add":this.router.navigate(["/patients/new"]);break;case"import":this.openImportDialog();break;case"export":this.exportPatients();break}}handleRowAction(e,a){switch(console.log("Executando rowAction:",e,"para item:",a),e){case"view":this.router.navigate(["/patients",a.id,"view"]);break;case"edit":this.router.navigate(["/patients",a.id,"edit"]);break;case"history":this.router.navigate(["/patients",a.id,"history"]);break;case"delete":this.selectedPatient=a,this.showDeleteModal=!0;break}}handleBulkAction(e,a){switch(e){case"activate":this.activatePatients(a);break;case"deactivate":this.deactivatePatients(a);break;case"delete-bulk":this.deletePatientsInBulk(a);break}}handlePageChange(e,a){console.log(`Changing to page ${e} with size ${a}`)}handlePageSizeChange(e){console.log(`Changing page size to ${e}`)}handleSort(e,a){console.log(`Sorting by ${e} ${a}`)}handleSearch(e){console.log(`Searching for: ${e}`)}handleFilter(e){console.log("Applying filters:",e)}handleClearFilters(){console.log("Clearing all filters")}onRowClick(e){console.log("Row clicked:",e),this.handleModal(e,{mode:"view"})}onSelectionChange(e){this.selectedItems=e,console.log("Selection changed:",e)}openImportDialog(){console.log("Opening import dialog")}exportPatients(){console.log("Exporting patients")}activatePatients(e){console.log("Activating patients:",e)}deactivatePatients(e){console.log("Deactivating patients:",e)}deletePatientsInBulk(e){console.log("Deleting patients in bulk:",e)}confirmDelete(){this.selectedPatient&&(console.log("Deleting patient:",this.selectedPatient),this.showDeleteModal=!1,this.selectedPatient=null)}cancelDelete(){this.showDeleteModal=!1,this.selectedPatient=null}static \u0275fac=function(a){return new(a||c)};static \u0275cmp=b({type:c,selectors:[["app-patient-list"]],decls:24,vars:12,consts:[[1,"container","mx-auto","p-6"],[1,"mb-6"],[1,"text-3xl","font-bold","text-base-content"],[1,"text-base-content/70","mt-2"],["idField","id",3,"tableEvent","rowClick","selectionChange","config","tableData","allowMultiSelect","allowSearch","allowFilters","rowActions","headerActions","bulkActions","loading"],["id","delete_modal",1,"modal"],[1,"modal-box"],[1,"font-bold","text-lg"],[1,"py-4"],[1,"modal-action"],[1,"btn","btn-ghost",3,"click"],[1,"btn","btn-error",3,"click"],["method","dialog",1,"modal-backdrop",3,"click"]],template:function(a,i){a&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),r(3,"Gest\xE3o de Pacientes"),t(),o(4,"p",3),r(5,"Gerencie todos os pacientes do sistema de homecare"),t()(),o(6,"app-dynamic-table",4),s("tableEvent",function(l){return i.onTableEvent(l)})("rowClick",function(l){return i.onRowClick(l)})("selectionChange",function(l){return i.onSelectionChange(l)}),t(),o(7,"dialog",5)(8,"div",6)(9,"h3",7),r(10,"Confirmar Exclus\xE3o"),t(),o(11,"p",8),r(12,"Tem certeza que deseja excluir o paciente "),o(13,"strong"),r(14),t(),r(15,"?"),t(),o(16,"div",9)(17,"button",10),s("click",function(){return i.cancelDelete()}),r(18,"Cancelar"),t(),o(19,"button",11),s("click",function(){return i.confirmDelete()}),r(20,"Excluir"),t()()(),o(21,"form",12),s("click",function(){return i.cancelDelete()}),o(22,"button"),r(23,"close"),t()()()()),a&2&&(p(6),h("config",i.tableConfig)("tableData",i.tableData)("allowMultiSelect",!0)("allowSearch",!0)("allowFilters",!0)("rowActions",i.rowActions)("headerActions",i.headerActions)("bulkActions",i.bulkActions)("loading",i.loading),p(),f("modal-open",i.showDeleteModal),p(7),g(i.selectedPatient==null?null:i.selectedPatient.nome))},dependencies:[T,P],encapsulation:2})}return c})();export{E as PatientListComponent};
