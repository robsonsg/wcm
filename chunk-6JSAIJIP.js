import{a as ke}from"./chunk-PYA2RL2R.js";import{a as he}from"./chunk-IP7VHNIT.js";import{b as pe,d as me,e as ue,f as fe,g as ge,h as be,i as xe,l as ve,m as _e,n as we,o as ye,q as Ce}from"./chunk-P5RULU64.js";import{$ as ie,$b as T,Aa as P,Cb as a,Db as s,Eb as X,H as ee,Hc as le,Ib as S,Ic as ce,Jb as g,Kb as p,Pb as L,Qb as A,Rb as W,Sc as de,Tb as c,Va as oe,Vb as ae,Wb as se,Y as te,Za as h,Zb as M,_b as R,a as _,b as Z,ea as ne,fa as G,g as y,gb as re,lb as I,ma as u,na as f,q as Q,tb as x,ub as Y,vb as E}from"./chunk-R5P75FUM.js";var C=class{constructor(l=0,e="Network Error"){this.status=l,this.text=e}};var Ee=()=>{if(!(typeof localStorage>"u"))return{get:o=>Promise.resolve(localStorage.getItem(o)),set:(o,l)=>Promise.resolve(localStorage.setItem(o,l)),remove:o=>Promise.resolve(localStorage.removeItem(o))}};var b={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:Ee()};var D=o=>o?typeof o=="string"?{publicKey:o}:o.toString()==="[object Object]"?o:{}:{};var Se=(o,l="https://api.emailjs.com")=>{if(!o)return;let e=D(o);b.publicKey=e.publicKey,b.blockHeadless=e.blockHeadless,b.storageProvider=e.storageProvider,b.blockList=e.blockList,b.limitRate=e.limitRate,b.origin=e.origin||l};var j=(i,t,...n)=>y(null,[i,t,...n],function*(o,l,e={}){let r=yield fetch(b.origin+o,{method:"POST",headers:e,body:l}),d=yield r.text(),m=new C(r.status,d);if(r.ok)return m;throw m});var z=(o,l,e)=>{if(!o||typeof o!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!l||typeof l!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!e||typeof e!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"};var Me=o=>{if(o&&o.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"};var B=o=>o.webdriver||!o.languages||o.languages.length===0;var H=()=>new C(451,"Unavailable For Headless Browser");var Re=(o,l)=>{if(!Array.isArray(o))throw"The BlockList list has to be an array";if(typeof l!="string")throw"The BlockList watchVariable has to be a string"};var Oe=o=>!o.list?.length||!o.watchVariable,Le=(o,l)=>o instanceof FormData?o.get(l):o[l],U=(o,l)=>{if(Oe(o))return!1;Re(o.list,o.watchVariable);let e=Le(l,o.watchVariable);return typeof e!="string"?!1:o.list.includes(e)};var N=()=>new C(403,"Forbidden");var Te=(o,l)=>{if(typeof o!="number"||o<0)throw"The LimitRate throttle has to be a positive number";if(l&&typeof l!="string")throw"The LimitRate ID has to be a non-empty string"};var Ae=(o,l,e)=>y(null,null,function*(){let i=Number((yield e.get(o))||0);return l-Date.now()+i}),q=(o,l,e)=>y(null,null,function*(){if(!l.throttle||!e)return!1;Te(l.throttle,l.id);let i=l.id||o;return(yield Ae(i,l.throttle,e))>0?!0:(yield e.set(i,Date.now().toString()),!1)});var $=()=>new C(429,"Too Many Requests");var Pe=(o,l,e,i)=>y(null,null,function*(){let t=D(i),n=t.publicKey||b.publicKey,r=t.blockHeadless||b.blockHeadless,d=t.storageProvider||b.storageProvider,m=_(_({},b.blockList),t.blockList),v=_(_({},b.limitRate),t.limitRate);return r&&B(navigator)?Promise.reject(H()):(z(n,o,l),Me(e),e&&U(m,e)?Promise.reject(N()):(yield q(location.pathname,v,d))?Promise.reject($()):j("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:n,service_id:o,template_id:l,template_params:e}),{"Content-type":"application/json"}))});var Fe=o=>{if(!o||o.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"};var We=o=>typeof o=="string"?document.querySelector(o):o,Ie=(o,l,e,i)=>y(null,null,function*(){let t=D(i),n=t.publicKey||b.publicKey,r=t.blockHeadless||b.blockHeadless,d=b.storageProvider||t.storageProvider,m=_(_({},b.blockList),t.blockList),v=_(_({},b.limitRate),t.limitRate);if(r&&B(navigator))return Promise.reject(H());let k=We(e);z(n,o,l),Fe(k);let w=new FormData(k);return U(m,w)?Promise.reject(N()):(yield q(location.pathname,v,d))?Promise.reject($()):(w.append("lib_version","4.4.1"),w.append("service_id",o),w.append("template_id",l),w.append("user_id",n),j("/api/v1.0/email/send-form",w))});var J={init:Se,send:Pe,sendForm:Ie,EmailJSResponseStatus:C};var F=function(o){return o.low="baixa",o.medium="media",o.high="alta",o.critical="critica",o}(F||{}),ai={[F.low]:{color:"#10b981",icon:"\u{1F4A1}",bgColor:"#d1fae5",textColor:"#065f46"},[F.medium]:{color:"#f59e0b",icon:"\u26A0\uFE0F",bgColor:"#fef3c7",textColor:"#92400e"},[F.high]:{color:"#ef4444",icon:"\u{1F6A8}",bgColor:"#fee2e2",textColor:"#991b1b"},[F.critical]:{color:"#dc2626",icon:"\u{1F525}",bgColor:"#fecaca",textColor:"#7f1d1d"}};var De=(()=>{class o{http;config={serviceId:"service_ye8h7qp",templateId:"template_avkyd0f",publicKey:"AE8-s1dpRpxtXUJ94",defaultFrom:"Sistema de Feedback - WebCareManager",defaultReplyTo:"noreply@WebCareManager.com"};constructor(e){this.http=e,this.initializeEmailJS()}initializeEmailJS(){J.init(this.config.publicKey)}configure(e){this.config=_(_({},this.config),e),this.initializeEmailJS()}sendFeedbackReport(e,i,t="Equipe de Suporte"){let n=this.validateReportData(e,i);if(!n.isValid)throw new Error(`Dados inv\xE1lidos: ${n.errors.join(", ")}`);let r=this.buildEmailParams(e,i,t);return Q(J.send(this.config.serviceId,this.config.templateId,r)).pipe(te(d=>console.log("Email enviado com sucesso:",d)),ee(d=>{throw console.error("Erro ao enviar email:",d),d}))}testFeedbackReport(e,i,t="Equipe de Suporte"){let n=this.validateReportData(e,i);if(!n.isValid)throw new Error(`Dados inv\xE1lidos: ${n.errors.join(", ")}`);return this.buildEmailParams(e,i,t)}buildEmailParams(e,i,t){let n=this.generateHtmlContent(e);return{to_email:i,to_name:t,from_name:this.config.defaultFrom,subject:`[${e.severity.toUpperCase()}] ${e.subject}`,html_content:n,reply_to:this.config.defaultReplyTo,user_name:t,user_email:i,message:e.description}}validateReportData(e,i){let t=[];return(!i||!this.isValidEmail(i))&&t.push("E-mail do destinat\xE1rio inv\xE1lido"),(!e.subject||e.subject.trim().length===0)&&t.push("Assunto \xE9 obrigat\xF3rio"),(!e.description||e.description.trim().length===0)&&t.push("Descri\xE7\xE3o \xE9 obrigat\xF3ria"),Object.keys(F).includes(e.severity)||t.push("N\xEDvel de severidade inv\xE1lido"),{isValid:t.length===0,errors:t}}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}generateHtmlContent(e){let i=this.getSeverityColor(e.severity);return`
      <!DOCTYPE html>
      <html lang="pt-BR">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Relat\xF3rio de Feedback</title>
        <style>
          body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 20px; background-color: #f8fafc; }
          .container { max-width: 800px; margin: 0 auto; background: white; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); overflow: hidden; }
          .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; text-align: center; }
          .header h1 { margin: 0; font-size: 28px; font-weight: 600; }
          .severity-badge { display: inline-block; padding: 8px 16px; border-radius: 20px; font-weight: 600; margin-top: 15px; }
          .content { padding: 30px; }
          .section { margin-bottom: 25px; padding: 20px; border-radius: 8px; border-left: 4px solid #e2e8f0; background: #f8fafc; }
          .section h3 { margin-top: 0; color: #2d3748; font-size: 18px; display: flex; align-items: center; gap: 8px; }
          .section p, .section li { color: #4a5568; line-height: 1.6; }
          .details-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 15px; }
          .detail-item { background: white; padding: 15px; border-radius: 6px; border: 1px solid #e2e8f0; }
          .detail-label { font-weight: 600; color: #2d3748; margin-bottom: 5px; }
          .detail-value { color: #4a5568; word-break: break-all; }
          .screenshot-container { text-align: center; margin: 20px 0; }
          .screenshot { max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); }
          .footer { background: #2d3748; color: white; padding: 20px; text-align: center; }
          .timestamp { background: #edf2f7; padding: 15px; border-radius: 6px; margin-top: 20px; text-align: center; color: #4a5568; }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <h1>${this.getSeverityIcon(e.severity)} Relat\xF3rio de Feedback</h1>
            <div class="severity-badge" style="background-color: ${i};">
              Severidade: ${F[e.severity].toUpperCase()}
            </div>
          </div>

          <div class="content">
            <div class="section">
              <h3>\u{1F4CB} Informa\xE7\xF5es Gerais</h3>
              <div class="details-grid">
                <div class="detail-item">
                  <div class="detail-label">Tipo:</div>
                  <div class="detail-value">${e.type||"N\xE3o especificado"}</div>
                </div>
                <div class="detail-item">
                  <div class="detail-label">Assunto:</div>
                  <div class="detail-value">${e.subject}</div>
                </div>
              </div>
            </div>

            <div class="section">
              <h3>\u{1F4DD} Descri\xE7\xE3o</h3>
              <p>${e.description.replace(/\n/g,"<br>")}</p>
            </div>

            ${e.detailsData.finalScreenshot?`
            <div class="section">
              <h3>\u{1F5BC}\uFE0F Screenshot Detalhada</h3>
              <div class="screenshot-container">
                <img src="${e.detailsData.finalScreenshot}" alt="Screenshot detalhada" class="screenshot">
              </div>
            </div>`:""}

            ${e.screenshot?`
            <div class="section">
              <h3>\u{1F4F8} Screenshot Principal</h3>
              <div class="screenshot-container">
                <img src="${e.screenshot}" alt="Screenshot do problema" class="screenshot">
              </div>
            </div>`:""}

            <div class="section">
              <h3>\u{1F527} Detalhes T\xE9cnicos</h3>
              <div class="details-grid">
                <div class="detail-item">
                  <div class="detail-label">URL:</div>
                  <div class="detail-value">${e.detailsData.url}</div>
                </div>
                <div class="detail-item">
                  <div class="detail-label">Resolu\xE7\xE3o da Tela:</div>
                  <div class="detail-value">${e.detailsData.screenResolution}</div>
                </div>
                <div class="detail-item">
                  <div class="detail-label">Navegador:</div>
                  <div class="detail-value">${this.formatBrowserInfo(e.detailsData.browserInfo)}</div>
                </div>
                <div class="detail-item">
                  <div class="detail-label">User Agent:</div>
                  <div class="detail-value">${e.detailsData.userAgent}</div>
                </div>
              </div>
            </div>

            ${e.detailsData.annotations&&e.detailsData.annotations.length>0?`
            <div class="section">
              <h3>\u270F\uFE0F Anota\xE7\xF5es</h3>
              <ul>
                ${e.detailsData.annotations.map(n=>`<li>${JSON.stringify(n)}</li>`).join("")}
              </ul>
            </div>`:""}

            <div class="timestamp">
              <strong>\u{1F4C5} Data e Hora:</strong> ${this.formatTimestamp(e.detailsData.timestamp)}
            </div>
          </div>

          <div class="footer">
            <p>Este relat\xF3rio foi gerado automaticamente pelo Sistema de Feedback Homecare</p>
            <p style="margin: 5px 0 0 0; font-size: 14px; opacity: 0.8;">
              Para responder a este feedback, entre em contato atrav\xE9s dos canais oficiais.
            </p>
          </div>
        </div>
      </body>
      </html>
    `}getSeverityColor(e){return{low:"#10b981",medium:"#f59e0b",high:"#ef4444",critical:"#dc2626"}[e.toLowerCase()]||"#6b7280"}getSeverityIcon(e){return{low:"\u{1F4A1}",medium:"\u26A0\uFE0F",high:"\u{1F6A8}",critical:"\u{1F525}"}[e.toLowerCase()]||"\u{1F4CB}"}formatBrowserInfo(e){return e?`${e.name||"Desconhecido"} ${e.version||""}`:"N\xE3o dispon\xEDvel"}formatTimestamp(e){return new Date(e).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}sendTestEmail(e){let i={type:"Bug Report",severity:"media",subject:"Teste de envio de e-mail",description:"Este \xE9 um e-mail de teste do sistema de feedback.",screenshot:null,detailsData:{finalScreenshot:"",annotations:[],timestamp:new Date().toISOString(),browserInfo:{name:"Chrome",version:"120.0"},screenResolution:"1920x1080",url:window.location.href,userAgent:navigator.userAgent}};return this.sendFeedbackReport(i,e)}sendSimpleEmail(e,i,t){let n={to_email:e,to_name:"Destinat\xE1rio",from_name:"Sistema Homecare",subject:i,message:t,reply_to:"noreply@homecare.com"};return Q(J.send(this.config.serviceId,this.config.templateId,n))}static \u0275fac=function(i){return new(i||o)(ne(he))};static \u0275prov=ie({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var ze=["canvas"],Be=["screenshotImg"],He=["textInput"],Ue=["imageWrapper"];function Ne(o,l){if(o&1){let e=S();a(0,"button",58),g("click",function(){let t=u(e).$implicit,n=p(2);return f(n.selectStrokeColor(t))}),s()}if(o&2){let e=l.$implicit,i=p(2);Y("background-color",e),E("ring",i.selectedStrokeColor()===e)("ring-primary",i.selectedStrokeColor()===e)}}function qe(o,l){if(o&1){let e=S();a(0,"div",45)(1,"input",46),g("change",function(){u(e);let t=p();return f(t.setMode("select"))}),s(),a(2,"div",47),c(3,"Ferramentas de Intera\xE7\xE3o com Imagem"),s(),a(4,"div",48)(5,"div",49)(6,"div",50)(7,"div",51)(8,"h4",52),c(9,"\u{1F3A8} Ferramentas"),s(),a(10,"div",53)(11,"button",54),g("click",function(){u(e);let t=p();return f(t.setMode("select"))}),c(12," \u{1F446} Selecionar "),s(),a(13,"button",54),g("click",function(){u(e);let t=p();return f(t.selectTool("rectangle"))}),c(14," \u2B1C Ret\xE2ngulo "),s(),a(15,"button",54),g("click",function(){u(e);let t=p();return f(t.selectTool("circle"))}),c(16," \u2B55 C\xEDrculo "),s(),a(17,"button",54),g("click",function(){u(e);let t=p();return f(t.selectTool("arrow"))}),c(18," \u27A1\uFE0F Seta "),s(),a(19,"button",54),g("click",function(){u(e);let t=p();return f(t.selectTool("text"))}),c(20," \u{1F4DD} Texto "),s()()(),a(21,"div",51)(22,"h4",52),c(23,"\u{1F3A8} Cores R\xE1pidas"),s(),a(24,"div",50),I(25,Ne,1,6,"button",55),s()()(),a(26,"div",56)(27,"span"),c(28,"Escolha uma das ferramentas acima e desenhe na imagem abaixo"),s(),a(29,"button",57),g("click",function(){u(e);let t=p();return f(t.clearAnnotations())}),c(30,"\u{1F5D1}\uFE0F Limpar Tudo"),s()()()()()}if(o&2){let e=p();h(11),E("btn-active",e.currentMode()==="select"),h(2),E("btn-active",e.selectedTool()==="rectangle"&&e.currentMode()==="draw"),h(2),E("btn-active",e.selectedTool()==="circle"&&e.currentMode()==="draw"),h(2),E("btn-active",e.selectedTool()==="arrow"&&e.currentMode()==="draw"),h(2),E("btn-active",e.selectedTool()==="text"&&e.currentMode()==="draw"),h(6),x("ngForOf",e.availableColors)}}function $e(o,l){if(o&1){let e=S();a(0,"div",76)(1,"label",64),c(2,"Cor do Preenchimento:"),s(),a(3,"input",65),g("change",function(t){u(e);let n=p(3);return f(n.updateElementProperty("fillColor",t))}),s()()}if(o&2){let e=p(3);h(3),x("value",e.selectedElement().fillColor||"#ff0000")}}function Je(o,l){if(o&1){let e=S();a(0,"div",66)(1,"label",72)(2,"input",73),g("change",function(){u(e);let t=p(2);return f(t.updateElementFill())}),s(),a(3,"span",74),c(4,"Preenchimento"),s()(),I(5,$e,4,1,"div",75),s()}if(o&2){let e=p(2);h(2),x("checked",e.selectedElement().hasFill),h(3),x("ngIf",e.selectedElement().hasFill)}}function Ke(o,l){if(o&1){let e=S();a(0,"div",66)(1,"label",64),c(2,"Texto:"),s(),a(3,"input",77),g("input",function(t){u(e);let n=p(2);return f(n.updateElementText(t))}),s()()}if(o&2){let e=p(2);h(3),x("value",e.selectedElement().text)}}function Qe(o,l){if(o&1){let e=S();a(0,"div",59),X(1,"input",60),a(2,"div",47),c(3,"Propriedades do Elemento"),s(),a(4,"div",48)(5,"div",61)(6,"div",62)(7,"div",63)(8,"label",64),c(9,"Cor do Elemento:"),s(),a(10,"input",65),g("change",function(t){u(e);let n=p();return f(n.updateElementProperty("strokeColor",t))}),s()(),a(11,"div",66)(12,"label",64),c(13),s(),a(14,"input",67),g("input",function(t){u(e);let n=p();return f(n.updateElementStrokeWidth(t))}),s()(),a(15,"div",66)(16,"label",64),c(17),s(),a(18,"input",68),g("input",function(t){u(e);let n=p();return f(n.updateElementOpacity(t))}),s()(),I(19,Je,6,2,"div",69)(20,Ke,4,1,"div",69),a(21,"button",70),g("click",function(){u(e);let t=p();return f(t.deleteSelectedElement())}),a(22,"div",71),c(23,"\u274C"),s(),c(24," Excluir Elemento "),s()()()()()}if(o&2){let e=p();h(10),x("value",e.selectedElement().strokeColor),h(3),se("",e.selectedElement().type==="text"?"Tamanho":"Largura",": ",e.selectedElement().strokeWidth,"px"),h(),x("value",e.selectedElement().strokeWidth),h(3),ae("Opacidade: ",(e.selectedElement().opacity*100).toFixed(0),"%"),h(),x("value",e.selectedElement().opacity*100),h(),x("ngIf",e.selectedElement().type!=="arrow"&&e.selectedElement().type!=="text"),h(),x("ngIf",e.selectedElement().type==="text")}}function Ge(o,l){if(o&1){let e=S();a(0,"input",83,3),T("ngModelChange",function(t){u(e);let n=p(2);return R(n.currentText,t)||(n.currentText=t),f(t)}),g("keyup.enter",function(){u(e);let t=p(2);return f(t.confirmText())})("blur",function(){u(e);let t=p(2);return f(t.confirmText())}),s()}if(o&2){let e=p(2);Y("left",e.textInputPosition().x,"px")("top",e.textInputPosition().y,"px")("width","200 px"),M("ngModel",e.currentText)}}function Ye(o,l){if(o&1){let e=S();a(0,"div",78)(1,"div",79,0)(3,"img",80,1),g("load",function(){u(e);let t=p();return f(t.onImageLoad())}),s(),a(5,"canvas",81,2),g("mousedown",function(t){u(e);let n=p();return f(n.onCanvasMouseDown(t))})("mousemove",function(t){u(e);let n=p();return f(n.onCanvasMouseMove(t))})("mouseup",function(t){u(e);let n=p();return f(n.onCanvasMouseUp(t))})("click",function(t){u(e);let n=p();return f(n.onCanvasClick(t))}),s(),I(7,Ge,2,7,"input",82),s()()}if(o&2){let e=p();h(3),x("src",e.screenshotDataUrl,oe),h(2),E("cursor-crosshair",e.currentMode()==="draw")("cursor-pointer",e.currentMode()==="select"),x("width",e.canvasSize.width)("height",e.canvasSize.height),h(2),x("ngIf",e.showTextInput())}}function Xe(o,l){o&1&&(a(0,"span"),c(1,"Enviar Reporte"),s())}function Ze(o,l){o&1&&X(0,"span",84)}var Si=(()=>{class o{canvasRef;screenshotImgRef;textInputRef;imageWrapperRef;screenshotDataUrl=null;onConfirm;onCancel;closeModal;toast=G(ke);selectedTool=P("rectangle");selectedStrokeColor=P("#ff0000");showTextInput=P(!1);textInputPosition=P({x:0,y:0});canvasSize={width:0,height:0};isSubmitting=!1;emailService=G(De);isLoading=!1;statusMessage="";statusType="info";currentMode=P("draw");selectedElement=P(null);ctx;isDrawing=!1;isDragging=!1;isResizing=!1;startX=0;startY=0;dragStartX=0;dragStartY=0;annotations=[];currentAnnotation=null;resizeHandle=null;selectedFillColor=P("#ef444450");availableColors=["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#ff8800","#8800ff"];severity="low";feedbackReport={type:"",severity:this.severity,subject:"",description:"",screenshot:this.screenshotDataUrl};currentText="";strokeWidth=3;opacity=1;fillEnabled=!1;ngOnInit(){}ngAfterViewInit(){setTimeout(()=>{this.canvasRef&&(this.ctx=this.canvasRef.nativeElement.getContext("2d"))},100)}onImageLoad(){if(this.screenshotImgRef&&this.canvasRef){let e=this.screenshotImgRef.nativeElement,i=this.canvasRef.nativeElement;setTimeout(()=>{this.canvasSize={width:e.clientWidth,height:e.clientHeight},i.width=e.clientWidth,i.height=e.clientHeight,this.ctx=i.getContext("2d"),this.redrawCanvas()},50)}}setMode(e){this.currentMode.set(e),e==="select"?this.showTextInput.set(!1):this.selectedElement.set(null),this.redrawCanvas()}selectTool(e){this.selectedTool.set(e),this.currentMode.set("draw"),this.selectedElement.set(null),this.showTextInput.set(!1),this.redrawCanvas()}selectStrokeColor(e){this.selectedStrokeColor.set(e),this.selectedElement()&&this.updateElementProperty("strokeColor",{target:{value:e}})}onCanvasMouseDown(e){let i=this.canvasRef.nativeElement.getBoundingClientRect(),t=e.clientX-i.left,n=e.clientY-i.top;this.currentMode()==="select"?this.handleSelectMouseDown(t,n):this.handleDrawMouseDown(t,n)}onCanvasMouseMove(e){let i=this.canvasRef.nativeElement.getBoundingClientRect(),t=e.clientX-i.left,n=e.clientY-i.top;this.currentMode()==="select"?this.handleSelectMouseMove(t,n):this.handleDrawMouseMove(t,n)}onCanvasMouseUp(e){this.currentMode()==="select"?this.handleSelectMouseUp():this.handleDrawMouseUp()}onCanvasClick(e){this.selectedTool()==="text"&&this.currentMode()==="draw"&&this.addText(e)}handleSelectMouseDown(e,i){if(this.selectedElement()){let n=this.getResizeHandle(e,i,this.selectedElement());if(n){this.isResizing=!0,this.resizeHandle=n,this.startX=e,this.startY=i;return}}let t=this.getElementAt(e,i);t?(this.selectedElement.set(t),this.isDragging=!0,this.dragStartX=e-t.x,this.dragStartY=i-t.y):this.selectedElement.set(null),this.redrawCanvas()}handleSelectMouseMove(e,i){if(this.isResizing&&this.selectedElement()&&this.resizeHandle)this.resizeElement(e,i);else if(this.isDragging&&this.selectedElement()){let t=this.selectedElement();if(t.x=e-this.dragStartX,t.y=i-this.dragStartY,t.type==="arrow"&&t.endX!==void 0&&t.endY!==void 0){let n=e-this.dragStartX-t.x,r=i-this.dragStartY-t.y;t.endX+=n,t.endY+=r}this.redrawCanvas()}}handleSelectMouseUp(){this.isDragging=!1,this.isResizing=!1,this.resizeHandle=null}handleDrawMouseDown(e,i){this.selectedTool()!=="text"&&(this.startX=e,this.startY=i,this.isDrawing=!0,this.currentAnnotation={type:this.selectedTool(),x:this.startX,y:this.startY,strokeColor:this.selectedStrokeColor(),fillColor:this.selectedStrokeColor(),strokeWidth:3,opacity:1,hasFill:!1,id:Date.now().toString(),filled:!1})}handleDrawMouseMove(e,i){!this.isDrawing||!this.currentAnnotation||!this.ctx||(this.ctx.clearRect(0,0,this.canvasSize.width,this.canvasSize.height),this.redrawAnnotations(),this.drawElement(this.currentAnnotation,this.startX,this.startY,e,i,!0))}handleDrawMouseUp(){!this.isDrawing||!this.currentAnnotation||(this.isDrawing=!1,this.annotations.push(this.currentAnnotation),this.currentAnnotation=null)}drawElement(e,i,t,n,r,d=!1){this.ctx.globalAlpha=e.opacity,this.ctx.strokeStyle=e.strokeColor,this.ctx.lineWidth=e.strokeWidth,this.ctx.setLineDash([]);let m=i??e.x,v=t??e.y;switch(e.type){case"rectangle":let k=d?n-i:e.width,w=d?r-t:e.height;e.hasFill&&e.fillColor&&(this.ctx.fillStyle=e.fillColor,this.ctx.fillRect(m,v,k,w)),this.ctx.strokeRect(m,v,k,w),d&&(e.width=k,e.height=w);break;case"circle":let V=d?Math.sqrt(Math.pow(n-i,2)+Math.pow(r-t,2)):e.width/2;this.ctx.beginPath(),this.ctx.arc(m,v,V,0,2*Math.PI),e.hasFill&&e.fillColor&&(this.ctx.fillStyle=e.fillColor,this.ctx.fill()),this.ctx.stroke(),d&&(e.width=V*2,e.height=V*2);break;case"arrow":let K=d?n:e.endX,O=d?r:e.endY;this.drawArrow(m,v,K,O),d&&(e.endX=K,e.endY=O);break;case"text":this.ctx.fillStyle=e.strokeColor,this.ctx.font=`${e.strokeWidth*6}px Arial`,this.ctx.fillText(e.text,m,v);break}this.ctx.globalAlpha=1}drawArrow(e,i,t,n){let d=Math.atan2(n-i,t-e);this.ctx.beginPath(),this.ctx.moveTo(e,i),this.ctx.lineTo(t,n),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(t,n),this.ctx.lineTo(t-15*Math.cos(d-Math.PI/6),n-15*Math.sin(d-Math.PI/6)),this.ctx.moveTo(t,n),this.ctx.lineTo(t-15*Math.cos(d+Math.PI/6),n-15*Math.sin(d+Math.PI/6)),this.ctx.stroke()}redrawCanvas(){this.ctx&&(this.ctx.clearRect(0,0,this.canvasSize.width,this.canvasSize.height),this.redrawAnnotations(),this.selectedElement()&&this.currentMode()==="select"&&this.drawSelectionHandles(this.selectedElement()))}redrawAnnotations(){this.annotations.forEach(e=>{this.drawElement(e)})}drawSelectionHandles(e){let i=this.getSelectionHandles(e);this.ctx.fillStyle="#1890ff",this.ctx.strokeStyle="#ffffff",this.ctx.lineWidth=2,Object.values(i).forEach(t=>{this.ctx.fillRect(t.x-4,t.y-4,8,8),this.ctx.strokeRect(t.x-4,t.y-4,8,8)})}updateSelectedElement(){let e=this.selectedElement();e&&(e.strokeColor=this.selectedStrokeColor(),e.fillColor=this.fillEnabled?this.selectedFillColor():void 0,e.filled=this.fillEnabled,e.opacity=this.opacity,e.strokeWidth=this.strokeWidth,this.redrawAnnotations())}getSelectionHandles(e){let i=this.getElementBounds(e);return{topLeft:{x:i.x,y:i.y},topRight:{x:i.x+i.width,y:i.y},bottomLeft:{x:i.x,y:i.y+i.height},bottomRight:{x:i.x+i.width,y:i.y+i.height},center:{x:i.x+i.width/2,y:i.y+i.height/2}}}getElementBounds(e){switch(e.type){case"rectangle":return{x:Math.min(e.x,e.x+e.width),y:Math.min(e.y,e.y+e.height),width:Math.abs(e.width),height:Math.abs(e.height)};case"circle":let i=e.width/2;return{x:e.x-i,y:e.y-i,width:e.width,height:e.height};case"arrow":return{x:Math.min(e.x,e.endX),y:Math.min(e.y,e.endY),width:Math.abs(e.endX-e.x),height:Math.abs(e.endY-e.y)};case"text":return{x:e.x,y:e.y-20,width:(e.text?.length||0)*12,height:24};default:return{x:0,y:0,width:0,height:0}}}getElementAt(e,i){for(let t=this.annotations.length-1;t>=0;t--){let n=this.annotations[t];if(this.isPointInElement(e,i,n))return n}return null}isPointInElement(e,i,t){switch(t.type){case"rectangle":return e>=t.x&&e<=t.x+t.width&&i>=t.y&&i<=t.y+t.height;case"circle":let n=t.width/2;return(e-t.x)*(e-t.x)+(i-t.y)*(i-t.y)<=n*n;case"arrow":return this.isPointInArrow(e,i,t);case"text":return e>=t.x&&e<=t.x+(t.text?.length||0)*12&&i>=t.y-20&&i<=t.y;default:return!1}}isPointInArrow(e,i,t){let r=t.x,d=t.y,m=t.endX,v=t.endY,k=v-d,w=r-m,V=m*d-r*v;if(Math.abs(k*e+w*i+V)/Math.sqrt(k*k+w*w)<=10){let O=(e-r)*(m-r)+(i-d)*(v-d),Ve=(m-r)*(m-r)+(v-d)*(v-d);return O>=0&&O<=Ve}return!1}getResizeHandle(e,i,t){let n=this.getSelectionHandles(t),r=8;for(let[d,m]of Object.entries(n))if(e>=m.x-r/2&&e<=m.x+r/2&&i>=m.y-r/2&&i<=m.y+r/2)return d;return null}resizeElement(e,i){let t=this.selectedElement(),n=e-this.startX,r=i-this.startY;switch(this.resizeHandle){case"topLeft":this.resizeFromTopLeft(t,n,r);break;case"topRight":this.resizeFromTopRight(t,n,r);break;case"bottomLeft":this.resizeFromBottomLeft(t,n,r);break;case"bottomRight":this.resizeFromBottomRight(t,n,r);break}this.redrawCanvas()}resizeFromTopLeft(e,i,t){switch(e.type){case"rectangle":e.x+=i,e.y+=t,e.width=Math.max(10,e.width-i),e.height=Math.max(10,e.height-t);break;case"circle":let n=Math.max(5,e.width/2-Math.max(i,t));e.width=n*2,e.height=n*2;break}this.startX+=i,this.startY+=t}resizeFromTopRight(e,i,t){switch(e.type){case"rectangle":e.y+=t,e.width=Math.max(10,e.width+i),e.height=Math.max(10,e.height-t);break;case"circle":let n=Math.max(5,e.width/2+Math.max(i,-t));e.width=n*2,e.height=n*2;break}this.startX+=i,this.startY+=t}resizeFromBottomLeft(e,i,t){switch(e.type){case"rectangle":e.x+=i,e.width=Math.max(10,e.width-i),e.height=Math.max(10,e.height+t);break;case"circle":let n=Math.max(5,e.width/2+Math.max(-i,t));e.width=n*2,e.height=n*2;break}this.startX+=i,this.startY+=t}resizeFromBottomRight(e,i,t){switch(e.type){case"rectangle":e.width=Math.max(10,e.width+i),e.height=Math.max(10,e.height+t);break;case"circle":let n=Math.max(5,e.width/2+Math.max(i,t));e.width=n*2,e.height=n*2;break}this.startX+=i,this.startY+=t}addText(e){let i=this.canvasRef.nativeElement.getBoundingClientRect(),t=e.clientX-i.left,n=e.clientY-i.top;this.textInputPosition.set({x:t,y:n}),this.showTextInput.set(!0),this.currentText="",setTimeout(()=>{this.textInputRef&&this.textInputRef.nativeElement.focus()},100)}confirmText(){if(this.currentText.trim()){let e={type:"text",x:this.textInputPosition().x,y:this.textInputPosition().y,text:this.currentText.trim(),strokeColor:this.selectedStrokeColor(),strokeWidth:3,opacity:1,hasFill:!1,id:Date.now().toString(),filled:!1};this.annotations.push(e),this.redrawCanvas()}this.showTextInput.set(!1),this.currentText=""}clearAnnotations(){this.annotations=[],this.selectedElement.set(null),this.redrawCanvas()}deleteSelectedElement(){let e=this.selectedElement();if(e){let i=this.annotations.findIndex(t=>t.id===e.id);i!==-1&&(this.annotations.splice(i,1),this.selectedElement.set(null),this.redrawCanvas())}}updateElementProperty(e,i){let t=this.selectedElement();t&&(t[e]=i.target.value,this.redrawCanvas())}updateElementStrokeWidth(e){let i=e.target,t=Number(i.value),n=this.selectedElement();n&&(n.strokeWidth=t,this.redrawCanvas())}updateElementOpacity(e){let i=e.target,t=Number(i.value),n=this.selectedElement();n&&(n.opacity=t/100,this.redrawCanvas())}updateElementFill(){let e=this.selectedElement();e&&(e.hasFill=!e.hasFill,e.hasFill&&!e.fillColor&&(e.fillColor=e.strokeColor),this.redrawCanvas())}updateElementText(e){let i=this.selectedElement();i&&i.type==="text"&&(i.text=e.target.value,this.redrawCanvas())}generateFinalScreenshot(){return y(this,null,function*(){try{let e=document.createElement("canvas"),i=e.getContext("2d");e.width=this.canvasSize.width,e.height=this.canvasSize.height;let t=this.screenshotImgRef.nativeElement;return i.drawImage(t,0,0,e.width,e.height),this.annotations.forEach(n=>{this.drawElementOnContext(i,n)}),e.toDataURL("image/png")}catch(e){return console.error("Erro ao gerar screenshot final:",e),this.screenshotDataUrl||""}})}drawElementOnContext(e,i){switch(e.globalAlpha=i.opacity,e.strokeStyle=i.strokeColor,e.lineWidth=i.strokeWidth,e.setLineDash([]),i.type){case"rectangle":i.hasFill&&i.fillColor&&(e.fillStyle=i.fillColor,e.fillRect(i.x,i.y,i.width,i.height)),e.strokeRect(i.x,i.y,i.width,i.height);break;case"circle":let t=i.width/2;e.beginPath(),e.arc(i.x,i.y,t,0,2*Math.PI),i.hasFill&&i.fillColor&&(e.fillStyle=i.fillColor,e.fill()),e.stroke();break;case"arrow":this.drawArrowOnContext(e,i.x,i.y,i.endX,i.endY);break;case"text":e.fillStyle=i.strokeColor,e.font=`${i.strokeWidth*6}px Arial`,e.fillText(i.text,i.x,i.y);break}e.globalAlpha=1}drawArrowOnContext(e,i,t,n,r){let m=Math.atan2(r-t,n-i);e.beginPath(),e.moveTo(i,t),e.lineTo(n,r),e.stroke(),e.beginPath(),e.moveTo(n,r),e.lineTo(n-15*Math.cos(m-Math.PI/6),r-15*Math.sin(m-Math.PI/6)),e.moveTo(n,r),e.lineTo(n-15*Math.cos(m+Math.PI/6),r-15*Math.sin(m+Math.PI/6)),e.stroke()}submitFeedbackReport(){return y(this,null,function*(){if(!this.feedbackReport.type||!this.feedbackReport.description||!this.feedbackReport.description){this.toast.showToast("Por favor, preencha todos os campos");return}this.isSubmitting=!0;try{let e=this.annotations.length>0?yield this.generateFinalScreenshot():"",i=Z(_({},this.feedbackReport),{screenshot:this.screenshotDataUrl,detailsData:{finalScreenshot:e,annotations:this.annotations,timestamp:new Date().toISOString(),browserInfo:this.getBrowserInfo(),screenResolution:this.getScreenResolution(),url:window.location.href,userAgent:navigator.userAgent}});console.log("Reporte de Bug:",i);let t="robsonsg@terra.com.br",n="Recipiente Robson Santos Gomes";this.isLoading=!0,this.statusMessage="Enviando e-mail de teste...",this.statusType="info",console.log(i),console.log("TestResult: ",this.emailService.testFeedbackReport(i,t,n))}catch(e){console.error("Erro ao enviar reporte:",e),this.toast.showToast("Erro ao enviar o reporte. Tente novamente.")}finally{this.isSubmitting=!1}})}resetForm(){this.feedbackReport={type:"",severity:this.severity,subject:"",description:"",screenshot:null},this.screenshotDataUrl=null,this.annotations=[],this.selectedElement.set(null),this.currentMode.set("draw"),this.showTextInput.set(!1)}handleCancel(){this.onCancel&&this.onCancel(),console.log("this.closeModal:",this.closeModal),this.closeModal&&this.closeModal()}getBrowserInfo(){let e=navigator.userAgent;return e.includes("Chrome")?"Chrome":e.includes("Firefox")?"Firefox":e.includes("Safari")?"Safari":e.includes("Edge")?"Edge":"Desconhecido"}getScreenResolution(){return`${screen.width}x${screen.height}`}getCurrentDateTime(){return new Date().toLocaleString("pt-BR")}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=re({type:o,selectors:[["app-feedback"]],viewQuery:function(i,t){if(i&1&&(L(ze,5),L(Be,5),L(He,5),L(Ue,5)),i&2){let n;A(n=W())&&(t.canvasRef=n.first),A(n=W())&&(t.screenshotImgRef=n.first),A(n=W())&&(t.textInputRef=n.first),A(n=W())&&(t.imageWrapperRef=n.first)}},inputs:{screenshotDataUrl:"screenshotDataUrl",onConfirm:"onConfirm",onCancel:"onCancel"},decls:67,vars:14,consts:[["imageWrapper",""],["screenshotImg",""],["canvas",""],["textInput",""],[1,"bug-report-container"],["tabindex","0","class","collapse collapse-arrow bg-base-200 rounded-box",4,"ngIf"],["class","collapse collapse-arrow rounded-box properties-panel right-4 shadow-xl absolute z-50 top-20 w-80",4,"ngIf"],["class","screenshot-container",4,"ngIf"],[1,"mt-4","space-y-4"],[1,"form-group","flex","gap-4"],[1,"flex-shrink-0","flex","flex-col"],[1,"label"],[1,"label-text","font-semibold"],["name","type",1,"select","select-bordered","w-48",3,"ngModelChange","ngModel"],["value",""],["value","BUG"],["value","MELHORIA"],["value","AJUSTES"],["value","CORRECAO"],["value","interface"],["value","funcionalidade"],["value","performance"],["value","dados"],["value","outros"],[1,"flex-1"],["name","subject","placeholder","Resumo do problema","required","",1,"input","input-bordered","w-full",3,"ngModelChange","ngModel"],[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"flex","justify-between"],[1,"flex","items-center"],["type","radio","name","severity","value","low",1,"mr-2",3,"ngModelChange","ngModel"],[1,"text-green-600"],["type","radio","name","severity","value","medium",1,"mr-2",3,"ngModelChange","ngModel"],[1,"text-yellow-600"],["type","radio","name","severity","value","high",1,"mr-2",3,"ngModelChange","ngModel"],[1,"text-orange-600"],["type","radio","name","severity","value","critical",1,"mr-2",3,"ngModelChange","ngModel"],[1,"text-red-600"],[1,"form-group"],["name","description","rows","4","placeholder","Descreva detalhadamente o problema encontrado","required","",1,"textarea","textarea-bordered","w-full",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","btn-outline","btn-secondary","mr-2",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[4,"ngIf"],["class","loading loading-spinner loading-sm",4,"ngIf"],["tabindex","0",1,"collapse","collapse-arrow","bg-base-200","rounded-box"],["type","checkbox",3,"change"],[1,"collapse-title","font-semibold"],[1,"collapse-content","p-1"],[1,"tools-panel","flex","flex-col","gap-y-2","p-2","bg-base-200","rounded-xl","shadow-md"],[1,"flex","flex-wrap","gap-2"],[1,"tool-section","w-full","md:w-auto"],[1,"text-lg","font-bold","mb-2"],[1,"join","join-horizontal","bg-base-100"],[1,"btn","btn-sm",3,"click"],["class","w-6 h-6 rounded-full border border-base-content",3,"background-color","ring","ring-primary","click",4,"ngFor","ngForOf"],[1,"flex","justify-between","w-full"],[1,"btn","btn-sm","btn-warning",3,"click"],[1,"w-6","h-6","rounded-full","border","border-base-content",3,"click"],[1,"collapse","collapse-arrow","rounded-box","properties-panel","right-4","shadow-xl","absolute","z-50","top-20","w-80"],["type","checkbox","checked","checked"],[1,"card","bg-base-100","shadow-lg"],[1,"card-body","p-4","space-y-4"],[1,"property-group","flex","flex-row","gap-4"],[1,"label","text-sm","font-medium"],["type","color",1,"input","input-sm","w-16","h-8","p-0","border-0",3,"change","value"],[1,"property-group"],["type","range","min","1","max","10",1,"range","range-sm","w-full",3,"input","value"],["type","range","min","10","max","100",1,"range","range-sm","w-full",3,"input","value"],["class","property-group",4,"ngIf"],[1,"btn","btn-sm","btn-error","w-full","flex","items-center","justify-center","gap-2",3,"click"],[1,"p-1","rounded","bg-current","text-white"],[1,"label","cursor-pointer","justify-start","gap-2"],["type","checkbox",1,"checkbox","checkbox-sm",3,"change","checked"],[1,"label-text","ml-1"],["class","mt-2",4,"ngIf"],[1,"mt-2"],["type","text","placeholder","Digite o texto",1,"input","input-sm","w-full",3,"input","value"],[1,"screenshot-container"],[1,"image-canvas-wrapper"],["alt","Screenshot",1,"screenshot-image",3,"load","src"],[1,"drawing-canvas",3,"mousedown","mousemove","mouseup","click","width","height"],["type","text","class","text-input-overlay input input-sm absolute bg-white border-2 border-primary w-80","placeholder","Digite o texto...",3,"left","top","width","ngModel","ngModelChange","keyup.enter","blur",4,"ngIf"],["type","text","placeholder","Digite o texto...",1,"text-input-overlay","input","input-sm","absolute","bg-white","border-2","border-primary","w-80",3,"ngModelChange","keyup.enter","blur","ngModel"],[1,"loading","loading-spinner","loading-sm"]],template:function(i,t){i&1&&(a(0,"div",4),I(1,qe,31,11,"div",5)(2,Qe,25,8,"div",6)(3,Ye,8,8,"div",7),a(4,"form",8)(5,"div",9)(6,"div",10)(7,"label",11)(8,"span",12),c(9,"Tipo de Feedback"),s()(),a(10,"select",13),T("ngModelChange",function(r){return R(t.feedbackReport.type,r)||(t.feedbackReport.type=r),r}),a(11,"option",14),c(12,"Selecione uma categoria"),s(),a(13,"option",15),c(14,"\u{1F41B} Bug"),s(),a(15,"option",16),c(16,"\u2728 Melhoria"),s(),a(17,"option",17),c(18,"\u{1F527} Ajustes"),s(),a(19,"option",18),c(20,"\u{1F528} Corre\xE7\xE3o"),s(),a(21,"option",19),c(22,"Interface/Visual"),s(),a(23,"option",20),c(24,"Funcionalidade"),s(),a(25,"option",21),c(26,"Performance"),s(),a(27,"option",22),c(28,"Dados/Informa\xE7\xF5es"),s(),a(29,"option",23),c(30,"Outros"),s()()(),a(31,"div",24)(32,"label",11)(33,"span",12),c(34,"Assunto"),s()(),a(35,"input",25),T("ngModelChange",function(r){return R(t.feedbackReport.subject,r)||(t.feedbackReport.subject=r),r}),s()()(),a(36,"div",26)(37,"label",27),c(38," Severidade: "),s(),a(39,"div",28)(40,"label",29)(41,"input",30),T("ngModelChange",function(r){return R(t.feedbackReport.severity,r)||(t.feedbackReport.severity=r),r}),s(),a(42,"span",31),c(43,"Baixa"),s()(),a(44,"label",29)(45,"input",32),T("ngModelChange",function(r){return R(t.feedbackReport.severity,r)||(t.feedbackReport.severity=r),r}),s(),a(46,"span",33),c(47,"M\xE9dia"),s()(),a(48,"label",29)(49,"input",34),T("ngModelChange",function(r){return R(t.feedbackReport.severity,r)||(t.feedbackReport.severity=r),r}),s(),a(50,"span",35),c(51,"Alta"),s()(),a(52,"label",29)(53,"input",36),T("ngModelChange",function(r){return R(t.feedbackReport.severity,r)||(t.feedbackReport.severity=r),r}),s(),a(54,"span",37),c(55,"Cr\xEDtica"),s()()()(),a(56,"div",38)(57,"label",11)(58,"span",12),c(59,"Descri\xE7\xE3o Detalhada"),s()(),a(60,"textarea",39),T("ngModelChange",function(r){return R(t.feedbackReport.description,r)||(t.feedbackReport.description=r),r}),s()(),a(61,"div",40)(62,"button",41),g("click",function(){return t.handleCancel()}),c(63," Cancelar "),s(),a(64,"button",42),g("click",function(){return t.submitFeedbackReport()}),I(65,Xe,2,0,"span",43)(66,Ze,1,0,"span",44),s()()()()),i&2&&(h(),x("ngIf",t.screenshotDataUrl),h(),x("ngIf",t.selectedElement()),h(),x("ngIf",t.screenshotDataUrl),h(7),M("ngModel",t.feedbackReport.type),h(25),M("ngModel",t.feedbackReport.subject),h(6),M("ngModel",t.feedbackReport.severity),h(4),M("ngModel",t.feedbackReport.severity),h(4),M("ngModel",t.feedbackReport.severity),h(4),M("ngModel",t.feedbackReport.severity),h(7),M("ngModel",t.feedbackReport.description),h(4),E("loading",t.isSubmitting),h(),x("ngIf",!t.isSubmitting),h(),x("ngIf",t.isSubmitting))},dependencies:[de,le,ce,Ce,be,_e,we,pe,ve,xe,me,ue,ye,ge,fe],styles:[".bug-report-container[_ngcontent-%COMP%]{margin:0 auto}.tools-panel[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:20px;flex-wrap:wrap;background:#f8f9fa;border-radius:8px}.tool-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;color:#666}.properties-panel[_ngcontent-%COMP%]{margin-bottom:20px}.property-group[_ngcontent-%COMP%]{margin-bottom:12px}.property-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:4px;font-size:12px;color:#666}.color-input[_ngcontent-%COMP%]{width:40px;height:30px;border:none;border-radius:4px;cursor:pointer}.color-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(8,1fr);gap:4px;max-width:200px}.color-btn[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid transparent;border-radius:4px;cursor:pointer;transition:all .2s}.color-btn.selected[_ngcontent-%COMP%]{border-color:#1890ff;transform:scale(1.1)}.screenshot-container[_ngcontent-%COMP%]{margin-bottom:20px;border:1px solid #ddd;border-radius:8px;max-height:300px;overflow:auto;background:#f5f5f5}.image-canvas-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;max-width:100%}.screenshot-image[_ngcontent-%COMP%]{display:block;max-width:100%;height:auto;-webkit-user-select:none;user-select:none;pointer-events:none;border:1px solid #ddd;border-radius:4px}.drawing-canvas[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:10}.cursor-crosshair[_ngcontent-%COMP%]{cursor:crosshair}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-input-overlay[_ngcontent-%COMP%]{position:absolute;border:2px solid #1890ff;background:#fff;padding:4px 8px;font-size:14px;border-radius:4px;z-index:20;min-width:100px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500}.form-actions[_ngcontent-%COMP%]{text-align:right}.btn-group[_ngcontent-%COMP%]{display:flex;gap:4px;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid #d9d9d9;background:#fff;border-radius:4px;cursor:pointer;transition:all .2s;font-size:12px}.btn[_ngcontent-%COMP%]:hover{border-color:#1890ff;color:#1890ff}.btn-active[_ngcontent-%COMP%]{background:#1890ff;color:#fff;border-color:#1890ff}.btn-warning[_ngcontent-%COMP%]{background:#faad14;border-color:#faad14;color:#fff}.btn-warning[_ngcontent-%COMP%]:hover{background:#d48806;border-color:#d48806}.btn-info[_ngcontent-%COMP%]{background:#13c2c2;border-color:#13c2c2;color:#fff}.btn-info[_ngcontent-%COMP%]:hover{background:#08979c;border-color:#08979c}.btn-danger[_ngcontent-%COMP%]{background:#ff4d4f;border-color:#ff4d4f;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background:#d32029;border-color:#d32029}"]})}return o})();export{Si as FeedbackComponent};
