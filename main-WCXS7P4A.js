import{a as _i,b as Ht,c as Ie,d as Ti,e as ki,f as Ut,g as Ei,h as Mi}from"./chunk-IYVIUSTV.js";import{a as Ne,b as bi}from"./chunk-IP7VHNIT.js";import{a as ho,b as Si}from"./chunk-PDNVOUJD.js";import{a as Nt}from"./chunk-54XADPNE.js";import{a as he,b as wi,c as Pt}from"./chunk-ERDF2OHJ.js";import"./chunk-OJG6SKOA.js";import{b as $e,d as Ge,e as Bt,f as jt,g as ze,h as Zt,l as xi,m as We,n as Ke,q as Me,r as yi}from"./chunk-P5RULU64.js";import{$ as q,$b as _e,Aa as y,Ab as N,B as pn,Bb as $,Cb as s,Db as a,Eb as f,Fb as qt,Gb as Ft,Gc as ke,H as Jn,Hb as pe,Hc as Ee,Ib as I,Ic as ce,J as Xn,Jb as _,Kb as m,L as ei,M as ti,Mc as vi,Nb as vn,Nc as Ci,Pb as K,Qb as Q,Rb as Y,S as ni,Sb as te,Sc as G,Tb as u,U as ii,Ua as Vt,Ub as L,Va as de,Vb as S,W as ht,Wb as ge,X as je,Xa as Ot,Xb as Ue,Y as ri,Ya as si,Yb as ui,Za as c,Zb as ve,_b as Ce,a as V,aa as oi,ab as ft,b as J,bb as ne,bc as mi,c as Kn,ca as oe,cc as ae,dc as pi,e as mo,ea as W,f as po,fa as M,fc as R,g as k,ga as Oe,gb as j,gc as D,h as Dt,hb as ai,ib as fe,j as Pe,jb as li,jc as Fe,ka as hn,la as fn,lb as g,m as Se,ma as b,mc as hi,n as z,na as w,nc as fi,oa as v,ob as gn,oc as gt,p as Qn,pa as T,q as mn,r as Be,sb as se,ta as Ze,tb as p,tc as H,ub as ci,uc as le,v as Te,va as Lt,vb as B,w as Yn,xb as F,xc as gi,yb as di,za as qe,zb as E}from"./chunk-R5P75FUM.js";function Ii(){he.register("PatientForm",()=>import("./chunk-UBBEPFYZ.js").then(t=>t.PatientsPageComponent)),he.register("ConfirmationDialog",()=>import("./chunk-MTQWHEUK.js").then(t=>t.ConfirmationDialogComponent)),he.register("FormWizard",()=>import("./chunk-FPG32K42.js").then(t=>t.FormWizardComponent)),he.register("UserProfile",()=>import("./chunk-4SXTFYDM.js").then(t=>t.UserProfileComponent)),he.register("ProductList",()=>import("./chunk-6XYEK2JC.js").then(t=>t.ProductListComponent)),he.register("Confirmation",()=>import("./chunk-H7KDRGCA.js").then(t=>t.ConfirmationComponent)),he.register("BugReport2",()=>import("./chunk-3TROT4HN.js").then(t=>t.BugReport2Component)),he.register("Feedback",()=>import("./chunk-6JSAIJIP.js").then(t=>t.FeedbackComponent)),he.register("Feedback1",()=>import("./chunk-ZELD37WB.js").then(t=>t.FeedbackComponent1)),console.log("Component Registry configurado com sucesso!")}function Qe(t){t||(hn(Qe),t=M(Ze));let r=new Pe(e=>t.onDestroy(e.next.bind(e)));return e=>e.pipe(je(r))}var bn=class{translations;constructor(r){this.translations=r}getTranslation(r){return Be(this.translations.get(r)||{})}},Di=new oe("");function Cn(t,r){return t&&(Object.prototype.hasOwnProperty.call(t,r)?t[r]:r.split(".").reduce((e,n)=>e?.[n],t))}function go(t,r,e){t=V({},t);let n=r.split("."),i=n.length-1;return n.reduce((o,l,d)=>(d===i?o[l]=e:o[l]=Array.isArray(o[l])?o[l].slice():V({},o[l]),o&&o[l]),t),t}function Li(t){return t?Array.isArray(t)?t.length:$t(t)?Object.keys(t).length:t?t.length:0:0}function vo(t){return Li(t)===0}function Co(t){return typeof t=="function"}function vt(t){return typeof t=="string"}function $t(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}function Vi(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,(r,e)=>e==0?r.toLowerCase():r.toUpperCase()).replace(/\s+|_|-|\//g,"")}function wn(t){return t==null}function Ai(t){return wn(t)===!1}function Oi(t){return t&&typeof t.scope=="string"}function _o(t){return t&&$t(t.loader)}function Ri(t){let r={};function e(n,i){if(n===null)r[i]=null;else if($t(n))for(let[o,l]of Object.entries(n))e(l,i?`${i}.${o}`:o);else r[i]=n}return e(t,""),r}function bo(t){let r={};for(let[e,n]of Object.entries(t)){let i=e.split("."),o=r;i.forEach((l,d)=>{d===i.length-1?o[l]=n:(o[l]??={},o=o[l])})}return r}var Je=new oe("",{providedIn:"root",factory:()=>Ye}),Ye={defaultLang:"en",reRenderOnLangChange:!1,prodMode:!1,failedRetries:2,fallbackLang:[],availableLangs:[],missingHandler:{logMissingKey:!0,useFallbackTranslation:!1,allowEmpty:!1},flatten:{aot:!1},interpolation:["{{","}}"],scopes:{keepCasing:!1}};function wo(t={}){return J(V(V({},Ye),t),{missingHandler:V(V({},Ye.missingHandler),t.missingHandler),flatten:V(V({},Ye.flatten),t.flatten),scopes:V(V({},Ye.scopes),t.scopes)})}var qi=new oe(""),xo=(()=>{class t{config=M(Je,{optional:!0})??Ye;get interpolationMatcher(){return yo(this.config)}transpile({value:e,params:n={},translation:i,key:o}){if(vt(e)){let l,d=e;for(;(l=this.interpolationMatcher.exec(d))!==null;){let[h,C]=l;d=d.replace(h,()=>{let x=C.trim(),A=Cn(n,x);return Ai(A)?A:Ai(i[x])?this.transpile({params:n,translation:i,key:o,value:i[x]}):""})}return d}else n&&($t(e)?e=this.handleObject({value:e,params:n,translation:i,key:o}):Array.isArray(e)&&(e=this.handleArray({value:e,params:n,translation:i,key:o})));return e}handleObject({value:e,params:n={},translation:i,key:o}){let l=e;return Object.keys(n).forEach(d=>{let h=this.transpile({value:Cn(l,d),params:Cn(n,d),translation:i,key:o});l=go(l,d,h)}),l}handleArray(i){var o=i,{value:e}=o,n=Kn(o,["value"]);return e.map(l=>this.transpile(V({value:l},n)))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})();function yo(t){let[r,e]=t.interpolation;return new RegExp(`${r}([^${r}${e}]*?)${e}`,"g")}var Fi=new oe(""),So=(()=>{class t{handle(e,n){if(n.missingHandler.logMissingKey&&!n.prodMode){let i=`Missing translation for '${e}'`;console.warn(`%c ${i}`,"font-size: 12px; color: red")}return e}static \u0275fac=function(n){return new(n||t)};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),Hi=new oe(""),To=(()=>{class t{preSaveTranslation(e){return e}preSaveTranslationKey(e,n){return n}static \u0275fac=function(n){return new(n||t)};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),Pi=new oe(""),ko=(()=>{class t{userConfig;constructor(e){this.userConfig=e}getNextLangs(){let e=this.userConfig.fallbackLang;if(!e)throw new Error("When using the default fallback, a fallback language must be provided in the config!");return Array.isArray(e)?e:[e]}static \u0275fac=function(n){return new(n||t)(W(Je))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})();function Ct(t){if(!t)return"";let r=t.split("/");return r.pop(),r.join("/")}function Ae(t){return t?t.split("/").pop():""}function xn(t,r,e="|"){if(vt(t)){let n=t.split(e),i=n.pop();return i===r?[!0,n.toString()]:[!1,i]}return[!1,""]}function Eo(t,r){let[e]=xn(r,"static");return e?!1:!!t.config.reRenderOnLangChange}function Mo(t){return t?r=>r:ei(1)}function Io(t,r){return Object.keys(t).reduce((e,n)=>(e[`${r}/${n}`]=t[n],e),{})}function Bi(t,r){return _o(t)?Io(t.loader,r):void 0}function _n(t){return{scope:Ct(t)||null,langName:Ae(t)}}function ji(t){let{path:r,inlineLoader:e,mainLoader:n,data:i}=t;if(e){let o=e[r];if(Co(o)===!1)throw`You're using an inline loader but didn't provide a loader for ${r}`;return e[r]().then(l=>l.default?l.default:l)}return n.getTranslation(r,i)}function Ao({mainLoader:t,path:r,data:e,fallbackPath:n,inlineLoader:i}){return(n?[r,n]:[r]).map(l=>{let d=ji({path:l,mainLoader:t,inlineLoader:i,data:e});return mn(d).pipe(Te(h=>({translation:h,lang:l})))})}var Ro;var _t=(()=>{class t{loader;parser;missingHandler;interceptor;fallbackStrategy;langChanges$;translations=new Map;cache=new Map;firstFallbackLang;defaultLang="";availableLangs=[];isResolvedMissingOnce=!1;lang;failedLangs=new Set;events=new Se;events$=this.events.asObservable();config;destroyRef=M(Ze);constructor(e,n,i,o,l,d){this.loader=e,this.parser=n,this.missingHandler=i,this.interceptor=o,this.fallbackStrategy=d,this.loader||(this.loader=new bn(this.translations)),Ro=this,this.config=JSON.parse(JSON.stringify(l)),this.setAvailableLangs(this.config.availableLangs||[]),this.setFallbackLangForMissingTranslation(this.config),this.setDefaultLang(this.config.defaultLang),this.lang=new z(this.getDefaultLang()),this.langChanges$=this.lang.asObservable(),this.events$.subscribe(h=>{h.type==="translationLoadSuccess"&&h.wasFailure&&this.setActiveLang(h.payload.langName)}),this.destroyRef.onDestroy(()=>{this.lang.complete(),this.events.complete(),this.cache.clear()})}getDefaultLang(){return this.defaultLang}setDefaultLang(e){this.defaultLang=e}getActiveLang(){return this.lang.getValue()}setActiveLang(e){return this.parser.onLangChanged?.(e),this.lang.next(e),this.events.next({type:"langChanged",payload:_n(e)}),this}setAvailableLangs(e){this.availableLangs=e}getAvailableLangs(){return this.availableLangs}load(e,n={}){let i=this.cache.get(e);if(i)return i;let o,l=this._isLangScoped(e),d;l&&(d=Ct(e));let h={path:e,mainLoader:this.loader,inlineLoader:n.inlineLoader,data:l?{scope:d}:void 0};if(this.useFallbackTranslation(e)){let x=l?`${d}/${this.firstFallbackLang}`:this.firstFallbackLang,A=Ao(J(V({},h),{fallbackPath:x}));o=pn(A)}else{let x=ji(h);o=mn(x)}let C=o.pipe(ni(this.config.failedRetries),ri(x=>{if(Array.isArray(x)){x.forEach(A=>{this.handleSuccess(A.lang,A.translation),A.lang!==e&&this.cache.set(A.lang,Be({}))});return}this.handleSuccess(e,x)}),Jn(x=>(this.config.prodMode||console.error(`Error while trying to load "${e}"`,x),this.handleFailure(e,n))),ii(1),Qe(this.destroyRef));return this.cache.set(e,C),C}translate(e,n={},i=this.getActiveLang()){if(!e)return e;let{scope:o,resolveLang:l}=this.resolveLangAndScope(i);if(Array.isArray(e))return e.map(C=>this.translate(o?`${o}.${C}`:C,n,l));e=o?`${o}.${e}`:e;let d=this.getTranslation(l),h=d[e];return h?this.parser.transpile({value:h,params:n,translation:d,key:e}):this._handleMissingKey(e,h,n)}selectTranslate(e,n,i,o=!1){let l,d=(C,x)=>this.load(C,x).pipe(Te(()=>o?this.translateObject(e,n,C):this.translate(e,n,C)));if(wn(i))return this.langChanges$.pipe(ht(C=>d(C)));if(i=Array.isArray(i)?i[0]:i,Oi(i)){let C=i;i=C.scope,l=Bi(C,C.scope)}if(i=i,this.isLang(i)||this.isScopeWithLang(i))return d(i);let h=i;return this.langChanges$.pipe(ht(C=>d(`${h}/${C}`,{inlineLoader:l})))}isScopeWithLang(e){return this.isLang(Ae(e))}translateObject(e,n={},i=this.getActiveLang()){if(vt(e)||Array.isArray(e)){let{resolveLang:l,scope:d}=this.resolveLangAndScope(i);if(Array.isArray(e))return e.map(x=>this.translateObject(d?`${d}.${x}`:x,n,l));let h=this.getTranslation(l);e=d?`${d}.${e}`:e;let C=bo(this.getObjectByKey(h,e));return vo(C)?this.translate(e,n,i):this.parser.transpile({value:C,params:n,translation:h,key:e})}let o=[];for(let[l,d]of this.getEntries(e))o.push(this.translateObject(l,d,i));return o}selectTranslateObject(e,n,i){if(vt(e)||Array.isArray(e))return this.selectTranslate(e,n,i,!0);let[[o,l],...d]=this.getEntries(e);return this.selectTranslateObject(o,l,i).pipe(Te(h=>{let C=[h];for(let[x,A]of d)C.push(this.translateObject(x,A,i));return C}))}getTranslation(e){if(e){if(this.isLang(e))return this.translations.get(e)||{};{let{scope:n,resolveLang:i}=this.resolveLangAndScope(e),o=this.translations.get(i)||{};return this.getObjectByKey(o,n)}}return this.translations}selectTranslation(e){let n=this.langChanges$;if(e){let i=Ae(e)!==e;this.isLang(e)||i?n=Be(e):n=this.langChanges$.pipe(Te(o=>`${e}/${o}`))}return n.pipe(ht(i=>this.load(i).pipe(Te(()=>this.getTranslation(i)))))}setTranslation(e,n=this.getActiveLang(),i={}){let l=V(V({},{merge:!0,emitChange:!0}),i),d=Ct(n),h=e;if(d){let pt=this.getMappedScope(d);h=Ri({[pt]:e})}let C=d?Ae(n):n,x=V(V({},l.merge&&this.getTranslation(C)),h),A=this.config.flatten.aot?x:Ri(x),U=this.interceptor.preSaveTranslation(A,C);this.translations.set(C,U),l.emitChange&&this.setActiveLang(this.getActiveLang())}setTranslationKey(e,n,i={}){let o=i.lang||this.getActiveLang(),l=this.interceptor.preSaveTranslationKey(e,n,o),d={[e]:l};this.setTranslation(d,o,J(V({},i),{merge:!0}))}setFallbackLangForMissingTranslation({fallbackLang:e}){let n=Array.isArray(e)?e[0]:e;e&&this.useFallbackTranslation(n)&&(this.firstFallbackLang=n)}_handleMissingKey(e,n,i){if(this.config.missingHandler.allowEmpty&&n==="")return"";if(!this.isResolvedMissingOnce&&this.useFallbackTranslation()){this.isResolvedMissingOnce=!0;let o=this.translate(e,i,this.firstFallbackLang);return this.isResolvedMissingOnce=!1,o}return this.missingHandler.handle(e,this.getMissingHandlerData(),i)}_isLangScoped(e){return this.getAvailableLangsIds().indexOf(e)===-1}isLang(e){return this.getAvailableLangsIds().indexOf(e)!==-1}_loadDependencies(e,n){let i=Ae(e);return this._isLangScoped(e)&&!this.isLoadedTranslation(i)?Yn([this.load(i),this.load(e,{inlineLoader:n})]):this.load(e,{inlineLoader:n})}_completeScopeWithLang(e){return this._isLangScoped(e)&&!this.isLang(Ae(e))?`${e}/${this.getActiveLang()}`:e}_setScopeAlias(e,n){this.config.scopeMapping||(this.config.scopeMapping={}),this.config.scopeMapping[e]=n}isLoadedTranslation(e){return Li(this.getTranslation(e))}getAvailableLangsIds(){let e=this.getAvailableLangs()[0];return vt(e)?this.getAvailableLangs():this.getAvailableLangs().map(n=>n.id)}getMissingHandlerData(){return J(V({},this.config),{activeLang:this.getActiveLang(),availableLangs:this.availableLangs,defaultLang:this.defaultLang})}useFallbackTranslation(e){return this.config.missingHandler.useFallbackTranslation&&e!==this.firstFallbackLang}handleSuccess(e,n){this.setTranslation(n,e,{emitChange:!1}),this.events.next({wasFailure:!!this.failedLangs.size,type:"translationLoadSuccess",payload:_n(e)}),this.failedLangs.forEach(i=>this.cache.delete(i)),this.failedLangs.clear()}handleFailure(e,n){wn(n.failedCounter)&&(n.failedCounter=0,n.fallbackLangs||(n.fallbackLangs=this.fallbackStrategy.getNextLangs(e)));let i=e.split("/"),l=n.fallbackLangs[n.failedCounter];if(this.failedLangs.add(e),this.cache.has(l))return this.handleSuccess(l,this.getTranslation(l)),Qn;let d=l===i[i.length-1];if(!l||d){let C="Unable to load translation and all the fallback languages";throw i.length>1&&(C+=", did you misspelled the scope name?"),new Error(C)}let h=l;return i.length>1&&(i[i.length-1]=l,h=i.join("/")),n.failedCounter++,this.events.next({type:"translationLoadFailure",payload:_n(e)}),this.load(h,n)}getMappedScope(e){let{scopeMapping:n={},scopes:i={keepCasing:!1}}=this.config;return n[e]||(i.keepCasing?e:Vi(e))}resolveLangAndScope(e){let n=e,i;if(this._isLangScoped(e)){let o=Ae(e),l=this.isLang(o);n=l?o:this.getActiveLang(),i=this.getMappedScope(l?Ct(e):e)}return{scope:i,resolveLang:n}}getObjectByKey(e,n){let i={},o=`${n}.`;for(let l in e)l.startsWith(o)&&(i[l.replace(o,"")]=e[l]);return i}getEntries(e){return e instanceof Map?e.entries():Object.entries(e)}static \u0275fac=function(n){return new(n||t)(W(Di,8),W(qi),W(Fi),W(Hi),W(Je),W(Pi))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Do=new oe(""),Zc=new oe(""),Lo=new oe(""),yn=class{initialized=!1;resolve({inline:r,provider:e,active:n}){let i=n;if(this.initialized)return i=n,i;if(e){let[,o]=xn(e,"static");i=o}if(r){let[,o]=xn(r,"static");i=o}return this.initialized=!0,i}resolveLangBasedOnScope(r){return Ct(r)?Ae(r):r}resolveLangPath(r,e){return e?`${e}/${r}`:r}},Sn=class{service;constructor(r){this.service=r}resolve(r){let{inline:e,provider:n}=r;if(e)return e;if(n){if(Oi(n)){let{scope:i,alias:o=this.service.config.scopes.keepCasing?i:Vi(i)}=n;return this.service._setScopeAlias(i,o),i}return n}}};var Xe=(()=>{class t{service;providerScope;providerLang;cdr;subscription=null;lastValue="";lastKey;path;langResolver=new yn;scopeResolver;constructor(e,n,i,o){this.service=e,this.providerScope=n,this.providerLang=i,this.cdr=o,this.scopeResolver=new Sn(this.service)}transform(e,n,i){if(!e)return e;let o=n?`${e}${JSON.stringify(n)}`:e;if(o===this.lastKey)return this.lastValue;this.lastKey=o,this.subscription?.unsubscribe();let l=Eo(this.service,this.providerLang||i);return this.subscription=this.service.langChanges$.pipe(ht(d=>{let h=this.langResolver.resolve({inline:i,provider:this.providerLang,active:d});return Array.isArray(this.providerScope)?pn(this.providerScope.map(C=>this.resolveScope(h,C))):this.resolveScope(h,this.providerScope)}),Mo(l)).subscribe(()=>this.updateValue(e,n)),this.lastValue}ngOnDestroy(){this.subscription?.unsubscribe(),this.subscription=null}updateValue(e,n){let i=this.langResolver.resolveLangBasedOnScope(this.path);this.lastValue=this.service.translate(e,n,i),this.cdr.markForCheck()}resolveScope(e,n){let i=this.scopeResolver.resolve({inline:void 0,provider:n});this.path=this.langResolver.resolveLangPath(e,i);let o=Bi(n,i);return this.service._loadDependencies(this.path,o)}static \u0275fac=function(n){return new(n||t)(ne(_t,16),ne(Lo,24),ne(Do,24),ne(gt,16))};static \u0275pipe=li({name:"transloco",type:t,pure:!1})}return t})();var Re=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=ai({type:t});static \u0275inj=oi({})}return t})();function Zi(t){let r=[qo(xo),Ho(So),Po(To),Fo(ko)];return t.config&&r.push(Vo(t.config)),t.loader&&r.push(Oo(t.loader)),r}function Vo(t){return Oe([{provide:Je,useValue:wo(t)}])}function Oo(t){return Oe([{provide:Di,useClass:t}])}function qo(t){return Oe([{provide:qi,useClass:t,deps:[Je]}])}function Fo(t){return Oe([{provide:Pi,useClass:t,deps:[Je]}])}function Ho(t){return Oe([{provide:Fi,useClass:t}])}function Po(t){return Oe([{provide:Hi,useClass:t}])}var Uc=new oe("TRANSLOCO_TEST_LANGS - Available testing languages"),Nc=new oe("TRANSLOCO_TEST_OPTIONS - Testing options");var Bo=["modalComponent"],jo=(t,r)=>r.id;function Zo(t,r){if(t&1){let e=I();s(0,"app-modal",3,0),_("modalClose",function(){let i=b(e).$implicit,o=m();return w(o.onModalClose(i.id))})("modalOpen",function(){let i=b(e).$implicit,o=m();return w(o.onModalOpen(i.id))})("componentLoaded",function(i){let o=b(e).$implicit,l=m();return w(l.onComponentLoaded(o.id,i))})("componentLoadError",function(i){let o=b(e).$implicit,l=m();return w(l.onComponentLoadError(o.id,i))}),a()}if(t&2){let e=r.$implicit;F("modal-instance-"+e.id),p("config",e.config)}}var Ui=(()=>{class t{modalService=M(Pt);modalComponents;openModalInstances=new Map;computed=console.log("modalService.modals():",this.modalService.modals());ngOnInit(){console.log("ModalContainer initialized")}ngAfterViewInit(){this.modalComponents.changes.subscribe(()=>{this.handleModalChanges()}),this.handleModalChanges()}ngOnDestroy(){this.openModalInstances.clear()}handleModalChanges(){let e=this.modalService.modals();this.modalComponents.forEach((n,i)=>{let o=e[i];o&&o.isOpen&&(this.openModalInstances.set(o.id,n),setTimeout(()=>{n.open()},0))})}onModalClose(e){console.log("Modal closed in container:",e),this.modalService.close(e),this.openModalInstances.delete(e)}onModalOpen(e){console.log("Modal opened in container:",e)}onComponentLoaded(e,n){console.log("Component loaded in modal:",e,n)}onComponentLoadError(e,n){console.error("Error loading component in modal:",e,n)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=j({type:t,selectors:[["app-modal-container"]],viewQuery:function(n,i){if(n&1&&K(Bo,5),n&2){let o;Q(o=Y())&&(i.modalComponents=o)}},decls:3,vars:0,consts:[["modalComponent",""],[1,"modal-container-wrapper"],[3,"config","class"],[3,"modalClose","modalOpen","componentLoaded","componentLoadError","config"]],template:function(n,i){n&1&&(s(0,"div",1),N(1,Zo,2,3,"app-modal",2,jo),a()),n&2&&(c(),$(i.modalService.modals()))},dependencies:[G,wi],styles:[".modal-container-wrapper[_ngcontent-%COMP%]{position:fixed;inset:0;pointer-events:none;z-index:9999}.modal-container-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:auto}[_nghost-%COMP%]{display:contents}"]});static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ni=(()=>{class t{visited=new Set;_currentFirstVisit=y(!1);isFirstVisit=this._currentFirstVisit.asReadonly();markVisited(e){let n=this.visited.has(e);return n||this.visited.add(e),this._currentFirstVisit.set(!n),!n}static \u0275fac=function(n){return new(n||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ue=Object.create(null);ue.open="0";ue.close="1";ue.ping="2";ue.pong="3";ue.message="4";ue.upgrade="5";ue.noop="6";var bt=Object.create(null);Object.keys(ue).forEach(t=>{bt[ue[t]]=t});var wt={type:"error",data:"parser error"};var zi=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Wi=typeof ArrayBuffer=="function",Ki=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,xt=({type:t,data:r},e,n)=>zi&&r instanceof Blob?e?n(r):$i(r,n):Wi&&(r instanceof ArrayBuffer||Ki(r))?e?n(r):$i(new Blob([r]),n):n(ue[t]+(r||"")),$i=(t,r)=>{let e=new FileReader;return e.onload=function(){let n=e.result.split(",")[1];r("b"+(n||""))},e.readAsDataURL(t)};function Gi(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}var kn;function Qi(t,r){if(zi&&t.data instanceof Blob)return t.data.arrayBuffer().then(Gi).then(r);if(Wi&&(t.data instanceof ArrayBuffer||Ki(t.data)))return r(Gi(t.data));xt(t,!1,e=>{kn||(kn=new TextEncoder),r(kn.encode(e))})}var Yi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Yi.length;t++)yt[Yi.charCodeAt(t)]=t;var Ji=t=>{let r=t.length*.75,e=t.length,n,i=0,o,l,d,h;t[t.length-1]==="="&&(r--,t[t.length-2]==="="&&r--);let C=new ArrayBuffer(r),x=new Uint8Array(C);for(n=0;n<e;n+=4)o=yt[t.charCodeAt(n)],l=yt[t.charCodeAt(n+1)],d=yt[t.charCodeAt(n+2)],h=yt[t.charCodeAt(n+3)],x[i++]=o<<2|l>>4,x[i++]=(l&15)<<4|d>>2,x[i++]=(d&3)<<6|h&63;return C};var Uo=typeof ArrayBuffer=="function",St=(t,r)=>{if(typeof t!="string")return{type:"message",data:Xi(t,r)};let e=t.charAt(0);return e==="b"?{type:"message",data:No(t.substring(1),r)}:bt[e]?t.length>1?{type:bt[e],data:t.substring(1)}:{type:bt[e]}:wt},No=(t,r)=>{if(Uo){let e=Ji(t);return Xi(e,r)}else return{base64:!0,data:t}},Xi=(t,r)=>{switch(r){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}};var er="",tr=(t,r)=>{let e=t.length,n=new Array(e),i=0;t.forEach((o,l)=>{xt(o,!1,d=>{n[l]=d,++i===e&&r(n.join(er))})})},nr=(t,r)=>{let e=t.split(er),n=[];for(let i=0;i<e.length;i++){let o=St(e[i],r);if(n.push(o),o.type==="error")break}return n};function ir(){return new TransformStream({transform(t,r){Qi(t,e=>{let n=e.length,i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(i[0]|=128),r.enqueue(i),r.enqueue(e)})}})}var En;function Gt(t){return t.reduce((r,e)=>r+e.length,0)}function zt(t,r){if(t[0].length===r)return t.shift();let e=new Uint8Array(r),n=0;for(let i=0;i<r;i++)e[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),e}function rr(t,r){En||(En=new TextDecoder);let e=[],n=0,i=-1,o=!1;return new TransformStream({transform(l,d){for(e.push(l);;){if(n===0){if(Gt(e)<1)break;let h=zt(e,1);o=(h[0]&128)===128,i=h[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Gt(e)<2)break;let h=zt(e,2);i=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),n=3}else if(n===2){if(Gt(e)<8)break;let h=zt(e,8),C=new DataView(h.buffer,h.byteOffset,h.length),x=C.getUint32(0);if(x>Math.pow(2,21)-1){d.enqueue(wt);break}i=x*Math.pow(2,32)+C.getUint32(4),n=3}else{if(Gt(e)<i)break;let h=zt(e,i);d.enqueue(St(o?h:En.decode(h),r)),n=0}if(i===0||i>t){d.enqueue(wt);break}}}})}var Mn=4;function Z(t){if(t)return $o(t)}function $o(t){for(var r in Z.prototype)t[r]=Z.prototype[r];return t}Z.prototype.on=Z.prototype.addEventListener=function(t,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(r),this};Z.prototype.once=function(t,r){function e(){this.off(t,e),r.apply(this,arguments)}return e.fn=r,this.on(t,e),this};Z.prototype.off=Z.prototype.removeListener=Z.prototype.removeAllListeners=Z.prototype.removeEventListener=function(t,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+t];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<e.length;i++)if(n=e[i],n===r||n.fn===r){e.splice(i,1);break}return e.length===0&&delete this._callbacks["$"+t],this};Z.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),e=this._callbacks["$"+t],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(e){e=e.slice(0);for(var n=0,i=e.length;n<i;++n)e[n].apply(this,r)}return this};Z.prototype.emitReserved=Z.prototype.emit;Z.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Z.prototype.hasListeners=function(t){return!!this.listeners(t).length};var be=typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,e)=>e(r,0),ee=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),or="arraybuffer";function Wt(t,...r){return r.reduce((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e),{})}var Go=ee.setTimeout,zo=ee.clearTimeout;function we(t,r){r.useNativeTimers?(t.setTimeoutFn=Go.bind(ee),t.clearTimeoutFn=zo.bind(ee)):(t.setTimeoutFn=ee.setTimeout.bind(ee),t.clearTimeoutFn=ee.clearTimeout.bind(ee))}var Wo=1.33;function sr(t){return typeof t=="string"?Ko(t):Math.ceil((t.byteLength||t.size)*Wo)}function Ko(t){let r=0,e=0;for(let n=0,i=t.length;n<i;n++)r=t.charCodeAt(n),r<128?e+=1:r<2048?e+=2:r<55296||r>=57344?e+=3:(n++,e+=4);return e}function Kt(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function ar(t){let r="";for(let e in t)t.hasOwnProperty(e)&&(r.length&&(r+="&"),r+=encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return r}function lr(t){let r={},e=t.split("&");for(let n=0,i=e.length;n<i;n++){let o=e[n].split("=");r[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return r}var Qt=class extends Error{constructor(r,e,n){super(r),this.description=e,this.context=n,this.type="TransportError"}},xe=class extends Z{constructor(r){super(),this.writable=!1,we(this,r),this.opts=r,this.query=r.query,this.socket=r.socket,this.supportsBinary=!r.forceBase64}onError(r,e,n){return super.emitReserved("error",new Qt(r,e,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){let e=St(r,this.socket.binaryType);this.onPacket(e)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,e={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){let r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){let e=ar(r);return e.length?"?"+e:""}};var Tt=class extends xe{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(r){this.readyState="pausing";let e=()=>{this.readyState="paused",r()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||e()})),this.writable||(n++,this.once("drain",function(){--n||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){let e=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};nr(r,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,tr(r,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let r=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=Kt()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(r,e)}};var cr=!1;try{cr=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var dr=cr;function Qo(){}var In=class extends Tt{constructor(r){if(super(r),typeof location<"u"){let e=location.protocol==="https:",n=location.port;n||(n=e?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||n!==r.port}}doWrite(r,e){let n=this.request({method:"POST",data:r});n.on("success",e),n.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){let r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(e,n)=>{this.onError("xhr poll error",e,n)}),this.pollXhr=r}},Yt=(()=>{class t extends Z{constructor(e,n,i){super(),this.createRequest=e,we(this,i),this._opts=i,this._method=i.method||"GET",this._uri=n,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var e;let n=Wt(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;let i=this._xhr=this.createRequest(n);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=t.requestsCount++,t.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Qo,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete t.requests[this._index],this._xhr=null}}_onLoad(){let e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return t.requestsCount=0,t.requests={},t})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",ur);else if(typeof addEventListener=="function"){let t="onpagehide"in ee?"pagehide":"unload";addEventListener(t,ur,!1)}}function ur(){for(let t in Yt.requests)Yt.requests.hasOwnProperty(t)&&Yt.requests[t].abort()}var Yo=function(){let t=mr({xdomain:!1});return t&&t.responseType!==null}(),De=class extends In{constructor(r){super(r);let e=r&&r.forceBase64;this.supportsBinary=Yo&&!e}request(r={}){return Object.assign(r,{xd:this.xd},this.opts),new Yt(mr,this.uri(),r)}};function mr(t){let r=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||dr))return new XMLHttpRequest}catch{}if(!r)try{return new ee[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var pr=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Rn=class extends xe{get name(){return"websocket"}doOpen(){let r=this.uri(),e=this.opts.protocols,n=pr?{}:Wt(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(r,e,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let e=0;e<r.length;e++){let n=r[e],i=e===r.length-1;xt(n,this.supportsBinary,o=>{try{this.doWrite(n,o)}catch{}i&&be(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let r=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=Kt()),this.supportsBinary||(e.b64=1),this.createUri(r,e)}},An=ee.WebSocket||ee.MozWebSocket,Le=class extends Rn{createSocket(r,e,n){return pr?new An(r,e,n):e?new An(r,e):new An(r)}doWrite(r,e){this.ws.send(e)}};var et=class extends xe{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(r){return this.emitReserved("error",r)}this._transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(r=>{let e=rr(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=r.readable.pipeThrough(e).getReader(),i=ir();i.readable.pipeTo(r.writable),this._writer=i.writable.getWriter();let o=()=>{n.read().then(({done:d,value:h})=>{d||(this.onPacket(h),o())}).catch(d=>{})};o();let l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(r){this.writable=!1;for(let e=0;e<r.length;e++){let n=r[e],i=e===r.length-1;this._writer.write(n).then(()=>{i&&be(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this._transport)===null||r===void 0||r.close()}};var Dn={websocket:Le,webtransport:et,polling:De};var Jo=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Xo=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function tt(t){if(t.length>8e3)throw"URI too long";let r=t,e=t.indexOf("["),n=t.indexOf("]");e!=-1&&n!=-1&&(t=t.substring(0,e)+t.substring(e,n).replace(/:/g,";")+t.substring(n,t.length));let i=Jo.exec(t||""),o={},l=14;for(;l--;)o[Xo[l]]=i[l]||"";return e!=-1&&n!=-1&&(o.source=r,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=es(o,o.path),o.queryKey=ts(o,o.query),o}function es(t,r){let e=/\/{2,9}/g,n=r.replace(e,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&n.splice(0,1),r.slice(-1)=="/"&&n.splice(n.length-1,1),n}function ts(t,r){let e={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,o){i&&(e[i]=o)}),e}var Ln=typeof addEventListener=="function"&&typeof removeEventListener=="function",Jt=[];Ln&&addEventListener("offline",()=>{Jt.forEach(t=>t())},!1);var Xt=(()=>{class t extends Z{constructor(e,n){if(super(),this.binaryType=or,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){let i=tt(e);n.hostname=i.host,n.secure=i.protocol==="https"||i.protocol==="wss",n.port=i.port,i.query&&(n.query=i.query)}else n.host&&(n.hostname=tt(n.host).host);we(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(i=>{let o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=lr(this.opts.query)),Ln&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Jt.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){let n=Object.assign({},this.opts.query);n.EIO=Mn,n.transport=e,this.id&&(n.sid=this.id);let i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let e=this.opts.rememberUpgrade&&t.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",t.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){let o=this.writeBuffer[i].data;if(o&&(n+=sr(o)),i>0&&n>this._maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,be(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,i){return this._sendPacket("message",e,n,i),this}send(e,n,i){return this._sendPacket("message",e,n,i),this}_sendPacket(e,n,i,o){if(typeof n=="function"&&(o=n,n=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let l={type:e,data:n,options:i};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),o&&this.once("flush",o),this.flush()}close(){let e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}_onError(e){if(t.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ln&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let i=Jt.indexOf(this._offlineEventListener);i!==-1&&Jt.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}return t.protocol=Mn,t})(),en=class extends Xt{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let r=0;r<this._upgrades.length;r++)this._probe(this._upgrades[r])}_probe(r){let e=this.createTransport(r),n=!1;Xt.priorWebsocketSuccess=!1;let i=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",A=>{if(!n)if(A.type==="pong"&&A.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;Xt.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(x(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{let U=new Error("probe error");U.transport=e.name,this.emitReserved("upgradeError",U)}}))};function o(){n||(n=!0,x(),e.close(),e=null)}let l=A=>{let U=new Error("probe error: "+A);U.transport=e.name,o(),this.emitReserved("upgradeError",U)};function d(){l("transport closed")}function h(){l("socket closed")}function C(A){e&&A.name!==e.name&&o()}let x=()=>{e.removeListener("open",i),e.removeListener("error",l),e.removeListener("close",d),this.off("close",h),this.off("upgrading",C)};e.once("open",i),e.once("error",l),e.once("close",d),this.once("close",h),this.once("upgrading",C),this._upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{n||e.open()},200):e.open()}onHandshake(r){this._upgrades=this._filterUpgrades(r.upgrades),super.onHandshake(r)}_filterUpgrades(r){let e=[];for(let n=0;n<r.length;n++)~this.transports.indexOf(r[n])&&e.push(r[n]);return e}},nt=class extends en{constructor(r,e={}){let n=typeof r=="object"?r:e;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>Dn[i]).filter(i=>!!i)),super(r,n)}};var l1=nt.protocol;function hr(t,r="",e){let n=t;e=e||typeof location<"u"&&location,t==null&&(t=e.protocol+"//"+e.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=e.protocol+t:t=e.host+t),/^(https?|wss?):\/\//.test(t)||(typeof e<"u"?t=e.protocol+"//"+t:t="https://"+t),n=tt(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";let o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+r,n.href=n.protocol+"://"+o+(e&&e.port===n.port?"":":"+n.port),n}var Pn={};mo(Pn,{Decoder:()=>Fn,Encoder:()=>qn,PacketType:()=>O,protocol:()=>_r});var is=typeof ArrayBuffer=="function",rs=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,fr=Object.prototype.toString,os=typeof Blob=="function"||typeof Blob<"u"&&fr.call(Blob)==="[object BlobConstructor]",ss=typeof File=="function"||typeof File<"u"&&fr.call(File)==="[object FileConstructor]";function Et(t){return is&&(t instanceof ArrayBuffer||rs(t))||os&&t instanceof Blob||ss&&t instanceof File}function kt(t,r){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let e=0,n=t.length;e<n;e++)if(kt(t[e]))return!0;return!1}if(Et(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return kt(t.toJSON(),!0);for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&kt(t[e]))return!0;return!1}function gr(t){let r=[],e=t.data,n=t;return n.data=Vn(e,r),n.attachments=r.length,{packet:n,buffers:r}}function Vn(t,r){if(!t)return t;if(Et(t)){let e={_placeholder:!0,num:r.length};return r.push(t),e}else if(Array.isArray(t)){let e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=Vn(t[n],r);return e}else if(typeof t=="object"&&!(t instanceof Date)){let e={};for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Vn(t[n],r));return e}return t}function vr(t,r){return t.data=On(t.data,r),delete t.attachments,t}function On(t,r){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<r.length)return r[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let e=0;e<t.length;e++)t[e]=On(t[e],r);else if(typeof t=="object")for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e]=On(t[e],r));return t}var as=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],_r=5,O=function(t){return t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK",t}(O||{}),qn=class{constructor(r){this.replacer=r}encode(r){return(r.type===O.EVENT||r.type===O.ACK)&&kt(r)?this.encodeAsBinary({type:r.type===O.EVENT?O.BINARY_EVENT:O.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let e=""+r.type;return(r.type===O.BINARY_EVENT||r.type===O.BINARY_ACK)&&(e+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(e+=r.nsp+","),r.id!=null&&(e+=r.id),r.data!=null&&(e+=JSON.stringify(r.data,this.replacer)),e}encodeAsBinary(r){let e=gr(r),n=this.encodeAsString(e.packet),i=e.buffers;return i.unshift(n),i}};function Cr(t){return Object.prototype.toString.call(t)==="[object Object]"}var Fn=class t extends Z{constructor(r){super(),this.reviver=r}add(r){let e;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(r);let n=e.type===O.BINARY_EVENT;n||e.type===O.BINARY_ACK?(e.type=n?O.EVENT:O.ACK,this.reconstructor=new Hn(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(Et(r)||r.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(r),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let e=0,n={type:Number(r.charAt(0))};if(O[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===O.BINARY_EVENT||n.type===O.BINARY_ACK){let o=e+1;for(;r.charAt(++e)!=="-"&&e!=r.length;);let l=r.substring(o,e);if(l!=Number(l)||r.charAt(e)!=="-")throw new Error("Illegal attachments");n.attachments=Number(l)}if(r.charAt(e+1)==="/"){let o=e+1;for(;++e&&!(r.charAt(e)===","||e===r.length););n.nsp=r.substring(o,e)}else n.nsp="/";let i=r.charAt(e+1);if(i!==""&&Number(i)==i){let o=e+1;for(;++e;){let l=r.charAt(e);if(l==null||Number(l)!=l){--e;break}if(e===r.length)break}n.id=Number(r.substring(o,e+1))}if(r.charAt(++e)){let o=this.tryParse(r.substr(e));if(t.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,e){switch(r){case O.CONNECT:return Cr(e);case O.DISCONNECT:return e===void 0;case O.CONNECT_ERROR:return typeof e=="string"||Cr(e);case O.EVENT:case O.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&as.indexOf(e[0])===-1);case O.ACK:case O.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},Hn=class{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){let e=vr(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function ie(t,r,e){return t.on(r,e),function(){t.off(r,e)}}var ls=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),it=class extends Z{constructor(r,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let r=this.io;this.subs=[ie(r,"open",this.onopen.bind(this)),ie(r,"packet",this.onpacket.bind(this)),ie(r,"error",this.onerror.bind(this)),ie(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...e){var n,i,o;if(ls.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(e.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;let l={type:O.EVENT,data:e};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){let x=this.ids++,A=e.pop();this._registerAckCallback(x,A),l.id=x}let d=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,h=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!d||(h?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(r,e){var n;let i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[r]=e;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===r&&this.sendBuffer.splice(d,1);e.call(this,new Error("operation has timed out"))},i),l=(...d)=>{this.io.clearTimeoutFn(o),e.apply(this,d)};l.withError=!0,this.acks[r]=l}emitWithAck(r,...e){return new Promise((n,i)=>{let o=(l,d)=>l?i(l):n(d);o.withError=!0,e.push(o),this.emit(r,...e)})}_addToQueue(r){let e;typeof r[r.length-1]=="function"&&(e=r.pop());let n={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((i,...o)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(i)):(this._queue.shift(),e&&e(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;let e=this._queue[0];e.pending&&!r||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:O.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(r=>{if(!this.sendBuffer.some(n=>String(n.id)===r)){let n=this.acks[r];delete this.acks[r],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case O.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case O.EVENT:case O.BINARY_EVENT:this.onevent(r);break;case O.ACK:case O.BINARY_ACK:this.onack(r);break;case O.DISCONNECT:this.ondisconnect();break;case O.CONNECT_ERROR:this.destroy();let n=new Error(r.data.message);n.data=r.data.data,this.emitReserved("connect_error",n);break}}onevent(r){let e=r.data||[];r.id!=null&&e.push(this.ack(r.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){let e=this._anyListeners.slice();for(let n of e)n.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){let e=this,n=!1;return function(...i){n||(n=!0,e.packet({type:O.ACK,id:r,data:i}))}}onack(r){let e=this.acks[r.id];typeof e=="function"&&(delete this.acks[r.id],e.withError&&r.data.unshift(null),e.apply(this,r.data))}onconnect(r,e){this.id=r,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:O.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){let e=this._anyListeners;for(let n=0;n<e.length;n++)if(r===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){let e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(r===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let e=this._anyOutgoingListeners.slice();for(let n of e)n.apply(this,r.data)}}};function He(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}He.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),e=Math.floor(r*this.jitter*t);t=(Math.floor(r*10)&1)==0?t-e:t+e}return Math.min(t,this.max)|0};He.prototype.reset=function(){this.attempts=0};He.prototype.setMin=function(t){this.ms=t};He.prototype.setMax=function(t){this.max=t};He.prototype.setJitter=function(t){this.jitter=t};var rt=class extends Z{constructor(r,e){var n;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(e=r,r=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,we(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((n=e.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new He({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=r;let i=e.parser||Pn;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,r||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var e;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(e=this.backoff)===null||e===void 0||e.setMin(r),this)}randomizationFactor(r){var e;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(e=this.backoff)===null||e===void 0||e.setJitter(r),this)}reconnectionDelayMax(r){var e;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(e=this.backoff)===null||e===void 0||e.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new nt(this.uri,this.opts);let e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;let i=ie(e,"open",function(){n.onopen(),r&&r()}),o=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),r?r(d):this.maybeReconnectOnOpen()},l=ie(e,"error",o);if(this._timeout!==!1){let d=this._timeout,h=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),e.close()},d);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(i),this.subs.push(l),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let r=this.engine;this.subs.push(ie(r,"ping",this.onping.bind(this)),ie(r,"data",this.ondata.bind(this)),ie(r,"error",this.onerror.bind(this)),ie(r,"close",this.onclose.bind(this)),ie(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(e){this.onclose("parse error",e)}}ondecoded(r){be(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,e){let n=this.nsps[r];return n?this._autoConnect&&!n.active&&n.connect():(n=new it(this,r,e),this.nsps[r]=n),n}_destroy(r){let e=Object.keys(this.nsps);for(let n of e)if(this.nsps[n].active)return;this._close()}_packet(r){let e=this.encoder.encode(r);for(let n=0;n<e.length;n++)this.engine.write(e[n],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(r,e){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let e=this.backoff.duration();this._reconnecting=!0;let n=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(i=>{i?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",i)):r.onreconnect()}))},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){let r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}};var Mt={};function ye(t,r){typeof t=="object"&&(r=t,t=void 0),r=r||{};let e=hr(t,r.path||"/socket.io"),n=e.source,i=e.id,o=e.path,l=Mt[i]&&o in Mt[i].nsps,d=r.forceNew||r["force new connection"]||r.multiplex===!1||l,h;return d?h=new rt(n,r):(Mt[i]||(Mt[i]=new rt(n,r)),h=Mt[i]),e.query&&!r.query&&(r.query=e.queryKey),h.socket(e.path,r)}Object.assign(ye,{Manager:rt,Socket:it,io:ye,connect:ye});var br=(()=>{class t{socket;users=new z([]);messages=new z([]);connectedSubject=new z(!1);onlineUsersSubject=new z([]);constructor(){this.socket=ye("http://localhost:3001",{autoConnect:!1}),this.socket.on("connect",()=>{this.connectedSubject.next(!0)}),this.socket.on("disconnect",()=>{this.connectedSubject.next(!1)}),this.socket.on("users-online",e=>{this.onlineUsersSubject.next(e)}),this.socket.on("users",e=>{this.users.next(e)}),this.socket.on("messages",e=>{this.messages.next(e)})}connect(e){this.socket.auth={userId:e},this.socket.connect(),this.socket.emit("user-online",e)}disconnect(){this.socket.disconnect()}get isConnected$(){return this.connectedSubject.asObservable()}get onlineUsers$(){return this.onlineUsersSubject.asObservable()}get users$(){return this.users.asObservable()}get messages$(){return this.messages.asObservable()}sendMessage(e){this.socket.emit("send-message",e)}markAsRead(e,n){this.socket.emit("mark-as-read",{messageId:e,userId:n})}onNewMessage(){return new Pe(e=>{this.socket.on("new-message",n=>{e.next(n)})})}onMessageRead(){return new Pe(e=>{this.socket.on("message-read",n=>{e.next(n)})})}onUserStatusChange(){return new Pe(e=>{this.socket.on("user-status-change",n=>{e.next(n)})})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var tn=(()=>{class t{socketService;userWithConversations=new z([]);usersAvaliable=new z([]);userId=y("");users=new z([]);messages=new z([]);connectedSubject=new z(!1);conversationsSubject=new z([]);currentUserSubject=new z(null);route=M(Ie);constructor(e){this.socketService=e,console.log("MessageService initialized"),this.route.queryParamMap.subscribe(n=>{let i=n.get("user");i&&(this.userId.set("user-"+i),console.log(">userId:",this.userId()),this.initializeSocketListeners(),this.socketService.connect(this.userId()))})}initializeSocketListeners(){this.socketService.onNewMessage().subscribe(e=>{this.addMessageToConversation(e)}),this.socketService.onMessageRead().subscribe(({messageId:e,userId:n})=>{this.markMessageAsRead(e,n)}),this.socketService.onUserStatusChange().subscribe(({userId:e,isOnline:n})=>{this.updateUserStatus(e,n)}),this.socketService.users$.subscribe(e=>{if(this.connectedSubject.getValue()||e.length>0){let n=e.find(i=>i.id===this.userId());n&&(this.setCurrentUser(n),this.users.next(e))}}),this.socketService.messages$.subscribe(e=>{this.messages.next(e);let n=e.flatMap(d=>[d.senderId,d.receiverId]),i=[...new Set([...this.userWithConversations.getValue(),...n])];this.userWithConversations.next(i);let o=this.users.getValue().filter(d=>!i.includes(d.id));this.usersAvaliable.next(o);let l=this.groupMessagesIntoConversations(e);this.conversationsSubject.next(l)}),this.socketService.isConnected$.subscribe(e=>{this.connectedSubject.next(e)})}groupMessagesIntoConversations(e){let n=new Map;return e.forEach(i=>{let l=[i.senderId,i.receiverId].sort().join("-");n.has(l)||n.set(l,{id:`conv-${l}`,participants:this.users.getValue().filter(C=>[i.senderId,i.receiverId].includes(C.id)),messages:[],unreadCount:0,lastMessage:void 0,updatedAt:new Date(i.timestamp)});let d=n.get(l);d.messages.push({id:i.id,senderId:i.senderId,receiverId:i.receiverId,content:i.content,timestamp:new Date(i.timestamp),isRead:i.isRead,type:"text"}),i.isRead||d.unreadCount++,(!d.lastMessage||i.timestamp>d.lastMessage.timestamp)&&(d.lastMessage=i);let h=new Date(i.timestamp);h>d.updatedAt&&(d.updatedAt=h)}),n.forEach(i=>{i.messages.sort((o,l)=>o.timestamp.getTime()-l.timestamp.getTime())}),Array.from(n.values()).sort((i,o)=>o.updatedAt.getTime()-i.updatedAt.getTime())}setCurrentUser(e){this.currentUserSubject.next(e)}getCurrentUser(){return this.currentUserSubject.asObservable()}getConversations(){return this.conversationsSubject.asObservable()}getTotalUnreadCount(){return this.conversationsSubject.pipe(Te(e=>e.reduce((n,i)=>n+i.unreadCount,0)))}getUsersAvaliable(){return this.usersAvaliable.asObservable()}getUsers(){return this.users.asObservable()}newConversation(e){let n=this.currentUserSubject.value;if(!n)return;let i=this.conversationsSubject.value;if(!i.find(l=>l.participants.some(d=>d.id===n.id)&&l.participants.some(d=>d.id===e))){let l=this.users.getValue().find(d=>d.id===e);if(l){let d={id:`conv-${Date.now()}`,participants:[n,l],messages:[],unreadCount:0,updatedAt:new Date};i.push(d),i.sort((h,C)=>C.updatedAt.getTime()-h.updatedAt.getTime()),this.conversationsSubject.next([...i])}}}sendMessage(e,n){let i=this.currentUserSubject.value;if(!i)return;let o={id:`msg-${Date.now()}`,senderId:i.id,receiverId:e,content:n,timestamp:new Date,isRead:!1,type:"text"};this.socketService.sendMessage(o),this.addMessageToConversation(o)}markAsRead(e){let n=this.currentUserSubject.value;n&&(this.socketService.markAsRead(e,n.id),this.markMessageAsRead(e,n.id))}addMessageToConversation(e){let n=this.conversationsSubject.value,i=this.currentUserSubject.value;if(!i)return;let o=n.find(l=>l.participants.some(d=>d.id===e.senderId)&&l.participants.some(d=>d.id===e.receiverId));if(!o){let l=e.senderId===i.id?e.receiverId:e.senderId,d=this.users.getValue().find(h=>h.id===l);d&&(o={id:`conv-${Date.now()}`,participants:[i,d],messages:[],unreadCount:0,updatedAt:new Date},n.push(o))}o&&(e.timestamp=typeof e.timestamp=="string"?new Date(e.timestamp):e.timestamp,o.messages.push(e),o.lastMessage=e,o.updatedAt=e.timestamp,e.receiverId===i.id&&!e.isRead&&o.unreadCount++,console.log("conversations:",n),n.sort((l,d)=>d.updatedAt.getTime()-l.updatedAt.getTime()),this.conversationsSubject.next([...n]))}markMessageAsRead(e,n){let i=this.conversationsSubject.value;i.forEach(o=>{let l=o.messages.find(d=>d.id===e);l&&l.receiverId===n&&!l.isRead&&(l.isRead=!0,o.unreadCount=Math.max(0,o.unreadCount-1))}),this.conversationsSubject.next([...i])}updateUserStatus(e,n){let i=this.users.getValue().find(o=>o.id===e);i&&(i.isOnline=n,i.lastSeen=n?void 0:new Date)}static \u0275fac=function(n){return new(n||t)(W(br))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ds=["messageBubble"];function us(t,r){if(t&1){let e=I();s(0,"div",16),_("click",function(){b(e);let i=m();return w(i.onClose())}),a()}}function ms(t,r){if(t&1){let e=I();s(0,"button",9),_("click",function(){b(e);let i=m();return w(i.backToConversations())}),v(),s(1,"svg",10),f(2,"path",17),a()()}}function ps(t,r){if(t&1&&(s(0,"p"),u(1),a()),t&2){let e=m(3);c(),S('Nenhuma conversa encontrada para "',e.searchTerm(),'"')}}function hs(t,r){t&1&&(s(0,"p"),u(1,"Nenhuma conversa n\xE3o lida"),a())}function fs(t,r){t&1&&(s(0,"p"),u(1,"Nenhuma conversa dispon\xEDvel"),a())}function gs(t,r){if(t&1&&(s(0,"div",39),g(1,ps,2,1,"p")(2,hs,2,0,"p")(3,fs,2,0,"p"),a()),t&2){let e=m(2);c(),E(e.searchTerm()?1:e.filterUnread()?2:3)}}function vs(t,r){t&1&&f(0,"div",54)}function Cs(t,r){if(t&1&&(s(0,"div",55),u(1),a()),t&2){let e=m().$implicit;c(),S(" ",e.unreadCount," ")}}function _s(t,r){if(t&1&&(s(0,"p",53),u(1),a()),t&2){let e,n=m().$implicit,i=m(2);c(),S(" Visto ",i.formatTime((e=i.getOtherParticipant(n))==null?null:e.lastSeen,"relative-DataTime")," ")}}function bs(t,r){if(t&1){let e=I();s(0,"div",40),_("click",function(){let i=b(e).$implicit,o=m(2);return w(o.selectConversation(i))}),s(1,"div",41)(2,"div",42)(3,"div",43)(4,"span",44),u(5),a()(),g(6,vs,1,0,"div",45),a(),s(7,"div",46)(8,"div",47)(9,"h4",48),u(10),a(),s(11,"span",49),u(12),a()(),s(13,"div",50)(14,"p",51),u(15),a(),g(16,Cs,2,1,"div",52),a(),g(17,_s,2,1,"p",53),a()()()}if(t&2){let e,n,i,o,l=r.$implicit,d=m(2);c(5),S(" ",d.getInitials((e=d.getOtherParticipant(l))==null?null:e.name)," "),c(),p("ngIf",(n=d.getOtherParticipant(l))==null?null:n.isOnline),c(4),S(" ",(i=d.getOtherParticipant(l))==null?null:i.name," "),c(2),S(" ",d.formatTime(l.updatedAt)," "),c(3),S(" ",(l.lastMessage==null?null:l.lastMessage.content)||"Sem mensagens"," "),c(),p("ngIf",l.unreadCount>0),c(),E(!((o=d.getOtherParticipant(l))!=null&&o.isOnline)&&((o=d.getOtherParticipant(l))!=null&&o.lastSeen)?17:-1)}}function ws(t,r){if(t&1){let e=I();s(0,"div",18)(1,"div",19),v(),s(2,"svg",20),f(3,"path",21),a(),T(),s(4,"input",22),_("input",function(i){b(e);let o=m();return w(o.searchTerm.set(i.target.value))}),a(),s(5,"div",23)(6,"button",24),_("click",function(){b(e);let i=m();return w(i.toggleFilterUnread())}),v(),s(7,"svg",25),f(8,"path",26),a()()()(),T(),s(9,"div",27),u(10," Ordenar por: "),s(11,"select",28),_("change",function(i){b(e);let o=m();return w(o.onSortChange(i))}),s(12,"option",29),u(13,"Recentes"),a(),s(14,"option",30),u(15,"Nome"),a(),s(16,"option",31),u(17,"N\xE3o lidas"),a()()(),s(18,"div",32),g(19,gs,4,1,"div",33),N(20,bs,18,7,"div",34,di().trackByConversationId,!0),a(),s(22,"div",35)(23,"button",36),_("click",function(){b(e);let i=m();return w(i.openNewChatModal())}),v(),s(24,"svg",37),f(25,"path",38),a(),u(26," Nova Conversa "),a()()()}if(t&2){let e=m();p("ngClass",e.isMobile?e.selectedConversation?"hidden":"block":"lg:w-1/3"),c(4),p("value",e.searchTerm()),c(2),F(e.filterButtonClasses()),c(5),p("value",e.sortBy()),c(8),p("ngIf",e.filteredConversations().length===0),c(),$(e.filteredConversations())}}function xs(t,r){t&1&&(s(0,"div",59)(1,"div",60),v(),s(2,"svg",61),f(3,"path",62),a(),T(),s(4,"p"),u(5,"Selecione uma conversa para come\xE7ar"),a()()())}function ys(t,r){t&1&&f(0,"div",74)}function Ss(t,r){if(t&1&&(s(0,"div",76)(1,"div",83),u(2),a()()),t&2){let e=m().$implicit,n=m(3);c(2),S(" ",n.formatTime(e.timestamp,"contextual")," ")}}function Ts(t,r){if(t&1&&(s(0,"p",79,2),u(2),a()),t&2){let e=m().$implicit;se("data-code",e.id),c(2),Ue(" >>>>",e.id," - ",e.content," - (",e.isRead,") ")}}function ks(t,r){if(t&1&&(s(0,"p",79),u(1),a()),t&2){let e=m().$implicit;se("data-code",e.id),c(),Ue(" ",e.id," - ",e.content," - (",e.isRead,") ")}}function Es(t,r){t&1&&(v(),s(0,"svg",84),f(1,"path",86)(2,"path",87),a())}function Ms(t,r){t&1&&(v(),s(0,"svg",85),f(1,"path",86)(2,"path",87),a())}function Is(t,r){if(t&1&&(s(0,"div",82),g(1,Es,3,0,":svg:svg",84)(2,Ms,3,0,":svg:svg",85),a()),t&2){let e=m().$implicit;c(),E(e.isRead?1:2)}}function As(t,r){if(t&1&&(s(0,"div",75),g(1,Ss,3,1,"div",76),s(2,"div",77)(3,"div",78),g(4,Ts,3,4,"p",79)(5,ks,2,4,"p",79),s(6,"div",80)(7,"span",81),u(8),a(),g(9,Is,3,1,"div",82),a()()()()),t&2){let e=r.$implicit,n=r.index,i=m(3);c(),E(i.shouldShowDivider(n,i.selectedConversation.messages)?1:-1),c(),F(e.senderId===(i.currentUser==null?null:i.currentUser.id)?"chat-end":"chat-start"),c(),F(e.senderId===(i.currentUser==null?null:i.currentUser.id)?"bg-primary text-primary-content":"bg-base-200 text-base-content"),c(),E(e.senderId!==(i.currentUser==null?null:i.currentUser.id)&&!e.isRead?4:5),c(4),S(" ",i.formatTime(e.timestamp,"relative-DataTime")," "),c(),E(e.senderId===(i.currentUser==null?null:i.currentUser.id)?9:-1)}}function Rs(t,r){if(t&1){let e=I();s(0,"div",63)(1,"div",64)(2,"div",41)(3,"div",42)(4,"div",65)(5,"span",44),u(6),a()(),g(7,ys,1,0,"div",66),a(),s(8,"div")(9,"h4",67),u(10),a(),s(11,"p",49),u(12),a()()()(),s(13,"div",68,0),g(15,As,10,8,"div",69),a(),s(16,"div",35)(17,"form",70),_("ngSubmit",function(){b(e);let i=m(2);return w(i.sendMessage())}),s(18,"input",71,1),_e("ngModelChange",function(i){b(e);let o=m(2);return Ce(o.newMessage,i)||(o.newMessage=i),w(i)}),a(),s(20,"button",72),v(),s(21,"svg",10),f(22,"path",73),a()()()()()}if(t&2){let e,n,i,o,l=m(2);c(6),S(" ",l.getInitials((e=l.getOtherParticipant(l.selectedConversation))==null?null:e.name)," "),c(),p("ngIf",(n=l.getOtherParticipant(l.selectedConversation))==null?null:n.isOnline),c(3),L((i=l.getOtherParticipant(l.selectedConversation))==null?null:i.name),c(2),S(" ",(o=l.getOtherParticipant(l.selectedConversation))!=null&&o.isOnline?"Online":"Offline"," "),c(3),p("ngForOf",l.selectedConversation.messages)("ngForTrackBy",l.trackByMessageId),c(3),ve("ngModel",l.newMessage),p("disabled",!l.selectedConversation),c(2),p("disabled",!l.newMessage.trim()||!l.selectedConversation)}}function Ds(t,r){if(t&1&&(s(0,"div",56),g(1,xs,6,0,"div",57)(2,Rs,23,9,"div",58),a()),t&2){let e=m();p("ngClass",e.isMobile?e.selectedConversation?"block":"hidden":"block"),c(),p("ngIf",!e.selectedConversation),c(),p("ngIf",e.selectedConversation)}}function Ls(t,r){t&1&&f(0,"div",74)}function Vs(t,r){if(t&1){let e=I();s(0,"div",95),_("click",function(){let i=b(e).$implicit,o=m(2);return w(o.startNewConversation(i))}),s(1,"div",42)(2,"div",96)(3,"span",44),u(4),a()(),g(5,Ls,1,0,"div",66),a(),s(6,"div")(7,"h4",67),u(8),a(),s(9,"p",49),u(10),a()()()}if(t&2){let e=r.$implicit;c(4),L(e.name.charAt(0)),c(),p("ngIf",e.isOnline),c(3),L(e.name),c(2),S(" ",e.isOnline?"Online":"Offline"," ")}}function Os(t,r){if(t&1){let e=I();s(0,"div",88)(1,"div",89)(2,"h3",90),u(3,"Nova Conversa"),a(),s(4,"div",91),g(5,Vs,11,4,"div",92),a(),s(6,"div",93)(7,"button",94),_("click",function(){b(e);let i=m();return w(i.closeNewChatModal())}),u(8,"Cancelar"),a()()()()}if(t&2){let e=m();c(5),p("ngForOf",e.availableUsers)}}var wr=(()=>{class t{messageElements;notified=new Set;intersectionObservers=new Map;messageService=M(tn);isOpen=!1;close=new Lt;searchTerm=y("");filterUnread=y(!1);sortBy=y("recent");conversations=y([]);selectedConversation=null;currentUser=null;newMessage="";isMobile=window.innerWidth<768;showNewChatModal=!1;availableUsers=[];filterButtonClasses=H(()=>`relative rounded m-1 p-1 border cursor-pointer focus:ring-2 focus:ring-blue-500 hover:bg-base-300 ${this.filterUnread()?"bg-cyan-300":"bg-base-100"}`);filteredConversations=H(()=>{let e=this.conversations(),n=this.searchTerm(),i=this.filterUnread(),o=this.sortBy(),l=e.filter(d=>{let h=this.getOtherParticipant(d),C=!n||(h?.name.toLowerCase().includes(n.toLowerCase())??!1),x=!i||d.unreadCount>0;return C&&x});return l.sort((d,h)=>{switch(o){case"name":{let C=x=>x.participants.find(A=>A.id!==this.currentUser?.id)?.name.toLowerCase()||"";return C(d).localeCompare(C(h))}case"unread":return h.unreadCount-d.unreadCount;case"recent":default:return d.updatedAt.getTime()-h.updatedAt.getTime()}}),l});destroy$=new Se;ngOnInit(){this.messageService.getCurrentUser().pipe(je(this.destroy$)).subscribe(e=>{this.currentUser=e}),this.messageService.getConversations().pipe(je(this.destroy$)).subscribe(e=>{this.conversations.set(e)}),this.messageService.getUsersAvaliable().pipe(je(this.destroy$)).subscribe(e=>{this.availableUsers=e})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngAfterViewChecked(){this.messageElements.forEach(e=>{let n=e.nativeElement,i=n.getAttribute("data-code");if(i&&!this.notified.has(i)&&!this.intersectionObservers.has(i)){let o=new IntersectionObserver(([l])=>{l.isIntersecting&&(console.log("Mensagem "+i+" vis\xEDvel"),this.notified.add(i),o.disconnect(),this.intersectionObservers.delete(i))},{threshold:.5});o.observe(n),this.intersectionObservers.set(i,o)}})}checkScreenSize(){this.isMobile=window.innerWidth<768}onClose(){this.close.emit(),this.selectedConversation=null}onSortChange(e){let n=e.target;this.sortBy.set(n.value)}toggleFilterUnread(){this.filterUnread.set(!this.filterUnread())}selectConversation(e){this.selectedConversation=e,e.messages.filter(i=>i.receiverId===this.currentUser?.id&&!i.isRead).forEach(i=>{this.markAsRead(i)}),setTimeout(()=>this.scrollToBottom(),100)}backToConversations(){this.selectedConversation=null}sendMessage(){if(!this.newMessage.trim()||!this.selectedConversation)return;let e=this.getOtherParticipant(this.selectedConversation);e&&(this.messageService.sendMessage(e.id,this.newMessage.trim()),this.newMessage="",setTimeout(()=>this.scrollToBottom(),100))}markAsRead(e){this.messageService.markAsRead(e.id)}getOtherParticipant(e){return e.participants.find(n=>n.id!==this.currentUser?.id)}formatTime(e,n="relative"){let i=new Date(e),o=new Date,l=new Date(o.getFullYear(),o.getMonth(),o.getDate()),d=new Date(i.getFullYear(),i.getMonth(),i.getDate()),h=new Date(l);if(h.setDate(l.getDate()-1),n==="relative"||n==="relative-DataTime"){let C=o.getTime()-i.getTime(),x=Math.floor(C/(1e3*60)),A=Math.floor(C/(1e3*60*60)),U=Math.floor(C/(1e3*60*60*24));return x<1?"agora":x<60?`${x}min`:A<24?`${A}h`:U<7&&n==="relative"?`${U}d`:n==="relative-DataTime"?i.toLocaleDateString("pt-BR")+" "+this.formatTimeOnly(i):i.toLocaleDateString("pt-BR")}if(n==="contextual"){if(d.getTime()===l.getTime())return"Hoje";if(d.getTime()===h.getTime())return"Ontem";let C=Math.floor((l.getTime()-d.getTime())/(1e3*60*60*24));if(C>=2&&C<=7)return["domingo","segunda-feira","ter\xE7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xE1bado"][i.getDay()];let x=["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"];if(i.getFullYear()===o.getFullYear()&&C>7)return`${i.getDate()} de ${x[i.getMonth()]}`;if(i.getFullYear()<o.getFullYear())return`${i.getDate()} de ${x[i.getMonth()]} de ${i.getFullYear()}`}return i.toLocaleDateString("pt-BR")}formatTimeOnly(e){return e.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",hour12:!1})}shouldShowDivider(e,n){if(e===0)return!0;let i=n[e],o=n[e-1],l=new Date(i.timestamp).toDateString(),d=new Date(o.timestamp).toDateString();return l!==d}openNewChatModal(){this.showNewChatModal=!0}closeNewChatModal(){this.showNewChatModal=!1}startNewConversation(e){this.messageService.newConversation(e.id),this.closeNewChatModal(),setTimeout(()=>{let n=this.conversations().find(i=>i.participants.some(o=>o.id===e.id));n&&this.selectConversation(n)},100)}scrollToBottom(){let e=document.querySelector("#messagesContainer");e&&(e.scrollTop=e.scrollHeight)}trackByConversationId(e,n){return n.id}trackByMessageId(e,n){return n.id}getInitials(e){if(!e)return"";let n=e.trim().split(/\s+/);if(n.length===1)return n[0][0].toUpperCase();let i=n[0][0].toUpperCase(),o=n[n.length-1][0].toUpperCase();return i+o}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=j({type:t,selectors:[["app-message-drawer"]],viewQuery:function(n,i){if(n&1&&K(ds,5),n&2){let o;Q(o=Y())&&(i.messageElements=o)}},hostBindings:function(n,i){n&1&&_("resize",function(l){return i.checkScreenSize(l)},!1,Ot)},inputs:{isOpen:"isOpen"},outputs:{close:"close"},decls:14,vars:9,consts:[["messagesContainer",""],["messageInput",""],["messageBubble",""],["class","fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",3,"click",4,"ngIf"],["id","drawer-chat",1,"fixed","right-0","top-0","h-full","bg-base-100","shadow-xl","transform","transition-transform","duration-300","z-50",3,"ngClass"],[1,"flex","items-center","justify-between","p-4","border-b","border-base-300"],[1,"text-lg","font-semibold"],[1,"flex","items-center","space-x-2"],["class","btn btn-ghost btn-sm btn-circle",3,"click",4,"ngIf"],[1,"btn","btn-ghost","btn-sm","btn-circle",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"flex","h-full",2,"height","calc(100% - 65px)"],["class","w-full border-r border-base-300 flex flex-col",3,"ngClass",4,"ngIf"],["class","flex-1 flex flex-col",3,"ngClass",4,"ngIf"],["class","modal modal-open",4,"ngIf"],[1,"fixed","inset-0","bg-black","bg-opacity-50","z-40","lg:hidden",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"w-full","border-r","border-base-300","flex","flex-col",3,"ngClass"],[1,"flex","relative","mb-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","text-gray-400","w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Buscar conversas...",1,"w-full","pl-8","pr-4","py-2","m-1","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"input","value"],["data-tip","Filtra conversas n\xE3o lidas",1,"tooltip"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","currentcolor",1,"w-6","h-6","mt-1"],["d","M400-240v-80h160v80H400ZM240-440v-80h480v80H240ZM120-640v-80h720v80H120Z"],[1,"flex","gap-2"],[1,"bg-base-100","px-3","py-1","text-sm","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"change","value"],["value","recent"],["value","name"],["value","unread"],[1,"flex-1","overflow-y-auto"],["class","p-4 text-center text-base-content/60",4,"ngIf"],[1,"p-4","border-b","border-base-300","cursor-pointer","hover:bg-base-200","transition-colors"],[1,"p-4","border-t","border-base-300"],[1,"btn","btn-primary","btn-sm","w-full",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"p-4","text-center","text-base-content/60"],[1,"p-4","border-b","border-base-300","cursor-pointer","hover:bg-base-200","transition-colors",3,"click"],[1,"flex","items-center","space-x-3"],[1,"avatar"],[1,"w-12","rounded-full","bg-primary","text-primary-content","flex","items-center","justify-center","p-3"],[1,"text-sm","font-medium"],["class","absolute bottom-0 right-0 w-4 h-4 bg-success rounded-full border-2 border-base-100",4,"ngIf"],[1,"flex-1","min-w-0"],[1,"flex","items-center","justify-between"],[1,"font-semibold","truncate"],[1,"text-xs","text-base-content/60"],[1,"flex","items-center","justify-between","mt-1"],[1,"text-sm","text-base-content/70","truncate"],["class","badge badge-primary badge-sm",4,"ngIf"],[1,"text-xs","text-gray-400","mt-1"],[1,"absolute","bottom-0","right-0","w-4","h-4","bg-success","rounded-full","border-2","border-base-100"],[1,"badge","badge-primary","badge-sm"],[1,"flex-1","flex","flex-col",3,"ngClass"],["class","flex-1 flex items-center justify-center",4,"ngIf"],["class","flex-1 flex flex-col",4,"ngIf"],[1,"flex-1","flex","items-center","justify-center"],[1,"text-center","text-base-content/60"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","mx-auto","mb-4","opacity-50"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],[1,"flex-1","flex","flex-col"],[1,"p-4","border-b","border-base-300"],[1,"w-10","rounded-full","bg-primary","text-primary-content","flex","items-center","justify-center","p-2"],["class","absolute bottom-0 right-0 w-3 h-3 bg-success rounded-full border border-base-100",4,"ngIf"],[1,"font-semibold"],[1,"flex-1","overflow-y-auto","p-4","space-y-4"],["class","flex-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","space-x-2",3,"ngSubmit"],["type","text","name","newMessage","placeholder","Digite sua mensagem...",1,"input","input-bordered","flex-1",3,"ngModelChange","ngModel","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 19l9 2-9-18-9 18 9-2zm0 0v-8"],[1,"absolute","bottom-0","right-0","w-3","h-3","bg-success","rounded-full","border","border-base-100"],[1,"flex-row"],[1,"flex","w-full","flex-col","justify-center"],[1,"chat"],[1,"chat-bubble"],[1,"text-sm"],[1,"flex","items-center","justify-end","mt-1","space-x-1"],[1,"text-xs","opacity-70"],[1,"text-xs"],[1,"divider"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-info"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","opacity-50"],["fill-rule","evenodd","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["fill-rule","evenodd","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7","transform","translate(4,0)"],[1,"modal","modal-open"],[1,"modal-box"],[1,"font-bold","text-lg","mb-4"],[1,"space-y-2"],["class","p-3 rounded-lg cursor-pointer hover:bg-base-200 transition-colors flex items-center space-x-3",3,"click",4,"ngFor","ngForOf"],[1,"modal-action"],[1,"btn","btn-ghost",3,"click"],[1,"p-3","rounded-lg","cursor-pointer","hover:bg-base-200","transition-colors","flex","items-center","space-x-3",3,"click"],[1,"w-10","rounded-full","bg-primary","text-primary-content","flex","items-center","justify-center"]],template:function(n,i){n&1&&(g(0,us,1,0,"div",3),s(1,"div",4)(2,"div",5)(3,"h3",6),u(4),a(),s(5,"div",7),g(6,ms,3,0,"button",8),s(7,"button",9),_("click",function(){return i.onClose()}),v(),s(8,"svg",10),f(9,"path",11),a()()()(),T(),s(10,"div",12),g(11,ws,27,6,"div",13)(12,Ds,3,3,"div",14),a()(),g(13,Os,9,1,"div",15)),n&2&&(p("ngIf",i.isOpen),c(),ci("width",i.isMobile?"100%":"800px"),p("ngClass",i.isOpen?"translate-x-0":"translate-x-full"),c(3),S(" ",(i.selectedConversation?"Conversas":"Mensagens")+" - "+(i.currentUser==null?null:i.currentUser.name)," "),c(2),p("ngIf",i.isMobile&&i.selectedConversation),c(5),p("ngIf",!i.isMobile||!i.selectedConversation),c(),p("ngIf",!i.isMobile||i.selectedConversation),c(),p("ngIf",i.showNewChatModal))},dependencies:[G,ke,Ee,ce,Me,Zt,We,Ke,$e,Ge,Bt,ze,jt],encapsulation:2})}return t})();function xr(t,r){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;let e=document.implementation.createHTMLDocument(),n=e.createElement("base"),i=e.createElement("a");return e.head.appendChild(n),e.body.appendChild(i),r&&(n.href=r),i.href=t,i.href}var yr=(()=>{let t=0,r=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${r()}${t}`)})();function me(t){let r=[];for(let e=0,n=t.length;e<n;e++)r.push(t[e]);return r}var st=null;function rn(t={}){return st||(t.includeStyleProperties?(st=t.includeStyleProperties,st):(st=me(window.getComputedStyle(document.documentElement)),st))}function nn(t,r){let n=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(r);return n?parseFloat(n.replace("px","")):0}function qs(t){let r=nn(t,"border-left-width"),e=nn(t,"border-right-width");return t.clientWidth+r+e}function Fs(t){let r=nn(t,"border-top-width"),e=nn(t,"border-bottom-width");return t.clientHeight+r+e}function jn(t,r={}){let e=r.width||qs(t),n=r.height||Fs(t);return{width:e,height:n}}function Sr(){let t,r;try{r=process}catch{}let e=r&&r.env?r.env.devicePixelRatio:null;return e&&(t=parseInt(e,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}var re=16384;function Tr(t){(t.width>re||t.height>re)&&(t.width>re&&t.height>re?t.width>t.height?(t.height*=re/t.width,t.width=re):(t.width*=re/t.height,t.height=re):t.width>re?(t.height*=re/t.width,t.width=re):(t.width*=re/t.height,t.height=re))}function at(t){return new Promise((r,e)=>{let n=new Image;n.onload=()=>{n.decode().then(()=>{requestAnimationFrame(()=>r(n))})},n.onerror=e,n.crossOrigin="anonymous",n.decoding="async",n.src=t})}function Hs(t){return k(this,null,function*(){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(r=>`data:image/svg+xml;charset=utf-8,${r}`)})}function kr(t,r,e){return k(this,null,function*(){let n="http://www.w3.org/2000/svg",i=document.createElementNS(n,"svg"),o=document.createElementNS(n,"foreignObject");return i.setAttribute("width",`${r}`),i.setAttribute("height",`${e}`),i.setAttribute("viewBox",`0 0 ${r} ${e}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),i.appendChild(o),o.appendChild(t),Hs(i)})}var X=(t,r)=>{if(t instanceof r)return!0;let e=Object.getPrototypeOf(t);return e===null?!1:e.constructor.name===r.name||X(e,r)};function Ps(t){let r=t.getPropertyValue("content");return`${t.cssText} content: '${r.replace(/'|"/g,"")}';`}function Bs(t,r){return rn(r).map(e=>{let n=t.getPropertyValue(e),i=t.getPropertyPriority(e);return`${e}: ${n}${i?" !important":""};`}).join(" ")}function js(t,r,e,n){let i=`.${t}:${r}`,o=e.cssText?Ps(e):Bs(e,n);return document.createTextNode(`${i}{${o}}`)}function Er(t,r,e,n){let i=window.getComputedStyle(t,e),o=i.getPropertyValue("content");if(o===""||o==="none")return;let l=yr();try{r.className=`${r.className} ${l}`}catch{return}let d=document.createElement("style");d.appendChild(js(l,e,i,n)),r.appendChild(d)}function Mr(t,r,e){Er(t,r,":before",e),Er(t,r,":after",e)}var Ir="application/font-woff",Ar="image/jpeg",Zs={woff:Ir,woff2:Ir,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Ar,jpeg:Ar,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Us(t){let r=/\.([^./]*?)$/g.exec(t);return r?r[1]:""}function lt(t){let r=Us(t).toLowerCase();return Zs[r]||""}function Ns(t){return t.split(/,/)[1]}function It(t){return t.search(/^(data:)/)!==-1}function Un(t,r){return`data:${r};base64,${t}`}function Nn(t,r,e){return k(this,null,function*(){let n=yield fetch(t,r);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);let i=yield n.blob();return new Promise((o,l)=>{let d=new FileReader;d.onerror=l,d.onloadend=()=>{try{o(e({res:n,result:d.result}))}catch(h){l(h)}},d.readAsDataURL(i)})})}var Zn={};function $s(t,r,e){let n=t.replace(/\?.*/,"");return e&&(n=t),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),r?`[${r}]${n}`:n}function ct(t,r,e){return k(this,null,function*(){let n=$s(t,r,e.includeQueryParams);if(Zn[n]!=null)return Zn[n];e.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let i;try{let o=yield Nn(t,e.fetchRequestInit,({res:l,result:d})=>(r||(r=l.headers.get("Content-Type")||""),Ns(d)));i=Un(o,r)}catch(o){i=e.imagePlaceholder||"";let l=`Failed to fetch resource: ${t}`;o&&(l=typeof o=="string"?o:o.message),l&&console.warn(l)}return Zn[n]=i,i})}function Gs(t){return k(this,null,function*(){let r=t.toDataURL();return r==="data:,"?t.cloneNode(!1):at(r)})}function zs(t,r){return k(this,null,function*(){if(t.currentSrc){let o=document.createElement("canvas"),l=o.getContext("2d");o.width=t.clientWidth,o.height=t.clientHeight,l?.drawImage(t,0,0,o.width,o.height);let d=o.toDataURL();return at(d)}let e=t.poster,n=lt(e),i=yield ct(e,n,r);return at(i)})}function Ws(t,r){return k(this,null,function*(){var e;try{if(!((e=t?.contentDocument)===null||e===void 0)&&e.body)return yield At(t.contentDocument.body,r,!0)}catch{}return t.cloneNode(!1)})}function Ks(t,r){return k(this,null,function*(){return X(t,HTMLCanvasElement)?Gs(t):X(t,HTMLVideoElement)?zs(t,r):X(t,HTMLIFrameElement)?Ws(t,r):t.cloneNode(Rr(t))})}var Qs=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",Rr=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";function Ys(t,r,e){return k(this,null,function*(){var n,i;if(Rr(r))return r;let o=[];return Qs(t)&&t.assignedNodes?o=me(t.assignedNodes()):X(t,HTMLIFrameElement)&&(!((n=t.contentDocument)===null||n===void 0)&&n.body)?o=me(t.contentDocument.body.childNodes):o=me(((i=t.shadowRoot)!==null&&i!==void 0?i:t).childNodes),o.length===0||X(t,HTMLVideoElement)||(yield o.reduce((l,d)=>l.then(()=>At(d,e)).then(h=>{h&&r.appendChild(h)}),Promise.resolve())),r})}function Js(t,r,e){let n=r.style;if(!n)return;let i=window.getComputedStyle(t);i.cssText?(n.cssText=i.cssText,n.transformOrigin=i.transformOrigin):rn(e).forEach(o=>{let l=i.getPropertyValue(o);o==="font-size"&&l.endsWith("px")&&(l=`${Math.floor(parseFloat(l.substring(0,l.length-2)))-.1}px`),X(t,HTMLIFrameElement)&&o==="display"&&l==="inline"&&(l="block"),o==="d"&&r.getAttribute("d")&&(l=`path(${r.getAttribute("d")})`),n.setProperty(o,l,i.getPropertyPriority(o))})}function Xs(t,r){X(t,HTMLTextAreaElement)&&(r.innerHTML=t.value),X(t,HTMLInputElement)&&r.setAttribute("value",t.value)}function ea(t,r){if(X(t,HTMLSelectElement)){let e=r,n=Array.from(e.children).find(i=>t.value===i.getAttribute("value"));n&&n.setAttribute("selected","")}}function ta(t,r,e){return X(r,Element)&&(Js(t,r,e),Mr(t,r,e),Xs(t,r),ea(t,r)),r}function na(t,r){return k(this,null,function*(){let e=t.querySelectorAll?t.querySelectorAll("use"):[];if(e.length===0)return t;let n={};for(let o=0;o<e.length;o++){let d=e[o].getAttribute("xlink:href");if(d){let h=t.querySelector(d),C=document.querySelector(d);!h&&C&&!n[d]&&(n[d]=yield At(C,r,!0))}}let i=Object.values(n);if(i.length){let o="http://www.w3.org/1999/xhtml",l=document.createElementNS(o,"svg");l.setAttribute("xmlns",o),l.style.position="absolute",l.style.width="0",l.style.height="0",l.style.overflow="hidden",l.style.display="none";let d=document.createElementNS(o,"defs");l.appendChild(d);for(let h=0;h<i.length;h++)d.appendChild(i[h]);t.appendChild(l)}return t})}function At(t,r,e){return k(this,null,function*(){return!e&&r.filter&&!r.filter(t)?null:Promise.resolve(t).then(n=>Ks(n,r)).then(n=>Ys(t,n,r)).then(n=>ta(t,n,r)).then(n=>na(n,r))})}var Dr=/url\((['"]?)([^'"]+?)\1\)/g,ia=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,ra=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function oa(t){let r=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${r})(['"]?\\))`,"g")}function sa(t){let r=[];return t.replace(Dr,(e,n,i)=>(r.push(i),e)),r.filter(e=>!It(e))}function aa(t,r,e,n,i){return k(this,null,function*(){try{let o=e?xr(r,e):r,l=lt(r),d;if(i){let h=yield i(o);d=Un(h,l)}else d=yield ct(o,l,n);return t.replace(oa(r),`$1${d}$3`)}catch{}return t})}function la(t,{preferredFontFormat:r}){return r?t.replace(ra,e=>{for(;;){let[n,,i]=ia.exec(e)||[];if(!i)return"";if(i===r)return`src: ${n};`}}):t}function $n(t){return t.search(Dr)!==-1}function on(t,r,e){return k(this,null,function*(){if(!$n(t))return t;let n=la(t,e);return sa(n).reduce((o,l)=>o.then(d=>aa(d,l,r,e)),Promise.resolve(n))})}function dt(t,r,e){return k(this,null,function*(){var n;let i=(n=r.style)===null||n===void 0?void 0:n.getPropertyValue(t);if(i){let o=yield on(i,null,e);return r.style.setProperty(t,o,r.style.getPropertyPriority(t)),!0}return!1})}function ca(t,r){return k(this,null,function*(){(yield dt("background",t,r))||(yield dt("background-image",t,r)),(yield dt("mask",t,r))||(yield dt("-webkit-mask",t,r))||(yield dt("mask-image",t,r))||(yield dt("-webkit-mask-image",t,r))})}function da(t,r){return k(this,null,function*(){let e=X(t,HTMLImageElement);if(!(e&&!It(t.src))&&!(X(t,SVGImageElement)&&!It(t.href.baseVal)))return;let n=e?t.src:t.href.baseVal,i=yield ct(n,lt(n),r);yield new Promise((o,l)=>{t.onload=o,t.onerror=r.onImageErrorHandler?(...h)=>{try{o(r.onImageErrorHandler(...h))}catch(C){l(C)}}:l;let d=t;d.decode&&(d.decode=o),d.loading==="lazy"&&(d.loading="eager"),e?(t.srcset="",t.src=i):t.href.baseVal=i})})}function ua(t,r){return k(this,null,function*(){let n=me(t.childNodes).map(i=>Gn(i,r));yield Promise.all(n).then(()=>t)})}function Gn(t,r){return k(this,null,function*(){X(t,Element)&&(yield ca(t,r),yield da(t,r),yield ua(t,r))})}function Lr(t,r){let{style:e}=t;r.backgroundColor&&(e.backgroundColor=r.backgroundColor),r.width&&(e.width=`${r.width}px`),r.height&&(e.height=`${r.height}px`);let n=r.style;return n!=null&&Object.keys(n).forEach(i=>{e[i]=n[i]}),t}var Vr={};function Or(t){return k(this,null,function*(){let r=Vr[t];if(r!=null)return r;let n=yield(yield fetch(t)).text();return r={url:t,cssText:n},Vr[t]=r,r})}function qr(t,r){return k(this,null,function*(){let e=t.cssText,n=/url\(["']?([^"')]+)["']?\)/g,o=(e.match(/url\([^)]+\)/g)||[]).map(l=>k(null,null,function*(){let d=l.replace(n,"$1");return d.startsWith("https://")||(d=new URL(d,t.url).href),Nn(d,r.fetchRequestInit,({result:h})=>(e=e.replace(l,`url(${h})`),[l,h]))}));return Promise.all(o).then(()=>e)})}function Fr(t){if(t==null)return[];let r=[],e=/(\/\*[\s\S]*?\*\/)/gi,n=t.replace(e,""),i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){let h=i.exec(n);if(h===null)break;r.push(h[0])}n=n.replace(i,"");let o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,l="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",d=new RegExp(l,"gi");for(;;){let h=o.exec(n);if(h===null){if(h=d.exec(n),h===null)break;o.lastIndex=d.lastIndex}else d.lastIndex=o.lastIndex;r.push(h[0])}return r}function ma(t,r){return k(this,null,function*(){let e=[],n=[];return t.forEach(i=>{if("cssRules"in i)try{me(i.cssRules||[]).forEach((o,l)=>{if(o.type===CSSRule.IMPORT_RULE){let d=l+1,h=o.href,C=Or(h).then(x=>qr(x,r)).then(x=>Fr(x).forEach(A=>{try{i.insertRule(A,A.startsWith("@import")?d+=1:i.cssRules.length)}catch(U){console.error("Error inserting rule from remote css",{rule:A,error:U})}})).catch(x=>{console.error("Error loading remote css",x.toString())});n.push(C)}})}catch(o){let l=t.find(d=>d.href==null)||document.styleSheets[0];i.href!=null&&n.push(Or(i.href).then(d=>qr(d,r)).then(d=>Fr(d).forEach(h=>{l.insertRule(h,l.cssRules.length)})).catch(d=>{console.error("Error loading remote stylesheet",d)})),console.error("Error inlining remote css file",o)}}),Promise.all(n).then(()=>(t.forEach(i=>{if("cssRules"in i)try{me(i.cssRules||[]).forEach(o=>{e.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${i.href}`,o)}}),e))})}function pa(t){return t.filter(r=>r.type===CSSRule.FONT_FACE_RULE).filter(r=>$n(r.style.getPropertyValue("src")))}function ha(t,r){return k(this,null,function*(){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");let e=me(t.ownerDocument.styleSheets),n=yield ma(e,r);return pa(n)})}function Hr(t){return t.trim().replace(/["']/g,"")}function fa(t){let r=new Set;function e(n){(n.style.fontFamily||getComputedStyle(n).fontFamily).split(",").forEach(o=>{r.add(Hr(o))}),Array.from(n.children).forEach(o=>{o instanceof HTMLElement&&e(o)})}return e(t),r}function Pr(t,r){return k(this,null,function*(){let e=yield ha(t,r),n=fa(t);return(yield Promise.all(e.filter(o=>n.has(Hr(o.style.fontFamily))).map(o=>{let l=o.parentStyleSheet?o.parentStyleSheet.href:null;return on(o.cssText,l,r)}))).join(`
`)})}function Br(t,r){return k(this,null,function*(){let e=r.fontEmbedCSS!=null?r.fontEmbedCSS:r.skipFonts?null:yield Pr(t,r);if(e){let n=document.createElement("style"),i=document.createTextNode(e);n.appendChild(i),t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)}})}function ga(e){return k(this,arguments,function*(t,r={}){let{width:n,height:i}=jn(t,r),o=yield At(t,r,!0);return yield Br(o,r),yield Gn(o,r),Lr(o,r),yield kr(o,n,i)})}function va(e){return k(this,arguments,function*(t,r={}){let{width:n,height:i}=jn(t,r),o=yield ga(t,r),l=yield at(o),d=document.createElement("canvas"),h=d.getContext("2d"),C=r.pixelRatio||Sr(),x=r.canvasWidth||n,A=r.canvasHeight||i;return d.width=x*C,d.height=A*C,r.skipAutoScale||Tr(d),d.style.width=`${x}`,d.style.height=`${A}`,r.backgroundColor&&(h.fillStyle=r.backgroundColor,h.fillRect(0,0,d.width,d.height)),h.drawImage(l,0,0,d.width,d.height),d})}function jr(e){return k(this,arguments,function*(t,r={}){return(yield va(t,r)).toDataURL()})}var Rt=po(ho(),1);var Zr=(()=>{class t{el;renderer;fullText="";shortText="";checkOnResize=!0;resizeObserver;currentText="";constructor(e,n){this.el=e,this.renderer=n}ngOnInit(){if(!this.fullText||!this.shortText){console.warn("textOverflowMonitor: fullText e shortText s\xE3o obrigat\xF3rios");return}this.currentText=this.fullText,this.updateText(),this.setupResizeObserver(),setTimeout(()=>this.checkTextFit(),100)}ngOnDestroy(){this.resizeObserver&&this.resizeObserver.disconnect()}onWindowResize(){this.checkOnResize&&this.checkTextFit()}setupResizeObserver(){typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(()=>{this.checkTextFit()}),this.resizeObserver.observe(this.el.nativeElement))}checkTextFit(){let e=this.el.nativeElement;this.currentText===this.shortText&&this.setTextAndCheck(this.fullText),this.hasTextOverflow()&&this.currentText!==this.shortText&&this.setTextAndCheck(this.shortText)}hasTextOverflow(){let e=this.el.nativeElement;return e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight}setTextAndCheck(e){this.currentText=e,this.updateText(),setTimeout(()=>{e===this.fullText&&this.hasTextOverflow()&&(this.currentText=this.shortText,this.updateText())},10)}updateText(){this.renderer.setProperty(this.el.nativeElement,"textContent",this.currentText)}static \u0275fac=function(n){return new(n||t)(ne(qe),ne(ft))};static \u0275dir=fe({type:t,selectors:[["","textOverflowMonitor",""]],hostBindings:function(n,i){n&1&&_("resize",function(){return i.onWindowResize()},!1,Ot)},inputs:{fullText:"fullText",shortText:"shortText",checkOnResize:"checkOnResize"}})}return t})();var sn=(()=>{class t{http;route=M(Ie);socket=null;SIGNAL_SERVER="wss://192.168.10.5:3000/messages";constructor(e){this.http=e,this.route.queryParamMap.subscribe(n=>{let i=n.get("user");i&&this.initializeUser("user-"+i)})}_currentUserId=y("");_messages=y([]);_users1=y([{id:"user-1",name:"Ana Silva",isOnline:!0},{id:"user-2",name:"Bruno Costa",isOnline:!0},{id:"user-3",name:"Carla Santos",isOnline:!1,lastSeen:new Date("2025-06-10T07:30:00Z")},{id:"user-4",name:"Diego Lima",isOnline:!0},{id:"user-5",name:"Elena Rocha",isOnline:!1,lastSeen:new Date("2025-06-09T22:15:00Z")},{id:"user-6",name:"Felipe Nunes",isOnline:!0},{id:"user-7",name:"Gabriela Pires",isOnline:!1,lastSeen:new Date("2025-06-10T06:45:00Z")},{id:"user-8",name:"Hugo Martins",isOnline:!0},{id:"user-9",name:"Isabela Freitas",isOnline:!1,lastSeen:new Date("2025-06-10T08:20:00Z")}]);_users=y([]);_hasNewMessages=y(!1);_isConnected=y(!1);_conversationsUpdated=new Se;messageReceivedSubject=new z(null);connectionStatusSubject=new z(!1);_c2onversations=y([]);_conversations=H(()=>{let e=new Map,n=this._messages(),i=this._users(),o=this._currentUserId();i.forEach(d=>{d.id!==o&&e.set(d.id,{user:d,messages:[],unreadCount:0,lastMessage:void 0})}),n.forEach(d=>{let h=d.senderId===o,C=h?d.receiverId:d.senderId;if(e.has(C)){let x=e.get(C);x.messages.push(d),(!x.lastMessage||d.timestamp>x.lastMessage.timestamp)&&(x.lastMessage=d),!h&&!d.isRead&&x.unreadCount++}});let l=new Map(Array.from(e.entries()).filter(([d,h])=>h.messages.length>0));return this._conversationsUpdated.next(),Array.from(l.values())});notifyUpdate(){setTimeout(()=>{this._conversationsUpdated.next()},0)}unreadUsersCount=H(()=>this._conversations().filter(e=>e.unreadCount>0).length);currentUserId=this._currentUserId.asReadonly();messages=this._messages.asReadonly();users=this._users.asReadonly();hasNewMessages=this._hasNewMessages.asReadonly();isConnected=this._isConnected.asReadonly();conversations=this._conversations;conversationsUpdated$=this._conversationsUpdated.asObservable();messageReceived$=this.messageReceivedSubject.asObservable();connectionStatus$=this.connectionStatusSubject.asObservable();initializeUser(e){this._currentUserId.set(e),this.initializeSocket()}initializeSocket(){this.socket&&this.socket.disconnect(),this.socket=ye(this.SIGNAL_SERVER,{transports:["websocket"],auth:{userId:this._currentUserId()}}),this.setupSocketListeners()}convertDatesInConversations(e){return e.map(n=>{let i=V({},n);return i.user?.lastSeen&&typeof i.user.lastSeen=="string"&&(i.user.lastSeen=new Date(i.user.lastSeen)),i.messages&&Array.isArray(i.messages)&&(i.messages=i.messages.map(o=>J(V({},o),{timestamp:typeof o.timestamp=="string"?new Date(o.timestamp):o.timestamp}))),i.lastMessage?.timestamp&&typeof i.lastMessage.timestamp=="string"&&(i.lastMessage.timestamp=new Date(i.lastMessage.timestamp)),i})}setupSocketListeners(){this.socket&&(this.socket.on("connect",()=>{this._isConnected.set(!0),this.connectionStatusSubject.next(!0)}),this.socket.on("disconnect",()=>{console.log("Desconectado do servidor"),this._isConnected.set(!1),this.connectionStatusSubject.next(!1)}),this.socket.on("users:init",e=>{this._users.set(e.map(n=>n.lastSeen?J(V({},n),{lastSeen:new Date(n.lastSeen)}):n))}),this.socket.on("messages:init",e=>{this._messages.set(e.map(n=>J(V({},n),{timestamp:new Date(n.timestamp)})))}),this.socket.on("message",e=>{this.handleIncomingMessage(J(V({},e),{timestamp:new Date(e.timestamp)}))}),this.socket.on("messageRead",e=>{console.log("Recebendo confirma\xE7\xE3o de leitura:",e),this.markMessageAsReadLocally(e.messageId)}),this.socket.on("messageUpdated",e=>{console.log("(messageUpdated) - Recebido Mensagem atualizada:",e),this.updateMessage(e.messageId,e.changes),console.log("(messageUpdated) - Ap\xF3s Mensagem atualizada:",this._messages())}),this.socket.on("userOnline",e=>{console.log("Usu\xE1rio online:",e),this.updateUserOnlineStatus(e,!0)}),this.socket.on("userOffline",e=>{console.log("Usu\xE1rio offline:",e),this.updateUserOnlineStatus(e,!1)}),this.socket.on("connect_error",e=>{console.error("Erro de conex\xE3o:",e)}))}sendMessage(e,n){if(!e.trim()||!this.socket)return;let i={id:`msg-${Date.now()}-${Math.random()}`,senderId:this._currentUserId(),receiverId:n,content:e.trim(),timestamp:new Date,isRead:!1},o=this._messages();this._messages.set([...o,i]),this.socket.emit("sendMessage",i)}sendMarkMessageAsRead(e){console.log("sendMarkMessageAsRead - messageId:",e),this.socket&&this.socket.emit("markAsRead",{messageId:e})}markMessageAsReadLocally(e){console.log("markMessageAsReadLocally - messageId:",e);let n=this._messages().map(i=>i.id===e?J(V({},i),{isRead:!0}):i);this._messages.set(n)}handleIncomingMessage(e){let n=this._messages();this._messages.set([...n,e]),this.messageReceivedSubject.next(e),this._hasNewMessages.set(!0)}updateUserOnlineStatus(e,n){let i=this._users().map(o=>o.id===e?J(V({},o),{isOnline:n,lastSeen:n?void 0:new Date}):o);this._users.set(i)}updateMessage(e,n){return console.log("Before updateMessage - messageId:",e,"changes:",n,"messages:",this._messages()),this._messages.update(i=>{let o=i.findIndex(d=>d.id===e);if(o===-1)return console.log(`Mensagem com ID ${e} n\xE3o encontrada`),i;let l=[...i];return l[o]=V(V({},i[o]),n),console.log(`Mensagem ${e} atualizada com:`,n),console.log("After updateMessage - messageId:",e,"changes:",n,"messages:",this._messages()),l}),this._messages().some(i=>i.id===e)}u2pdateMessage(e,n){let i=this._messages().find(o=>o.id===e);if(i){for(let[l,d]of Object.entries(n))l in i&&(i[l]=d);let o=this._messages().map(l=>l.id===e?i:l);return this._messages.set(o),console.log(`Mensagem ${e} atualizada com:`,n),!0}return console.log(`Mensagem com ID ${e} n\xE3o encontrada`),!1}markConversationAsRead(e){if(e.unreadCount===0)return;console.log("Marking conversation as read:",e.user.id);let n=this._messages().map(i=>i.senderId===e.user.id&&i.receiverId===this._currentUserId()&&!i.isRead?J(V({},i),{isRead:!0}):i);this._messages.set(n),this.socket&&e.messages.filter(i=>i.senderId!==this._currentUserId()&&!i.isRead).forEach(i=>{this.socket.emit("markAsRead",{messageId:i.id,userId:i.senderId})})}markNotificationsAsViewed(){this._hasNewMessages.set(!1)}getCurrentUserName(){return this._users().find(n=>n.id===this._currentUserId())?.name||"Usu\xE1rio Desconhecido"}reset(){this._messages.set([]),this._hasNewMessages.set(!1),this._currentUserId.set(""),this.socket&&(this.socket.disconnect(),this.socket=null),this._isConnected.set(!1),this.connectionStatusSubject.next(!1)}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null),this._isConnected.set(!1),this.connectionStatusSubject.next(!1)}markAsRead(e){return Be({success:!0}).pipe(ti(300))}static \u0275fac=function(n){return new(n||t)(W(Ne))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ba=["messageBubble"],wa=t=>({width:t}),xa=(t,r)=>r.id;function ya(t,r){t&1&&f(0,"div",30)}function Sa(t,r){if(t&1&&(s(0,"span",35),u(1),a()),t&2){let e=m().$implicit,n=m();c(),S(" ",n.formatTime(e.lastMessage.timestamp)," ")}}function Ta(t,r){if(t&1&&(s(0,"p",37),u(1),a()),t&2){let e=m().$implicit;c(),S(" ",e.lastMessage.content," ")}}function ka(t,r){if(t&1&&(s(0,"span",38),u(1),a()),t&2){let e=m().$implicit;c(),S(" ",e.unreadCount," ")}}function Ea(t,r){if(t&1&&(s(0,"p",39),u(1),a()),t&2){let e=m().$implicit,n=m();c(),S(" Visto ",n.formatTime(e.user.lastSeen)," ")}}function Ma(t,r){if(t&1){let e=I();s(0,"div",25),_("click",function(){let i=b(e).$implicit,o=m();return w(o.selectConversation(i))}),s(1,"div",26)(2,"div",27)(3,"div",28)(4,"span",29),u(5),a()(),g(6,ya,1,0,"div",30),a(),s(7,"div",31)(8,"div",32)(9,"h3",33),u(10),a(),s(11,"div",34),g(12,Sa,2,1,"span",35),a()(),s(13,"div",36),g(14,Ta,2,1,"p",37)(15,ka,2,1,"span",38),a(),g(16,Ea,2,1,"p",39),a()()()}if(t&2){let e=r.$implicit,n=m();F(n.getConversationClasses(e)),se("data-conversation-id",e.user.id),c(2),B("online",e.user.isOnline),c(3),L(n.getInitials(e.user.name)),c(),E(e.user.isOnline?6:-1),c(4),L(e.user.name),c(2),E(e.lastMessage?12:-1),c(2),E(e.lastMessage?14:-1),c(),E(e.unreadCount>0?15:-1),c(),E(!e.user.isOnline&&e.user.lastSeen?16:-1)}}function Ia(t,r){if(t&1&&(s(0,"p"),u(1),a()),t&2){let e=m(2);c(),S('Nenhuma conversa encontrada para "',e.searchTerm(),'"')}}function Aa(t,r){t&1&&(s(0,"p"),u(1,"Nenhuma conversa n\xE3o lida"),a())}function Ra(t,r){t&1&&(s(0,"p"),u(1,"Nenhuma conversa dispon\xEDvel"),a())}function Da(t,r){if(t&1&&(s(0,"div",22),g(1,Ia,2,1,"p")(2,Aa,2,0,"p")(3,Ra,2,0,"p"),a()),t&2){let e=m();c(),E(e.searchTerm()?1:e.filterUnread()?2:3)}}function La(t,r){if(t&1){let e=I();s(0,"button",53),_("click",function(){b(e);let i=m(2);return w(i.showUserDetails())}),v(),s(1,"svg",54),f(2,"path",55),a()()}}function Va(t,r){if(t&1&&(s(0,"div",56)(1,"div",62),u(2),a()()),t&2){let e=m().$implicit,n=m(2);c(2),S(" ",n.formatTime(e.timestamp,"contextual")," ")}}function Oa(t,r){if(t&1&&(s(0,"p",59,1),u(2),a()),t&2){let e=m().$implicit;se("data-code",e.id),c(2),Ue(" >>>>",e.id," - ",e.content," - (",e.isRead,") ")}}function qa(t,r){if(t&1&&(s(0,"p",59),u(1),a()),t&2){let e=m().$implicit;se("data-code",e.id),c(),Ue(" ",e.id," - ",e.content," - (",e.isRead,") ")}}function Fa(t,r){t&1&&(v(),s(0,"svg",63),f(1,"path",65)(2,"path",66),a())}function Ha(t,r){t&1&&(v(),s(0,"svg",64),f(1,"path",65)(2,"path",66),a())}function Pa(t,r){if(t&1&&(s(0,"div",61),g(1,Fa,3,0,":svg:svg",63)(2,Ha,3,0,":svg:svg",64),a()),t&2){let e=m().$implicit;c(),E(e.isRead?1:2)}}function Ba(t,r){if(t&1&&(g(0,Va,3,1,"div",56),s(1,"div",57)(2,"div",58),g(3,Oa,3,4,"p",59)(4,qa,2,4,"p",59),s(5,"div",60)(6,"span",35),u(7),a(),g(8,Pa,3,1,"div",61),a()()()),t&2){let e=r.$implicit,n=r.$index,i=m(),o=m();E(o.shouldShowDivider(n,i.messages)?0:-1),c(),F(o.getChatClasses(e)),c(2),E(e.senderId!==o.currentUserId()&&!e.isRead?3:4),c(4),S(" ",o.formatTime(e.timestamp,"relative-DataTime")," "),c(),E(e.senderId===o.currentUserId()?8:-1)}}function ja(t,r){t&1&&(s(0,"div",46)(1,"div",67)(2,"div",68),f(3,"div",69)(4,"div",70)(5,"div",71),a()()())}function Za(t,r){if(t&1){let e=I();s(0,"main",40)(1,"header",41),g(2,La,3,0,"button",42),s(3,"div",27)(4,"div",43)(5,"span",29),u(6),a()()(),s(7,"div")(8,"h3",29),u(9),a(),s(10,"p",44),u(11),a()()(),s(12,"div",45,0),N(14,Ba,9,6,null,null,xa),g(16,ja,6,0,"div",46),a(),s(17,"footer",47)(18,"form",48),_("ngSubmit",function(){b(e);let i=m();return w(i.sendMessage())}),s(19,"input",49),_("input",function(i){b(e);let o=m();return o.onTypingDebounced(),w(o.onMessageInput(i))}),a(),s(20,"button",50),v(),s(21,"svg",51),f(22,"path",52),a()()()()()}if(t&2){let e=r,n=m();F(n.mainClasses()),c(2),E(n.isMobile()?2:-1),c(),B("online",e.user.isOnline),c(3),L(n.getInitials(e.user.name)),c(3),L(e.user.name),c(2),S(" ",e.user.isOnline?"Online":"Offline"," "),c(3),$(e.messages),c(2),E(n.isTyping()?16:-1),c(3),p("value",n.newMessage()),c(),p("disabled",!n.newMessage().trim())}}function Ua(t,r){if(t&1&&(s(0,"div",72)(1,"div",73),v(),s(2,"svg",74),f(3,"path",75),a(),T(),s(4,"h3",76),u(5,"Selecione uma conversa"),a(),s(6,"p",77),u(7,"Escolha uma conversa da lista para come\xE7ar a conversar."),a()()()),t&2){let e=m();F(e.noSelectionClasses())}}var an=(()=>{class t{destroyRef=M(Ze);changeDetectorRef=M(gt);messageElements;screenSizeService=M(Nt);messageService=M(sn);subscriptions=new Dt;socket=null;typingSubject=new Se;notified=new Set;intersectionObservers=new Map;isTypingSignal=y(!1);filterUnread=y(!1);sortBy=y("recent");searchTerm=y("");newMessage=y("");currentUserId=y("");currentUserName=y("");selectedConversation=y(null);isMobile=y(!1);screenWidth=y(window.innerWidth);showDetails=y(!1);users=H(()=>this.messageService.users());forceUpdate=y(0);conversations=H(()=>this.messageService.conversations());filteredConversations=H(()=>{let e=this.conversations(),n=this.searchTerm(),i=this.filterUnread(),o=this.sortBy(),l=e.filter(d=>{let h=d.user.name.toLowerCase().includes(n.toLowerCase()),C=!i||d.unreadCount>0;return h&&C});return l.sort((d,h)=>{switch(o){case"name":return d.user.name.localeCompare(h.user.name);case"unread":return h.unreadCount-d.unreadCount;case"recent":default:let C=d.lastMessage?.timestamp||new Date(0);return(h.lastMessage?.timestamp||new Date(0)).getTime()-C.getTime()}}),l.map(d=>J(V({},d),{user:V({},d.user),messages:[...d.messages],lastMessage:d.lastMessage?V({},d.lastMessage):void 0}))});constructor(){le(()=>{let e=this.messageService.currentUserId();this.currentUserId.set(e);let n=this.messageService.users().find(i=>i.id===e);this.currentUserName.set(n?.name||"")}),le(()=>{let e=this.messageService.conversations()}),this.messageService.conversationsUpdated$.pipe(Qe(this.destroyRef)).subscribe(()=>{})}triggerUpdate(){this.forceUpdate.update(e=>e+1),this.changeDetectorRef.detectChanges(),console.log("Update triggered - forceUpdate:",this.forceUpdate())}trackByConversation(e,n){return`${n.user.id}-${n.unreadCount}-${n.lastMessage?.timestamp.getTime()||0}-${n.messages.length}`}ngOnInit(){this.subscriptions.add(this.screenSizeService.isMobile$.subscribe(e=>{this.isMobile.set(e)})),this.subscriptions.add(this.screenSizeService.deviceInfo$.subscribe(e=>{this.screenWidth.set(e.screenWidth)})),this.subscriptions.add(this.typingSubject.pipe(Xn(1e3),Qe(this.destroyRef)).subscribe(()=>{this.isTypingSignal.set(!1)}))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.intersectionObservers.forEach(e=>e.disconnect()),this.intersectionObservers.clear(),this.socket&&this.socket.disconnect()}ngAfterViewChecked(){this.messageElements.forEach(e=>{let n=e.nativeElement,i=n.getAttribute("data-code");if(i&&!this.notified.has(i)&&!this.intersectionObservers.has(i)){let o=new IntersectionObserver(([l])=>{l.isIntersecting&&(console.log("Mensagem "+i+" vis\xEDvel"),this.messageService.sendMarkMessageAsRead(i),this.notified.add(i),o.disconnect(),this.intersectionObservers.delete(i))},{threshold:.5});o.observe(n),this.intersectionObservers.set(i,o)}})}sidebarClasses=H(()=>{let e=this.isMobile(),n=this.showDetails();return{"w-full":e&&!n,"w-2/6":!e,hidden:e&&n}});mainClasses=H(()=>{let e=this.isMobile(),n=this.showDetails();return{"w-full":e&&n,"w-3/4":!e,hidden:e&&!n}});noSelectionClasses=H(()=>{let e=this.isMobile(),n=this.showDetails();return{"w-full":e,"w-4/6":!e,hidden:e&&!n}});filterButtonClasses=H(()=>`relative rounded m-1 p-1 border cursor-pointer focus:ring-2 focus:ring-blue-500 hover:bg-base-300 ${this.filterUnread()?"bg-cyan-300":"bg-base-100"}`);selectConversation(e){console.log("Selecting conversation:",e.user.name),this.selectedConversation.set(e),this.showUserDetails(),this.triggerUpdate()}toggleFilterUnread(){this.filterUnread.set(!this.filterUnread()),this.triggerUpdate()}onSortChange(e){let n=e.target;this.sortBy.set(n.value),this.triggerUpdate()}onMessageInput(e){let n=e.target;this.newMessage.set(n.value)}onTypingDebounced(){this.isTypingSignal.set(!0),this.typingSubject.next()}sendMessage(){let e=this.newMessage().trim(),n=this.selectedConversation();e&&n&&(this.messageService.sendMessage(e,n.user.id),this.newMessage.set(""),this.triggerUpdate())}showUserDetails(){this.showDetails.update(e=>!e)}isTyping(){return this.isTypingSignal()}getConversationClasses(e){return this.selectedConversation()?.user.id===e.user.id?"bg-primary text-primary-content":""}getChatClasses(e){return e.senderId===this.currentUserId()?"chat-end":"chat-start"}shouldShowDivider(e,n){if(e===0)return!0;let i=n[e],o=n[e-1],l=new Date(i.timestamp).toDateString(),d=new Date(o.timestamp).toDateString();return l!==d}formatTime(e,n="relative"){let i=new Date(e),o=new Date,l=new Date(o.getFullYear(),o.getMonth(),o.getDate()),d=new Date(i.getFullYear(),i.getMonth(),i.getDate()),h=new Date(l);if(h.setDate(l.getDate()-1),n==="relative"||n==="relative-DataTime"){let C=o.getTime()-i.getTime(),x=Math.floor(C/(1e3*60)),A=Math.floor(C/(1e3*60*60)),U=Math.floor(C/(1e3*60*60*24));return x<1?"agora":x<60?`${x}min`:A<24?`${A}h`:U<7&&n==="relative"?`${U}d`:n==="relative-DataTime"?i.toLocaleDateString("pt-BR")+" "+this.formatTimeOnly(e):i.toLocaleDateString("pt-BR")}if(n==="contextual"){if(d.getTime()===l.getTime())return"Hoje";if(d.getTime()===h.getTime())return"Ontem";let C=Math.floor((l.getTime()-d.getTime())/(1e3*60*60*24));if(C>=2&&C<=7)return["domingo","segunda-feira","ter\xE7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xE1bado"][i.getDay()];let x=["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"];if(i.getFullYear()===o.getFullYear()&&C>7)return`${i.getDate()} de ${x[i.getMonth()]}`;if(i.getFullYear()<o.getFullYear())return`${i.getDate()} de ${x[i.getMonth()]} de ${i.getFullYear()}`}return i.toLocaleDateString("pt-BR")}formatTimeOnly(e){return e.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",hour12:!1})}getInitials(e){if(!e)return"";let n=e.trim().split(/\s+/);if(n.length===1)return n[0][0].toUpperCase();let i=n[0][0].toUpperCase(),o=n[n.length-1][0].toUpperCase();return i+o}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=j({type:t,selectors:[["app-chat-interface"]],viewQuery:function(n,i){if(n&1&&K(ba,5),n&2){let o;Q(o=Y())&&(i.messageElements=o)}},decls:29,vars:12,consts:[["messagesContainer",""],["messageBubble",""],[1,"h-screen","bg-base-100","flex","flex-col"],[1,"flex","flex-1","overflow-hidden"],[1,"bg-base-200","border-r","border-base-300","flex","flex-col",3,"ngStyle"],[1,"p-4","border-b","border-base-300"],[1,"text-lg","font-semibold"],[1,"flex","relative","mb-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","text-gray-400","w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Buscar conversas...",1,"w-full","pl-8","pr-4","py-2","m-1","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"input","value"],["data-tip","Filtra conversas n\xE3o lidas",1,"tooltip"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","currentcolor",1,"w-6","h-6","mt-1"],["d","M400-240v-80h160v80H400ZM240-440v-80h480v80H240ZM120-640v-80h720v80H120Z"],[1,"flex","gap-2"],[1,"bg-base-100","px-3","py-1","text-sm","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"change","value"],["value","recent"],["value","name"],["value","unread"],[1,"flex-1","overflow-y-auto"],[1,"p-4","hover:bg-base-300","cursor-pointer","border-b","border-base-300","transition-colors",3,"class"],[1,"p-8","text-center","text-gray-500"],[1,"flex","flex-col",3,"class"],[1,"flex","items-center","justify-center","bg-base-100",3,"class"],[1,"p-4","hover:bg-base-300","cursor-pointer","border-b","border-base-300","transition-colors",3,"click"],[1,"flex","items-center","space-x-3"],[1,"avatar"],[1,"w-12","h-12","rounded-full","bg-neutral","text-neutral-content","flex","items-center","justify-center","p-3"],[1,"font-medium"],[1,"absolute","-bottom-0","-right-0","w-3","h-3","bg-green-500","border-2","border-white","rounded-full"],[1,"flex-1","min-w-0"],[1,"flex","justify-between","items-center"],[1,"font-medium","truncate"],["data-tip","\xFAltima mensagem",1,"tooltip","tooltip-left"],[1,"text-xs","opacity-70"],[1,"flex","justify-between","items-center","mt-1"],[1,"text-sm","opacity-70","truncate"],[1,"badge","badge-secondary","badge-sm"],[1,"text-xs","text-gray-400","mt-1"],[1,"flex","flex-col"],[1,"p-4","bg-base-200","border-b","border-base-300","flex","items-center","space-x-3"],[1,"btn","btn-ghost","btn-sm","btn-circle","mr-2"],[1,"w-10","h-10","rounded-full","bg-neutral","text-neutral-content","flex","items-center","justify-center","p-3"],[1,"text-sm","opacity-70"],[1,"flex-1","overflow-y-auto","p-4","space-y-4"],[1,"chat","chat-start"],[1,"p-4","bg-base-200","border-t","border-base-300"],[1,"flex","space-x-2",3,"ngSubmit"],["type","text","placeholder","Digite sua mensagem...",1,"input","input-bordered","flex-1","focus:ring-2","focus:ring-blue-500",3,"input","value"],["type","submit",1,"btn","btn-primary",3,"disabled"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5"],["d","M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"],[1,"btn","btn-ghost","btn-sm","btn-circle","mr-2",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"flex","w-full","flex-col","justify-center"],[1,"chat"],[1,"chat-bubble"],[1,"text-sm"],[1,"flex","items-center","justify-end","mt-1","space-x-1"],[1,"text-xs"],[1,"divider"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-info"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","opacity-50"],["fill-rule","evenodd","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["fill-rule","evenodd","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7","transform","translate(4,0)"],[1,"chat-bubble","chat-bubble-ghost","animate-pulse"],[1,"flex","space-x-1","items-center"],[1,"w-2","h-2","bg-current","rounded-full","animate-bounce"],[1,"w-2","h-2","bg-current","rounded-full","animate-bounce",2,"animation-delay","0.1s"],[1,"w-2","h-2","bg-current","rounded-full","animate-bounce",2,"animation-delay","0.2s"],[1,"flex","items-center","justify-center","bg-base-100"],[1,"text-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-gray-400","mx-auto","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],[1,"text-lg","font-medium","opacity-70"],[1,"opacity-50"]],template:function(n,i){if(n&1&&(s(0,"div",2)(1,"div",3)(2,"aside",4)(3,"div",5)(4,"h2",6),u(5),a(),s(6,"div",7),v(),s(7,"svg",8),f(8,"path",9),a(),T(),s(9,"input",10),_("input",function(l){return i.searchTerm.set(l.target.value)}),a(),s(10,"div",11)(11,"button",12),_("click",function(){return i.toggleFilterUnread()}),v(),s(12,"svg",13),f(13,"path",14),a()()()(),T(),s(14,"div",15),u(15," Ordenar por: "),s(16,"select",16),_("change",function(l){return i.onSortChange(l)}),s(17,"option",17),u(18,"Recentes"),a(),s(19,"option",18),u(20,"Nome"),a(),s(21,"option",19),u(22,"N\xE3o lidas"),a()()()(),s(23,"div",20),N(24,Ma,17,12,"div",21,i.trackByConversation,!0),g(26,Da,4,1,"div",22),a()(),g(27,Za,23,11,"main",23)(28,Ua,8,2,"div",24),a()()),n&2){let o;c(2),F(i.sidebarClasses()),p("ngStyle",ae(10,wa,i.screenWidth()<415?"90%":"")),c(3),S("Conversas ",i.currentUserName()+"("+i.currentUserId()+")",""),c(4),p("value",i.searchTerm()),c(2),F(i.filterButtonClasses()),c(5),p("value",i.sortBy()),c(8),$(i.filteredConversations()),c(2),E(i.filteredConversations().length===0?26:-1),c(),E((o=i.selectedConversation())?27:28,o)}},dependencies:[G,vi,Me,Zt,We,Ke,Bt,jt],encapsulation:2})}return t})();var ln=(()=>{class t{el;renderer;label="";constructor(e,n){this.el=e,this.renderer=n}ngOnChanges(){this.renderer.setAttribute(this.el.nativeElement,"title",this.label),this.renderer.setAttribute(this.el.nativeElement,"aria-label",this.label)}static \u0275fac=function(n){return new(n||t)(ne(qe),ne(ft))};static \u0275dir=fe({type:t,selectors:[["","appAccessible",""]],inputs:{label:[0,"appAccessible","label"]},features:[fn]})}return t})();var Ur=(()=>{class t{prefersDark=window.matchMedia("(prefers-color-scheme: dark)");themeSignal=y(this.getStoredTheme());theme=this.themeSignal.asReadonly();constructor(){le(()=>{let e=this.themeSignal();this.applyTheme(e)}),this.prefersDark.addEventListener("change",()=>{this.themeSignal()==="auto"&&this.applyTheme("auto")})}setTheme(e){this.themeSignal.set(e),localStorage.setItem("theme",e)}getStoredTheme(){return localStorage.getItem("theme")||"auto"}applyTheme(e){let n=document.documentElement;n.removeAttribute("data-theme"),e!=="auto"&&n.setAttribute("data-theme",e)}detectSystemTheme(){return window.matchMedia("(prefers-color-scheme: dark)").matches}static \u0275fac=function(n){return new(n||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Nr=(()=>{class t{http;document;iconsLoaded=!1;constructor(e,n){this.http=e,this.document=n}loadSvgIcons(){return k(this,null,function*(){this.iconsLoaded||this.http.get("icons.svg",{responseType:"text"}).subscribe({next:e=>{this.iconsLoaded=!0},error:e=>{console.error("Erro ao carregar \xEDcones SVG:",e)}})})}injectSvgIntoBody(e){let n=e.replace(/<\?xml[^>]*\?>/,""),i=this.document.createElement("div");i.style.display="none",i.innerHTML=n,this.document.body.insertBefore(i,this.document.body.firstChild)}static \u0275fac=function(n){return new(n||t)(W(Ne),W(gi))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var $r=(()=>{class t{http=M(Ne);getTranslation(e){return this.http.get(`/i18n/${e}.json`)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Na(t,r){t&1&&f(0,"div",32)}function $a(t,r){if(t&1&&(s(0,"span",33),u(1),a()),t&2){let e=m().$implicit,n=m();c(),S(" ",n.formatTime(e.lastMessage.timestamp)," ")}}function Ga(t,r){if(t&1&&(s(0,"span",39),u(1),a()),t&2){let e=m(2).$implicit;c(),S(" ",e.unreadCount," ")}}function za(t,r){t&1&&(v(),s(0,"svg",43),f(1,"path",44)(2,"path",45),a())}function Wa(t,r){t&1&&(v(),s(0,"svg",46),f(1,"path",44),a())}function Ka(t,r){if(t&1&&(s(0,"div",40),g(1,za,3,0,"svg",41)(2,Wa,2,0,"svg",42),a()),t&2){let e=m(2).$implicit;c(),p("ngIf",e.lastMessage.isRead),c(),p("ngIf",!e.lastMessage.isRead)}}function Qa(t,r){if(t&1&&(s(0,"div",34)(1,"p",35),u(2),a(),s(3,"div",36),g(4,Ga,2,1,"span",37)(5,Ka,3,2,"div",38),a()()),t&2){let e=m().$implicit;c(2),ge(" ",e.lastMessage.senderId==="user-1"?"Voc\xEA: ":""," ",e.lastMessage.content," "),c(2),p("ngIf",e.unreadCount>0),c(),p("ngIf",e.lastMessage.senderId==="user-1")}}function Ya(t,r){if(t&1&&(s(0,"p",47),u(1),a()),t&2){let e=m().$implicit,n=m();c(),S(" Visto ",n.formatTime(e.user.lastSeen)," ")}}function Ja(t,r){if(t&1){let e=I();s(0,"div",11),_("click",function(){let i=b(e).$implicit,o=m();return w(o.selectConversation(i.user.id))}),s(1,"div",22)(2,"div",23)(3,"div",24),u(4),a(),g(5,Na,1,0,"div",25),a(),s(6,"div",26)(7,"div",27)(8,"h3",28),u(9),a(),g(10,$a,2,1,"span",29),a(),g(11,Qa,6,4,"div",30)(12,Ya,2,1,"p",31),a()()()}if(t&2){let e=r.$implicit,n=m();F("p-4 cursor-pointer hover:bg-gray-50 border-b border-gray-100 "+(n.selectedConversationId()===e.user.id?"bg-blue-50 border-blue-200":"")),c(4),S(" ",e.user.name.charAt(0)," "),c(),p("ngIf",e.user.isOnline),c(4),S(" ",e.user.name," "),c(),p("ngIf",e.lastMessage),c(),p("ngIf",e.lastMessage),c(),p("ngIf",!e.user.isOnline&&e.user.lastSeen)}}function Xa(t,r){t&1&&f(0,"div",60)}function el(t,r){t&1&&(v(),s(0,"svg",12),f(1,"path",44)(2,"path",45),a())}function tl(t,r){t&1&&(v(),s(0,"svg",12),f(1,"path",44),a())}function nl(t,r){if(t&1&&(s(0,"div",64),g(1,el,3,0,"svg",65)(2,tl,2,0,"svg",65),a()),t&2){let e=m().$implicit;c(),p("ngIf",e.isRead),c(),p("ngIf",!e.isRead)}}function il(t,r){if(t&1&&(s(0,"div")(1,"div")(2,"p",61),u(3),a(),s(4,"div",62)(5,"span"),u(6),a(),g(7,nl,3,2,"div",63),a()()()),t&2){let e=r.$implicit,n=m(2);F("flex "+(e.senderId==="user-1"?"justify-end":"justify-start")),c(),F("max-w-xs lg:max-w-md px-4 py-2 rounded-lg "+(e.senderId==="user-1"?"bg-blue-500 text-white":"bg-gray-200 text-gray-900")),c(2),L(e.content),c(2),F("text-xs "+(e.senderId==="user-1"?"text-blue-100":"text-gray-500")),c(),S(" ",n.formatTime(e.timestamp)," "),c(),p("ngIf",e.senderId==="user-1")}}function rl(t,r){if(t&1){let e=I();s(0,"div")(1,"div",48)(2,"div",49)(3,"div",50)(4,"div",51),u(5),a(),g(6,Xa,1,0,"div",52),a(),s(7,"div")(8,"h2",53),u(9),a(),s(10,"p",54),u(11),a()()()(),s(12,"div",55),g(13,il,8,9,"div",56),a(),s(14,"div",57)(15,"div",10)(16,"input",58),_e("ngModelChange",function(i){b(e);let o=m();return Ce(o.newMessage,i)||(o.newMessage=i),w(i)}),_("keyup.enter",function(){b(e);let i=m();return w(i.sendMessage())}),a(),s(17,"button",59),_("click",function(){b(e);let i=m();return w(i.sendMessage())}),u(18," Enviar "),a()()()()}if(t&2){let e=m();c(5),S(" ",e.selectedConversation().user.name.charAt(0)," "),c(),p("ngIf",e.selectedConversation().user.isOnline),c(3),L(e.selectedConversation().user.name),c(2),S(" ",e.selectedConversation().user.isOnline?"Online":"Visto "+e.formatTime(e.selectedConversation().user.lastSeen)," "),c(2),p("ngForOf",e.sortedMessages()),c(3),ve("ngModel",e.newMessage)}}function ol(t,r){t&1&&(s(0,"div",66)(1,"div",67),v(),s(2,"svg",68),f(3,"path",69),a(),T(),s(4,"h2",70),u(5,"Selecione uma conversa"),a(),s(6,"p",71),u(7,"Escolha uma conversa da lista para come\xE7ar a conversar."),a()()())}var Gr=(()=>{class t{route=M(Ie);searchTerm=y("");filterUnread=y(!1);sortBy=y("recent");selectedConversationId=y(null);newMessage=y("");currentUser=y({id:"",name:"",isOnline:!1});ngOnInit(){this.route.queryParamMap.subscribe(e=>{let n=e.get("user");n&&this.currentUser.set({id:"user-"+n,name:this.users.filter(i=>i.id==="user-"+n)[0].name,isOnline:!0})})}users=[{id:"user-1",name:"Ana Silva",isOnline:!0},{id:"user-2",name:"Bruno Costa",isOnline:!0},{id:"user-3",name:"Carla Santos",isOnline:!1,lastSeen:new Date("2025-06-10T07:30:00Z")},{id:"user-4",name:"Diego Lima",isOnline:!0},{id:"user-5",name:"Elena Rocha",isOnline:!1,lastSeen:new Date("2025-06-09T22:15:00Z")},{id:"user-6",name:"Felipe Nunes",isOnline:!0},{id:"user-7",name:"Gabriela Pires",isOnline:!1,lastSeen:new Date("2025-06-10T06:45:00Z")},{id:"user-8",name:"Hugo Martins",isOnline:!0},{id:"user-9",name:"Isabela Freitas",isOnline:!1,lastSeen:new Date("2025-06-10T08:20:00Z")}];messages=y([{id:"m1",senderId:"user-1",receiverId:"user-2",content:"Bruno, vamos come\xE7ar aquele projeto novo?",timestamp:new Date("2025-05-01T09:00:00Z"),isRead:!0},{id:"m2",senderId:"user-2",receiverId:"user-1",content:"Perfeito! J\xE1 preparei o ambiente de desenvolvimento.",timestamp:new Date("2025-05-01T09:30:00Z"),isRead:!0},{id:"m3",senderId:"user-1",receiverId:"user-2",content:"\xD3timo! Que tal marcarmos uma reuni\xE3o para alinhar tudo?",timestamp:new Date("2025-05-01T10:15:00Z"),isRead:!0},{id:"m4",senderId:"user-2",receiverId:"user-1",content:"Fechado! Segunda \xE0s 14h te serve?",timestamp:new Date("2025-05-01T11:00:00Z"),isRead:!0},{id:"m5",senderId:"user-3",receiverId:"user-1",content:"Ana, muito prazer! Me disseram que voc\xEA tamb\xE9m gosta de cinema.",timestamp:new Date("2025-05-03T19:30:00Z"),isRead:!0},{id:"m6",senderId:"user-1",receiverId:"user-3",content:"Oi Carla! Sim, adoro! Qual foi o \xFAltimo filme que voc\xEA assistiu?",timestamp:new Date("2025-05-03T20:00:00Z"),isRead:!0},{id:"m7",senderId:"user-3",receiverId:"user-1",content:"Acabei de ver 'Oppenheimer'. Impressionante a cinematografia!",timestamp:new Date("2025-05-03T20:15:00Z"),isRead:!0},{id:"m8",senderId:"user-1",receiverId:"user-3",content:"Ainda n\xE3o vi! Voc\xEA recomenda?",timestamp:new Date("2025-05-03T20:30:00Z"),isRead:!0},{id:"m9",senderId:"user-3",receiverId:"user-1",content:"Recomendo muito! \xC9 longo mas vale cada minuto.",timestamp:new Date("2025-05-03T20:45:00Z"),isRead:!0},{id:"m10",senderId:"user-4",receiverId:"user-8",content:"Hugo, a temporada de futebol vai come\xE7ar!",timestamp:new Date("2025-05-05T08:00:00Z"),isRead:!0},{id:"m11",senderId:"user-8",receiverId:"user-4",content:"Finalmente! J\xE1 estava com saudades de jogar.",timestamp:new Date("2025-05-05T08:30:00Z"),isRead:!0},{id:"m12",senderId:"user-4",receiverId:"user-8",content:"Vou organizar um grupo. Voc\xEA topa jogar toda quinta?",timestamp:new Date("2025-05-05T09:00:00Z"),isRead:!0},{id:"m13",senderId:"user-8",receiverId:"user-4",content:"Claro! S\xF3 n\xE3o posso na primeira quinta do m\xEAs.",timestamp:new Date("2025-05-05T09:15:00Z"),isRead:!0},{id:"m14",senderId:"user-5",receiverId:"user-9",content:"Isa, voc\xEA trabalha com design gr\xE1fico?",timestamp:new Date("2025-05-07T14:20:00Z"),isRead:!0},{id:"m15",senderId:"user-9",receiverId:"user-5",content:"Trabalho sim! Precisa de alguma coisa?",timestamp:new Date("2025-05-07T15:00:00Z"),isRead:!0},{id:"m16",senderId:"user-5",receiverId:"user-9",content:"Tenho um projeto freelance, ser\xE1 que voc\xEA teria interesse?",timestamp:new Date("2025-05-07T15:30:00Z"),isRead:!0},{id:"m17",senderId:"user-9",receiverId:"user-5",content:"Com certeza! Me manda os detalhes por favor.",timestamp:new Date("2025-05-07T16:00:00Z"),isRead:!0},{id:"m18",senderId:"user-6",receiverId:"user-7",content:"Gabi, voc\xEA ouviu o novo \xE1lbum da Pabllo Vittar?",timestamp:new Date("2025-05-10T21:00:00Z"),isRead:!0},{id:"m19",senderId:"user-7",receiverId:"user-6",content:"Ouvi! 'Disk me' est\xE1 incr\xEDvel \u{1F3B5}",timestamp:new Date("2025-05-10T21:30:00Z"),isRead:!0},{id:"m20",senderId:"user-6",receiverId:"user-7",content:"Demais! Vamos no show dela quando vier para SP?",timestamp:new Date("2025-05-10T22:00:00Z"),isRead:!0},{id:"m21",senderId:"user-7",receiverId:"user-6",content:"\xD3bvio! J\xE1 vou ficar de olho na venda dos ingressos.",timestamp:new Date("2025-05-10T22:15:00Z"),isRead:!0},{id:"m22",senderId:"user-2",receiverId:"user-3",content:"Carla, voc\xEA j\xE1 foi ao novo restaurante da Vila Madalena?",timestamp:new Date("2025-05-15T19:45:00Z"),isRead:!0},{id:"m23",senderId:"user-3",receiverId:"user-2",content:"Ainda n\xE3o! \xC9 bom?",timestamp:new Date("2025-05-15T20:00:00Z"),isRead:!0},{id:"m24",senderId:"user-2",receiverId:"user-3",content:"Muito bom! O risotto de camar\xE3o \xE9 imperd\xEDvel.",timestamp:new Date("2025-05-15T20:15:00Z"),isRead:!0},{id:"m25",senderId:"user-8",receiverId:"user-9",content:"Isa, voc\xEA leu 'Klara e o Sol'?",timestamp:new Date("2025-05-18T16:30:00Z"),isRead:!0},{id:"m26",senderId:"user-9",receiverId:"user-8",content:"Li sim! Kazuo Ishiguro \xE9 genial.",timestamp:new Date("2025-05-18T17:00:00Z"),isRead:!0},{id:"m27",senderId:"user-8",receiverId:"user-9",content:"Concordo! A forma como ele aborda IA \xE9 fascinante.",timestamp:new Date("2025-05-18T17:30:00Z"),isRead:!0},{id:"m28",senderId:"user-1",receiverId:"user-4",content:"Diego, como est\xE1 o projeto da empresa?",timestamp:new Date("2025-05-20T10:00:00Z"),isRead:!0},{id:"m29",senderId:"user-4",receiverId:"user-1",content:"Bem complexo, mas estamos avan\xE7ando. Preciso de ajuda com o frontend.",timestamp:new Date("2025-05-20T10:30:00Z"),isRead:!0},{id:"m30",senderId:"user-1",receiverId:"user-4",content:"Posso te ajudar! Que tal conversarmos amanh\xE3?",timestamp:new Date("2025-05-20T11:00:00Z"),isRead:!0},{id:"m31",senderId:"user-3",receiverId:"user-7",content:"Gabi, o almo\xE7o de domingo foi cancelado.",timestamp:new Date("2025-05-25T08:00:00Z"),isRead:!0},{id:"m32",senderId:"user-7",receiverId:"user-3",content:"Por qu\xEA? Aconteceu alguma coisa?",timestamp:new Date("2025-05-25T08:15:00Z"),isRead:!0},{id:"m33",senderId:"user-3",receiverId:"user-7",content:"A vov\xF3 est\xE1 meio resfriada, melhor reagendar.",timestamp:new Date("2025-05-25T08:30:00Z"),isRead:!0},{id:"m34",senderId:"user-5",receiverId:"user-6",content:"Felipe, voc\xEA sabe editar v\xEDdeos?",timestamp:new Date("2025-05-28T13:20:00Z"),isRead:!0},{id:"m35",senderId:"user-6",receiverId:"user-5",content:"Sei o b\xE1sico no Premiere. Precisa de ajuda?",timestamp:new Date("2025-05-28T14:00:00Z"),isRead:!0},{id:"m36",senderId:"user-5",receiverId:"user-6",content:"Tenho uns v\xEDdeos da festa que preciso editar.",timestamp:new Date("2025-05-28T14:30:00Z"),isRead:!0},{id:"m37",senderId:"user-2",receiverId:"user-6",content:"Felipe, o que voc\xEA achou do React 18?",timestamp:new Date("2025-05-30T16:00:00Z"),isRead:!0},{id:"m38",senderId:"user-6",receiverId:"user-2",content:"As melhorias de performance s\xE3o impressionantes!",timestamp:new Date("2025-05-30T16:30:00Z"),isRead:!0},{id:"m39",senderId:"user-2",receiverId:"user-6",content:"Sim! O Concurrent Features mudou tudo.",timestamp:new Date("2025-05-30T17:00:00Z"),isRead:!0},{id:"m40",senderId:"user-1",receiverId:"user-5",content:"Elena, como foi o final de semana?",timestamp:new Date("2025-06-02T09:00:00Z"),isRead:!0},{id:"m41",senderId:"user-5",receiverId:"user-1",content:"\xD3timo! Fui na exposi\xE7\xE3o do MASP. Voc\xEA precisa ir!",timestamp:new Date("2025-06-02T09:30:00Z"),isRead:!0},{id:"m42",senderId:"user-1",receiverId:"user-5",content:"Que legal! Qual exposi\xE7\xE3o est\xE1 rolando?",timestamp:new Date("2025-06-02T10:00:00Z"),isRead:!0},{id:"m43",senderId:"user-5",receiverId:"user-1",content:"Arte contempor\xE2nea brasileira. Muito inspirador!",timestamp:new Date("2025-06-02T10:15:00Z"),isRead:!0},{id:"m44",senderId:"user-4",receiverId:"user-8",content:"Hugo, quinta-feira vamos jogar no mesmo hor\xE1rio?",timestamp:new Date("2025-06-03T07:00:00Z"),isRead:!0},{id:"m45",senderId:"user-8",receiverId:"user-4",content:"Sim! J\xE1 confirmei com o pessoal.",timestamp:new Date("2025-06-03T07:30:00Z"),isRead:!0},{id:"m46",senderId:"user-4",receiverId:"user-8",content:"Perfeito! Desta vez vou levar chuteira nova.",timestamp:new Date("2025-06-03T08:00:00Z"),isRead:!0},{id:"m47",senderId:"user-7",receiverId:"user-3",content:"Carla, a vov\xF3 j\xE1 est\xE1 melhor!",timestamp:new Date("2025-06-04T18:00:00Z"),isRead:!0},{id:"m48",senderId:"user-3",receiverId:"user-7",content:"Que bom! Podemos remarcar o almo\xE7o ent\xE3o?",timestamp:new Date("2025-06-04T18:30:00Z"),isRead:!0},{id:"m49",senderId:"user-7",receiverId:"user-3",content:"Sim! Que tal domingo que vem?",timestamp:new Date("2025-06-04T19:00:00Z"),isRead:!0},{id:"m50",senderId:"user-3",receiverId:"user-7",content:"Perfeito! Vou fazer aquele bolo de chocolate.",timestamp:new Date("2025-06-04T19:15:00Z"),isRead:!0},{id:"m51",senderId:"user-9",receiverId:"user-5",content:"Elena, terminei a primeira vers\xE3o do design!",timestamp:new Date("2025-06-05T11:00:00Z"),isRead:!0},{id:"m52",senderId:"user-5",receiverId:"user-9",content:"Que r\xE1pido! Vou dar uma olhada agora.",timestamp:new Date("2025-06-05T11:30:00Z"),isRead:!0},{id:"m53",senderId:"user-5",receiverId:"user-9",content:"Ficou lindo! S\xF3 pequenos ajustes na tipografia.",timestamp:new Date("2025-06-05T12:00:00Z"),isRead:!0},{id:"m54",senderId:"user-9",receiverId:"user-5",content:"\xD3timo! Fa\xE7o os ajustes hoje \xE0 tarde.",timestamp:new Date("2025-06-05T12:15:00Z"),isRead:!0},{id:"m55",senderId:"user-6",receiverId:"user-2",content:"Bruno, voc\xEA viu o novo framework que foi lan\xE7ado?",timestamp:new Date("2025-06-06T14:20:00Z"),isRead:!0},{id:"m56",senderId:"user-2",receiverId:"user-6",content:"Qual? Tem tantos ultimamente \u{1F605}",timestamp:new Date("2025-06-06T14:45:00Z"),isRead:!0},{id:"m57",senderId:"user-6",receiverId:"user-2",content:"O Astro 2.0! Parece muito promissor.",timestamp:new Date("2025-06-06T15:00:00Z"),isRead:!0},{id:"m58",senderId:"user-2",receiverId:"user-6",content:"Ah sim! Li sobre ele. Vou testar no pr\xF3ximo projeto.",timestamp:new Date("2025-06-06T15:30:00Z"),isRead:!0},{id:"m59",senderId:"user-1",receiverId:"user-3",content:"Carla, voc\xEA viu o filme que recomendei?",timestamp:new Date("2025-06-08T20:30:00Z"),isRead:!0},{id:"m60",senderId:"user-3",receiverId:"user-1",content:"Vi sim! Adorei a trilha sonora. Muito obrigada pela dica!",timestamp:new Date("2025-06-08T21:15:00Z"),isRead:!0},{id:"m61",senderId:"user-1",receiverId:"user-3",content:"Que bom! Tem outros filmes do mesmo diretor que s\xE3o incr\xEDveis.",timestamp:new Date("2025-06-08T21:45:00Z"),isRead:!1},{id:"m62",senderId:"user-3",receiverId:"user-1",content:"Me manda a lista! Estou precisando de boas indica\xE7\xF5es.",timestamp:new Date("2025-06-08T22:00:00Z"),isRead:!0},{id:"m63",senderId:"user-8",receiverId:"user-9",content:"Isa, conseguiu terminar 'Duna'?",timestamp:new Date("2025-06-08T19:00:00Z"),isRead:!0},{id:"m64",senderId:"user-9",receiverId:"user-8",content:"Terminei! Que livro incr\xEDvel. J\xE1 comecei o segundo.",timestamp:new Date("2025-06-08T19:30:00Z"),isRead:!0},{id:"m65",senderId:"user-8",receiverId:"user-9",content:"O Herbert criou um universo fascinante mesmo.",timestamp:new Date("2025-06-08T20:00:00Z"),isRead:!0},{id:"m66",senderId:"user-9",receiverId:"user-8",content:"Concordo! A pol\xEDtica e ecologia s\xE3o muito bem constru\xEDdas.",timestamp:new Date("2025-06-08T20:30:00Z"),isRead:!0},{id:"m67",senderId:"user-1",receiverId:"user-2",content:"Oi, bom dia! Queria confirmar se vamos ter a reuni\xE3o hoje \xE0s 10h?",timestamp:new Date("2025-06-09T08:00:00Z"),isRead:!0},{id:"m68",senderId:"user-2",receiverId:"user-1",content:"Sim, est\xE1 confirmada. A sala j\xE1 foi reservada.",timestamp:new Date("2025-06-09T08:01:00Z"),isRead:!1},{id:"m69",senderId:"user-1",receiverId:"user-2",content:"Perfeito. Vou preparar os documentos antes.",timestamp:new Date("2025-06-09T08:02:00Z"),isRead:!0},{id:"m70",senderId:"user-2",receiverId:"user-1",content:"\xD3timo! Nos vemos l\xE1 ent\xE3o.",timestamp:new Date("2025-06-09T08:03:00Z"),isRead:!1},{id:"m71",senderId:"user-3",receiverId:"user-1",content:"Ana, voc\xEA viu o novo filme do Christopher Nolan?",timestamp:new Date("2025-06-10T09:00:00Z"),isRead:!1},{id:"m72",senderId:"user-4",receiverId:"user-1",content:"Consegui resolver aquele bug do projeto!",timestamp:new Date("2025-06-10T10:30:00Z"),isRead:!1},{id:"m73",senderId:"user-5",receiverId:"user-1",content:"Obrigada pela ajuda com o design!",timestamp:new Date("2025-06-10T11:15:00Z"),isRead:!1}]);conversations=H(()=>{let e="user-1",n=new Map;return this.users.forEach(i=>{i.id!==e&&n.set(i.id,{user:i,messages:[],unreadCount:0,lastMessage:void 0})}),this.messages().forEach(i=>{let o=i.senderId===e,l=o?i.receiverId:i.senderId;if(n.has(l)){let d=n.get(l);d.messages.push(i),(!d.lastMessage||i.timestamp>d.lastMessage.timestamp)&&(d.lastMessage=i),!o&&!i.isRead&&d.unreadCount++}}),Array.from(n.values())});filteredConversations=H(()=>{let e=this.conversations().filter(n=>{let i=n.user.name.toLowerCase().includes(this.searchTerm().toLowerCase()),o=!this.filterUnread()||n.unreadCount>0;return i&&o});return e.sort((n,i)=>{switch(this.sortBy()){case"name":return n.user.name.localeCompare(i.user.name);case"unread":return i.unreadCount-n.unreadCount;case"recent":default:let o=n.lastMessage?.timestamp||new Date(0);return(i.lastMessage?.timestamp||new Date(0)).getTime()-o.getTime()}}),e});selectedConversation=H(()=>{let e=this.selectedConversationId();return e?this.conversations().find(n=>n.user.id===e):null});sortedMessages=H(()=>{let e=this.selectedConversation();return e?e.messages.sort((n,i)=>n.timestamp.getTime()-i.timestamp.getTime()):[]});toggleFilterUnread(){this.filterUnread.set(!this.filterUnread())}selectConversation(e){this.selectedConversationId.set(e)}sendMessage(){let e=this.newMessage().trim(),n=this.selectedConversationId();if(e&&n){let i={id:`m${Date.now()}`,senderId:"user-1",receiverId:n,content:e,timestamp:new Date,isRead:!1};this.messages.update(o=>[...o,i]),this.newMessage.set("")}}formatTime(e){let i=new Date().getTime()-e.getTime(),o=Math.floor(i/(1e3*60)),l=Math.floor(i/(1e3*60*60)),d=Math.floor(i/(1e3*60*60*24));return o<1?"agora":o<60?`${o}min`:l<24?`${l}h`:d<7?`${d}d`:e.toLocaleDateString("pt-BR")}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=j({type:t,selectors:[["app-chat-interface"]],decls:29,vars:8,consts:[["noConversation",""],[1,"flex","h-screen","bg-gray-100"],[1,"w-1/3","bg-white","border-r","border-gray-200","flex","flex-col"],[1,"p-4","border-b","border-gray-200"],[1,"text-xl","font-semibold","text-gray-800","/*mb-3*/"],[1,"text-sm","text-gray-500","pt-0"],[1,"relative","mb-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","text-gray-400","w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Buscar conversas...",1,"w-full","pl-10","pr-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"flex","gap-2"],[3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3"],["cx","12","cy","12","r","10"],[1,"px-3","py-1","text-sm","border","border-gray-300","rounded-full","focus:outline-none",3,"ngModelChange","ngModel"],["value","recent"],["value","name"],["value","unread"],[1,"flex-1","overflow-y-auto"],[3,"class","click",4,"ngFor","ngForOf"],[1,"flex-1","flex","flex-col","h-full"],[4,"ngIf","ngIfElse"],[1,"flex","items-start","gap-3"],[1,"relative","flex-shrink-0"],[1,"w-12","h-12","bg-gradient-to-br","from-blue-400","to-purple-500","rounded-full","flex","items-center","justify-center","text-white","font-semibold"],["class","absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-white rounded-full",4,"ngIf"],[1,"flex-1","min-w-0"],[1,"flex","items-center","justify-between","mb-1"],[1,"font-medium","text-gray-900","truncate"],["class","text-xs text-gray-500",4,"ngIf"],["class","flex items-center justify-between",4,"ngIf"],["class","text-xs text-gray-400 mt-1",4,"ngIf"],[1,"absolute","-bottom-1","-right-1","w-4","h-4","bg-green-500","border-2","border-white","rounded-full"],[1,"text-xs","text-gray-500"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-600","truncate"],[1,"flex","items-center","gap-1"],["class","bg-blue-500 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center",4,"ngIf"],["class","text-gray-400",4,"ngIf"],[1,"bg-blue-500","text-white","text-xs","rounded-full","px-2","py-1","min-w-[20px]","text-center"],[1,"text-gray-400"],["class","w-4 h-4 text-blue-500","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","w-4 h-4","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-blue-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7","transform","translate(4,0)"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],[1,"text-xs","text-gray-400","mt-1"],[1,"p-4","bg-white","border-b","border-gray-200"],[1,"flex","items-center","gap-3"],[1,"relative"],[1,"w-10","h-10","bg-gradient-to-br","from-blue-400","to-purple-500","rounded-full","flex","items-center","justify-center","text-white","font-semibold"],["class","absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 border-2 border-white rounded-full",4,"ngIf"],[1,"font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"flex-1","overflow-y-auto","p-4","space-y-4"],[3,"class",4,"ngFor","ngForOf"],[1,"p-4","bg-white","border-t","border-gray-200"],["type","text","placeholder","Digite sua mensagem...",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","keyup.enter","ngModel"],[1,"px-6","py-2","bg-blue-500","text-white","rounded-lg","hover:bg-blue-600","transition-colors",3,"click"],[1,"absolute","-bottom-1","-right-1","w-3","h-3","bg-green-500","border-2","border-white","rounded-full"],[1,"text-sm"],[1,"flex","items-center","justify-end","gap-1","mt-1"],["class","text-blue-100",4,"ngIf"],[1,"text-blue-100"],["class","w-3 h-3","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"flex-1","flex","items-center","justify-center","bg-gray-50"],[1,"text-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-gray-400","mx-auto","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],[1,"text-xl","font-semibold","text-gray-600","mb-2"],[1,"text-gray-500"]],template:function(n,i){if(n&1){let o=I();s(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),u(4,"Conversas"),a(),s(5,"h5",5),u(6),a(),s(7,"div",6),v(),s(8,"svg",7),f(9,"path",8),a(),T(),s(10,"input",9),_e("ngModelChange",function(d){return b(o),Ce(i.searchTerm,d)||(i.searchTerm=d),w(d)}),a()(),s(11,"div",10)(12,"button",11),_("click",function(){return b(o),w(i.toggleFilterUnread())}),v(),s(13,"svg",12),f(14,"circle",13),a(),u(15," N\xE3o lidas "),a(),T(),s(16,"select",14),_e("ngModelChange",function(d){return b(o),Ce(i.sortBy,d)||(i.sortBy=d),w(d)}),s(17,"option",15),u(18,"Recentes"),a(),s(19,"option",16),u(20,"Nome"),a(),s(21,"option",17),u(22,"N\xE3o lidas"),a()()()(),s(23,"div",18),g(24,Ja,13,8,"div",19),a()(),s(25,"div",20),g(26,rl,19,6,"div",21)(27,ol,8,0,"ng-template",null,0,Fe),a()()}if(n&2){let o=te(28);c(6),L(i.currentUser().name+" ("+i.currentUser().id+")"),c(4),ve("ngModel",i.searchTerm),c(2),F("flex items-center gap-1 px-3 py-1 rounded-full text-sm "+(i.filterUnread()?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600")),c(4),ve("ngModel",i.sortBy),c(8),p("ngForOf",i.filteredConversations()),c(2),p("ngIf",i.selectedConversation())("ngIfElse",o)}},dependencies:[G,Ee,ce,Me,We,Ke,$e,xi,Ge,ze],styles:["[_nghost-%COMP%]{height:100vh;display:block}"]})}return t})();var sl=["localVideo"],al=["remoteVideo"],ll=["canvas"];function cl(t,r){t&1&&(s(0,"div",32),v(),s(1,"svg",33),f(2,"path",34)(3,"path",35),a(),u(4," Detec\xE7\xE3o Facial Ativa "),a())}function dl(t,r){t&1&&(s(0,"div",36),v(),s(1,"svg",37),f(2,"path",38),a()())}function ul(t,r){t&1&&(s(0,"div",36),v(),s(1,"svg",37),f(2,"path",39),a()())}function ml(t,r){if(t&1){let e=I();s(0,"button",40),_("click",function(){b(e);let i=m();return w(i.startCall())}),v(),s(1,"svg",14),f(2,"path",41),a(),u(3),a()}if(t&2){let e=m();B("loading",e.connectionStatus()==="connecting"),c(3),S(" ",e.connectionStatus()==="connecting"?"Conectando...":"Iniciar Chamada"," ")}}function pl(t,r){t&1&&(v(),f(0,"path",15))}function hl(t,r){t&1&&(v(),f(0,"path",49))}function fl(t,r){t&1&&(v(),f(0,"path",50))}function gl(t,r){t&1&&(v(),f(0,"path",51))}function vl(t,r){if(t&1){let e=I();qt(0),s(1,"button",42),_("click",function(){b(e);let i=m();return w(i.toggleVideo())}),v(),s(2,"svg",14),g(3,pl,1,0,"path",43)(4,hl,1,0,"path",44),a()(),T(),s(5,"button",42),_("click",function(){b(e);let i=m();return w(i.toggleAudio())}),v(),s(6,"svg",14),g(7,fl,1,0,"path",45)(8,gl,1,0,"path",46),a()(),T(),s(9,"button",47),_("click",function(){b(e);let i=m();return w(i.endCall())}),v(),s(10,"svg",14),f(11,"path",48),a()(),Ft()}if(t&2){let e=m();c(),F(e.isVideoEnabled()?"btn-primary":"btn-error"),c(2),p("ngIf",e.isVideoEnabled()),c(),p("ngIf",!e.isVideoEnabled()),c(),F(e.isAudioEnabled()?"btn-primary":"btn-error"),c(2),p("ngIf",e.isAudioEnabled()),c(),p("ngIf",!e.isAudioEnabled())}}function Cl(t,r){if(t&1&&(s(0,"div",63)(1,"div",64)(2,"span"),u(3),a(),s(4,"span"),u(5),a()(),f(6,"progress",65),a()),t&2){let e=r.$implicit,n=m(2);c(3),L(n.getExpressionText(e.emotion)),c(2),S("",(e.confidence*100).toFixed(1),"%"),c(),F(n.getExpressionProgressClass(e.emotion)),p("value",e.confidence*100)}}function _l(t,r){if(t&1&&(s(0,"div",52)(1,"div",53)(2,"h4",54),u(3,"Demografia do Paciente"),a(),s(4,"div",55)(5,"p"),u(6),a(),s(7,"p"),u(8),a()()(),s(9,"div",53)(10,"h4",54),u(11,"Express\xE3o Dominante"),a(),s(12,"div",56),u(13),a()(),s(14,"div",53)(15,"h4",54),u(16,"An\xE1lise de Express\xF5es"),a(),s(17,"div",53),g(18,Cl,7,5,"div",57),a()(),s(19,"div",58),v(),s(20,"svg",59),f(21,"path",60),a(),T(),s(22,"div")(23,"h3",61),u(24,"Nota Cl\xEDnica:"),a(),s(25,"div",62),u(26),a()()()()),t&2){let e=m();c(6),S("Idade: ~",e.faceData().age," anos"),c(2),S("G\xEAnero: ",e.faceData().gender==="male"?"Masculino":"Feminino",""),c(4),F(e.getExpressionBadgeClass(e.getDominantExpression())),c(),S(" ",e.getExpressionText(e.getDominantExpression())," "),c(5),p("ngForOf",e.getExpressionsArray()),c(8),S(" Paciente apresenta estado ",e.getExpressionText(e.getDominantExpression()).toLowerCase(),". Monitorar estado emocional durante a consulta. ")}}function bl(t,r){if(t&1&&(s(0,"div",66),v(),s(1,"svg",67),f(2,"path",34)(3,"path",35),a(),T(),s(4,"p",68),u(5),a()()),t&2){let e=m();c(5),S(" ",e.isCallActive()?"Analisando express\xF5es faciais...":"Inicie uma chamada para come\xE7ar a an\xE1lise facial"," ")}}var zr=(()=>{class t{localVideoRef;remoteVideoRef;canvasRef;isCallActive=y(!1);isVideoEnabled=y(!0);isAudioEnabled=y(!0);faceData=y(null);isDetecting=y(!1);connectionStatus=y("disconnected");stream=null;detectionInterval=null;startCall(){return k(this,null,function*(){try{this.connectionStatus.set("connecting");let e=yield navigator.mediaDevices.getUserMedia({video:{width:640,height:480},audio:!0});this.localVideoRef?.nativeElement&&(this.localVideoRef.nativeElement.srcObject=e),this.stream=e,this.isCallActive.set(!0),this.connectionStatus.set("connected"),setTimeout(()=>{this.remoteVideoRef?.nativeElement&&(this.remoteVideoRef.nativeElement.srcObject=e)},1e3),this.startFaceDetection()}catch(e){console.error("Erro ao iniciar chamada:",e),this.connectionStatus.set("disconnected")}})}endCall(){this.stopLocalVideo(),this.stopFaceDetection(),this.isCallActive.set(!1),this.connectionStatus.set("disconnected"),this.faceData.set(null),this.remoteVideoRef?.nativeElement&&(this.remoteVideoRef.nativeElement.srcObject=null)}toggleVideo(){if(this.stream){let e=this.stream.getVideoTracks()[0];e&&(e.enabled=!e.enabled,this.isVideoEnabled.set(e.enabled))}}toggleAudio(){if(this.stream){let e=this.stream.getAudioTracks()[0];e&&(e.enabled=!e.enabled,this.isAudioEnabled.set(e.enabled))}}stopLocalVideo(){this.stream&&(this.stream.getTracks().forEach(e=>e.stop()),this.stream=null),this.localVideoRef?.nativeElement&&(this.localVideoRef.nativeElement.srcObject=null)}startFaceDetection(){this.isDetecting.set(!0),this.detectionInterval=setInterval(()=>{let e={expressions:{happy:Math.random()*.8+.1,sad:Math.random()*.3,angry:Math.random()*.2,fearful:Math.random()*.1,disgusted:Math.random()*.1,surprised:Math.random()*.3,neutral:Math.random()*.5+.2},age:Math.floor(Math.random()*40)+25,gender:Math.random()>.5?"male":"female"};this.faceData.set(e)},2e3)}stopFaceDetection(){this.isDetecting.set(!1),this.detectionInterval&&(clearInterval(this.detectionInterval),this.detectionInterval=null)}getDominantExpression(){let e=this.faceData()?.expressions;return e?Object.entries(e).reduce((n,i)=>e[n[0]]>e[i[0]]?n:i)[0]:"neutral"}getExpressionsArray(){let e=this.faceData()?.expressions;return e?Object.entries(e).map(([n,i])=>({emotion:n,confidence:i})):[]}getConnectionStatusClass(){let e=this.connectionStatus();return e==="connected"?"badge-success":e==="connecting"?"badge-warning":"badge-ghost"}getConnectionStatusText(){let e=this.connectionStatus();return e==="connected"?"Conectado":e==="connecting"?"Conectando...":"Desconectado"}getExpressionBadgeClass(e){return{happy:"badge-success",sad:"badge-info",angry:"badge-error",fearful:"badge-secondary",disgusted:"badge-warning",surprised:"badge-accent",neutral:"badge-ghost"}[e]||"badge-ghost"}getExpressionProgressClass(e){return{happy:"progress-success",sad:"progress-info",angry:"progress-error",fearful:"progress-secondary",disgusted:"progress-warning",surprised:"progress-accent",neutral:"progress-ghost"}[e]||"progress-ghost"}getExpressionText(e){return{happy:"FELIZ",sad:"TRISTE",angry:"IRRITADO",fearful:"TEMEROSO",disgusted:"DESGOSTOSO",surprised:"SURPRESO",neutral:"NEUTRO"}[e]||"NEUTRO"}ngOnDestroy(){this.endCall()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=j({type:t,selectors:[["app-video-call"]],viewQuery:function(n,i){if(n&1&&(K(sl,5),K(al,5),K(ll,5)),n&2){let o;Q(o=Y())&&(i.localVideoRef=o.first),Q(o=Y())&&(i.remoteVideoRef=o.first),Q(o=Y())&&(i.canvasRef=o.first)}},decls:45,vars:10,consts:[["localVideo",""],["remoteVideo",""],["noFaceData",""],["canvas",""],[1,"container","mx-auto","p-4"],[1,"text-center","mb-8"],[1,"text-4xl","font-bold","mb-2"],[1,"text-lg","text-base-content/70"],[1,"grid","grid-cols-1","lg:grid-cols-4","gap-6"],[1,"lg:col-span-3"],[1,"card","bg-base-100","shadow-xl","h-full"],[1,"card-body"],[1,"flex","items-center","justify-between","mb-4"],[1,"card-title"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"],[1,"flex","items-center","gap-2"],[1,"badge"],["class","badge badge-secondary",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-6"],[1,"relative"],["autoplay","","muted","","playsinline","",1,"w-full","h-64","bg-base-300","rounded-lg","object-cover"],[1,"absolute","bottom-2","left-2","bg-black","bg-opacity-50","text-white","px-2","py-1","rounded","text-sm"],["class","absolute inset-0 bg-base-300 rounded-lg flex items-center justify-center",4,"ngIf"],["autoplay","","playsinline","",1,"w-full","h-64","bg-base-300","rounded-lg","object-cover"],[1,"flex","justify-center","gap-4"],["class","btn btn-success btn-lg",3,"loading","click",4,"ngIf"],[4,"ngIf"],[1,"lg:col-span-1"],[1,"card-title","text-lg"],["class","space-y-4",4,"ngIf","ngIfElse"],[1,"hidden"],[1,"badge","badge-secondary"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 13a3 3 0 11-6 0 3 3 0 016 0z"],[1,"absolute","inset-0","bg-base-300","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","text-base-content/30"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18 21l-4.64-4.64m0 0a9 9 0 01-12.728 0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"],[1,"btn","btn-success","btn-lg",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"],[1,"btn","btn-circle",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5.586 5.586A2 2 0 015 6v6a3 3 0 003 3h.5M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z",4,"ngIf"],[1,"btn","btn-circle","btn-error",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 8l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M3 3l1.664 1.664M21 21l-1.5-1.5m-5.485-1.242L12 17l-1.5-1.5m-2.242-5.485L6.5 8.5 3 3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5.586 5.586A2 2 0 015 6v6a3 3 0 003 3h.5M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"],[1,"space-y-4"],[1,"space-y-2"],[1,"font-semibold","text-sm"],[1,"text-sm","space-y-1"],[1,"badge","badge-lg"],["class","space-y-1",4,"ngFor","ngForOf"],[1,"alert","alert-info"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"font-bold"],[1,"text-xs"],[1,"space-y-1"],[1,"flex","justify-between","text-xs"],["max","100",1,"progress",3,"value"],[1,"text-center","text-base-content/50","py-8"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","mx-auto","mb-2","opacity-50"],[1,"text-sm"]],template:function(n,i){if(n&1&&(s(0,"div",4)(1,"div",5)(2,"h1",6),u(3,"Sistema de Video Chat M\xE9dico"),a(),s(4,"p",7),u(5," Consulta por v\xEDdeo em tempo real com an\xE1lise de express\xE3o facial por IA "),a()(),s(6,"div",8)(7,"div",9)(8,"div",10)(9,"div",11)(10,"div",12)(11,"h2",13),v(),s(12,"svg",14),f(13,"path",15),a(),u(14," Consulta por V\xEDdeo "),a(),T(),s(15,"div",16)(16,"div",17),u(17),a(),g(18,cl,5,0,"div",18),a()(),s(19,"div",19)(20,"div",20),f(21,"video",21,0),s(23,"div",22),u(24," Voc\xEA (M\xE9dico) "),a(),g(25,dl,3,0,"div",23),a(),s(26,"div",20),f(27,"video",24,1),s(29,"div",22),u(30," Paciente "),a(),g(31,ul,3,0,"div",23),a()(),s(32,"div",25),g(33,ml,4,3,"button",26)(34,vl,12,8,"ng-container",27),a()()()(),s(35,"div",28)(36,"div",10)(37,"div",11)(38,"h3",29),u(39,"An\xE1lise Facial IA"),a(),g(40,_l,27,7,"div",30)(41,bl,6,1,"ng-template",null,2,Fe),a()()()(),f(43,"canvas",31,3),a()),n&2){let o=te(42);c(16),F(i.getConnectionStatusClass()),c(),S(" ",i.getConnectionStatusText()," "),c(),p("ngIf",i.isDetecting()),c(7),p("ngIf",!i.isVideoEnabled()),c(6),p("ngIf",!i.isCallActive()),c(2),p("ngIf",!i.isCallActive()),c(),p("ngIf",i.isCallActive()),c(6),p("ngIf",i.faceData())("ngIfElse",o)}},dependencies:[G,Ee,ce],encapsulation:2})}return t})();var zn=(()=>{class t{constructor(){}ngOnInit(){}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=j({type:t,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(n,i){n&1&&(s(0,"p"),u(1,` dashboard works!
`),a())},encapsulation:2})}return t})();var wl=["messagesContainer"],xl=["fileInput"],yl=["messageInput"],Wr=(t,r)=>r.id,Sl=(t,r)=>r.emoji;function Tl(t,r){if(t&1&&(s(0,"span",35),u(1),a()),t&2){let e=m().$implicit,n=m();c(),L(n.getTypingText(e.isTyping))}}function kl(t,r){if(t&1&&u(0),t&2){let e=m().$implicit,n=m();S(" ",n.getLastMessagePreview(e.lastMessage)," ")}}function El(t,r){if(t&1&&(s(0,"span",36),u(1),a()),t&2){let e=m().$implicit;c(),L(e.unreadCount)}}function Ml(t,r){if(t&1){let e=I();s(0,"div",28),_("click",function(){let i=b(e).$implicit,o=m();return w(o.selectChat(i))}),s(1,"div",7)(2,"div",29)(3,"div",30),f(4,"img",10),a()(),s(5,"div",31)(6,"div",6)(7,"h3",32),u(8),a(),s(9,"span",33),u(10),a()(),s(11,"div",6)(12,"p",34),g(13,Tl,2,1,"span",35)(14,kl,1,1),a(),g(15,El,2,1,"span",36),a()()()()}if(t&2){let e,n=r.$implicit,i=m();B("bg-primary-10",((e=i.selectedChat())==null?null:e.id)===n.id),c(2),B("online",n.type==="individual"),c(2),p("src",n.avatar,de)("alt",n.name),c(4),L(n.name),c(2),S(" ",i.formatTime(n.lastMessage==null?null:n.lastMessage.timestamp)," "),c(3),E(n.isTyping&&n.isTyping.length>0?13:14),c(2),E(n.unreadCount>0?15:-1)}}function Il(t,r){if(t&1&&u(0),t&2){let e=m(2);S(" ",e.getOnlineStatus(e.selectedChat().participants[0])," ")}}function Al(t,r){if(t&1&&u(0),t&2){let e=m(2);S(" ",e.selectedChat().participants.length," participantes ")}}function Rl(t,r){if(t&1&&(s(0,"p",57),u(1),a()),t&2){let e=m().$implicit;c(),L(e.content)}}function Dl(t,r){if(t&1&&(s(0,"p",61),u(1),a()),t&2){let e=m(2).$implicit;c(),L(e.fileName)}}function Ll(t,r){if(t&1&&(s(0,"div",58),f(1,"img",64),g(2,Dl,2,1,"p",61),a()),t&2){let e=m().$implicit;c(),p("src",e.content,de)("alt",e.fileName),c(),E(e.fileName?2:-1)}}function Vl(t,r){if(t&1&&(s(0,"div",59)(1,"div",65),v(),s(2,"svg",14),f(3,"path",66),a()(),T(),s(4,"div",48)(5,"p",67),u(6),a(),s(7,"p",61),u(8),a()()()),t&2){let e=m().$implicit;c(6),L(e.fileName),c(2),L(e.fileSize)}}function Ol(t,r){if(t&1&&(v(),s(0,"svg",68),f(1,"path",69),a()),t&2){let e=m().$implicit;B("text-primary",e.isRead)}}function ql(t,r){if(t&1&&(s(0,"span",70),u(1),a()),t&2){let e=r.$implicit;c(),ge(" ",e.emoji," ",e.count," ")}}function Fl(t,r){if(t&1&&(s(0,"div",63),N(1,ql,2,2,"span",70,Sl),a()),t&2){let e=m().$implicit,n=m(2);c(),$(n.getUniqueReactions(e.reactions))}}function Hl(t,r){if(t&1&&(s(0,"div",54)(1,"div",55)(2,"div",56),g(3,Rl,2,1,"p",57)(4,Ll,3,3,"div",58)(5,Vl,9,2,"div",59),s(6,"div",60)(7,"span",61),u(8),a(),g(9,Ol,2,2,":svg:svg",62),a()(),g(10,Fl,3,0,"div",63),a()()),t&2){let e=r.$implicit,n=m(2);B("justify-end",e.senderId===n.currentUser().id),c(2),F(e.senderId===n.currentUser().id?"bg-primary text-primary-content":"bg-base-300"),c(),E(e.type==="text"?3:-1),c(),E(e.type==="image"?4:-1),c(),E(e.type==="document"?5:-1),c(3),L(n.formatTime(e.timestamp)),c(),E(e.senderId===n.currentUser().id?9:-1),c(),E(e.reactions&&e.reactions.length>0?10:-1)}}function Pl(t,r){if(t&1){let e=I();s(0,"button",71),_("click",function(){b(e);let i=m(2);return w(i.sendMessage())}),v(),s(1,"svg",14),f(2,"path",72),a()()}}function Bl(t,r){if(t&1){let e=I();s(0,"button",73),_("click",function(){b(e);let i=m(2);return w(i.startVoiceRecording())}),v(),s(1,"svg",14),f(2,"path",74),a()()}}function jl(t,r){if(t&1){let e=I();s(0,"div",53)(1,"div",75)(2,"button",76),_("click",function(){b(e);let i=m(2);return w(i.selectFile("image"))}),s(3,"div",77),v(),s(4,"svg",14),f(5,"path",78),a()(),T(),s(6,"span",79),u(7,"Foto"),a()(),s(8,"button",76),_("click",function(){b(e);let i=m(2);return w(i.selectFile("document"))}),s(9,"div",80),v(),s(10,"svg",14),f(11,"path",66),a()(),T(),s(12,"span",79),u(13,"Documento"),a()(),s(14,"button",76),_("click",function(){b(e);let i=m(2);return w(i.startCamera())}),s(15,"div",81),v(),s(16,"svg",14),f(17,"path",82),a()(),T(),s(18,"span",79),u(19,"C\xE2mera"),a()(),s(20,"button",76),_("click",function(){b(e);let i=m(2);return w(i.selectContact())}),s(21,"div",83),v(),s(22,"svg",14),f(23,"path",84),a()(),T(),s(24,"span",79),u(25,"Contato"),a()()()()}}function Zl(t,r){if(t&1){let e=I();s(0,"div",37)(1,"div",6)(2,"div",7)(3,"div",29)(4,"div",9),f(5,"img",10),a()(),s(6,"div")(7,"h3",11),u(8),a(),s(9,"p",38),g(10,Il,1,1)(11,Al,1,1),a()()(),s(12,"div",12)(13,"button",39),_("click",function(){b(e);let i=m();return w(i.startVideoCall())}),v(),s(14,"svg",14),f(15,"path",40),a()(),T(),s(16,"button",39),_("click",function(){b(e);let i=m();return w(i.startVoiceCall())}),v(),s(17,"svg",14),f(18,"path",41),a()(),T(),s(19,"button",13),v(),s(20,"svg",14),f(21,"path",42),a()()()()(),T(),s(22,"div",43,1),N(24,Hl,11,10,"div",44,Wr),a(),s(26,"div",45)(27,"div",46)(28,"button",39),_("click",function(){b(e);let i=m();return w(i.toggleAttachmentMenu())}),v(),s(29,"svg",14),f(30,"path",47),a()(),T(),s(31,"div",48)(32,"textarea",49,2),_e("ngModelChange",function(i){b(e);let o=m();return Ce(o.newMessage,i)||(o.newMessage=i),w(i)}),_("keydown",function(i){b(e);let o=m();return w(o.handleEnterKey(i))})("input",function(){b(e);let i=m();return w(i.handleTyping())}),a()(),s(34,"button",13),v(),s(35,"svg",14),f(36,"path",50),a()(),g(37,Pl,3,0,"button",51)(38,Bl,3,0,"button",52),a(),g(39,jl,26,0,"div",53),a()}if(t&2){let e=m();c(3),B("online",e.selectedChat().type==="individual"),c(2),p("src",e.selectedChat().avatar,de)("alt",e.selectedChat().name),c(3),L(e.selectedChat().name),c(2),E(e.selectedChat().type==="individual"?10:11),c(14),$(e.selectedChat().messages),c(8),ve("ngModel",e.newMessage),c(5),E(e.newMessage.trim()?37:38),c(2),E(e.showAttachmentMenu()?39:-1)}}function Ul(t,r){t&1&&(s(0,"div",25)(1,"div",85)(2,"div",86),v(),s(3,"svg",87),f(4,"path",88),a()(),T(),s(5,"h2",89),u(6,"Bem-vindo ao Chat"),a(),s(7,"p",90),u(8,"Selecione uma conversa para come\xE7ar a conversar"),a()()())}function Nl(t,r){t&1&&u(0," Chamada de v\xEDdeo... ")}function $l(t,r){t&1&&u(0," Liga\xE7\xE3o... ")}function Gl(t,r){if(t&1){let e=I();s(0,"button",100),_("click",function(){b(e);let i=m(2);return w(i.acceptCall())}),v(),s(1,"svg",98),f(2,"path",40),a()()}}function zl(t,r){if(t&1){let e=I();s(0,"div",26)(1,"div",91)(2,"div",85)(3,"div",92)(4,"div",93),f(5,"img",10),a()(),s(6,"h3",94),u(7),a(),s(8,"p",95),g(9,Nl,1,0)(10,$l,1,0),a(),s(11,"div",96)(12,"button",97),_("click",function(){b(e);let i=m();return w(i.endCall())}),v(),s(13,"svg",98),f(14,"path",41),a()(),g(15,Gl,3,0,"button",99),a()()()()}if(t&2){let e=m();c(5),p("src",e.activeCall().avatar,de)("alt",e.activeCall().name),c(2),L(e.activeCall().name),c(2),E(e.activeCall().type==="video"?9:10),c(6),E(e.activeCall().type==="video"?15:-1)}}var Kr=(()=>{class t{messagesContainer;fileInput;messageInput;currentUser=y({id:"1",name:"Voc\xEA",avatar:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=150&h=150&fit=crop&crop=face",isOnline:!0});searchTerm="";newMessage="";showAttachmentMenu=y(!1);selectedChat=y(null);activeCall=y(null);chats=y([{id:"1",type:"individual",name:"Maria Silva",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b5b0?w=150&h=150&fit=crop&crop=face",participants:[{id:"2",name:"Maria Silva",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b5b0?w=150&h=150&fit=crop&crop=face",isOnline:!0}],messages:[{id:"1",senderId:"2",content:"Oi! Como voc\xEA est\xE1?",timestamp:new Date(Date.now()-3e5),type:"text",isRead:!0},{id:"2",senderId:"1",content:"Estou bem, obrigado! E voc\xEA?",timestamp:new Date(Date.now()-24e4),type:"text",isRead:!0},{id:"3",senderId:"2",content:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",timestamp:new Date(Date.now()-18e4),type:"image",fileName:"paisagem.jpg",isRead:!0}],unreadCount:0,isTyping:[]},{id:"2",type:"group",name:"Fam\xEDlia \u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",avatar:"https://images.unsplash.com/photo-1511632765486-a01980e01a18?w=150&h=150&fit=crop&crop=face",participants:[{id:"3",name:"Jo\xE3o",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",isOnline:!1,lastSeen:new Date(Date.now()-36e5)},{id:"4",name:"Ana",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",isOnline:!0}],messages:[{id:"4",senderId:"3",content:"Pessoal, que tal um almo\xE7o domingo?",timestamp:new Date(Date.now()-72e5),type:"text",isRead:!1}],unreadCount:1,isTyping:["Ana"]},{id:"3",type:"individual",name:"Pedro Santos",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",participants:[{id:"5",name:"Pedro Santos",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",isOnline:!1,lastSeen:new Date(Date.now()-18e5)}],messages:[{id:"5",senderId:"5",content:"Apresenta\xE7\xE3o_Projeto.pdf",timestamp:new Date(Date.now()-36e5),type:"document",fileName:"Apresenta\xE7\xE3o_Projeto.pdf",fileSize:"2.3 MB",isRead:!1}],unreadCount:1,isTyping:[]}]);filteredChats=H(()=>{let e=this.searchTerm.toLowerCase();return e?this.chats().filter(n=>n.name.toLowerCase().includes(e)||n.participants.some(i=>i.name.toLowerCase().includes(e))):this.chats()});selectChat(e){this.selectedChat.set(e),e.unreadCount=0,e.messages.forEach(n=>{n.senderId!==this.currentUser().id&&(n.isRead=!0)}),this.showAttachmentMenu.set(!1),setTimeout(()=>this.scrollToBottom(),100)}sendMessage(){if(!this.newMessage.trim()||!this.selectedChat())return;let e={id:Date.now().toString(),senderId:this.currentUser().id,content:this.newMessage.trim(),timestamp:new Date,type:"text",isRead:!1},n=this.selectedChat();n.messages.push(e),n.lastMessage=e,this.chats.update(i=>[...i]),this.newMessage="",setTimeout(()=>this.scrollToBottom(),100),n.type==="individual"&&setTimeout(()=>this.simulateResponse(n),2e3)}simulateResponse(e){let n=["Entendi! \u{1F44D}","Que legal!","Obrigado pela mensagem!","Vou verificar isso","Perfeito! \u{1F60A}","Combinado ent\xE3o!"],i={id:Date.now().toString(),senderId:e.participants[0].id,content:n[Math.floor(Math.random()*n.length)],timestamp:new Date,type:"text",isRead:!1};e.messages.push(i),e.lastMessage=i,e.unreadCount++,this.chats.update(o=>[...o]),setTimeout(()=>this.scrollToBottom(),100)}handleEnterKey(e){e.key==="Enter"&&!e.shiftKey&&(e.preventDefault(),this.sendMessage())}handleTyping(){console.log("User is typing...")}toggleAttachmentMenu(){this.showAttachmentMenu.update(e=>!e)}selectFile(e){let n=this.fileInput.nativeElement;e==="image"?n.accept="image/*":e==="document"&&(n.accept=".pdf,.doc,.docx,.txt,.xlsx,.pptx"),n.click(),this.showAttachmentMenu.set(!1)}handleFileSelection(e){let n=e.target.files;!n||n.length===0||!this.selectedChat()||(Array.from(n).forEach(i=>{let o=new FileReader;if(o.onload=l=>{let d={id:Date.now().toString()+Math.random(),senderId:this.currentUser().id,content:l.target?.result,timestamp:new Date,type:i.type.startsWith("image/")?"image":"document",fileName:i.name,fileSize:this.formatFileSize(i.size),isRead:!1},h=this.selectedChat();h.messages.push(d),h.lastMessage=d,this.chats.update(C=>[...C]),setTimeout(()=>this.scrollToBottom(),100)},i.type.startsWith("image/"))o.readAsDataURL(i);else{let l={id:Date.now().toString()+Math.random(),senderId:this.currentUser().id,content:"",timestamp:new Date,type:"document",fileName:i.name,fileSize:this.formatFileSize(i.size),isRead:!1},d=this.selectedChat();d.messages.push(l),d.lastMessage=l,this.chats.update(h=>[...h]),setTimeout(()=>this.scrollToBottom(),100)}}),e.target.value="")}startCamera(){alert("Funcionalidade de c\xE2mera seria implementada aqui"),this.showAttachmentMenu.set(!1)}selectContact(){alert("Sele\xE7\xE3o de contato seria implementada aqui"),this.showAttachmentMenu.set(!1)}startVoiceRecording(){alert("Grava\xE7\xE3o de \xE1udio seria implementada aqui")}startVideoCall(){this.selectedChat()&&this.activeCall.set({name:this.selectedChat().name,avatar:this.selectedChat().avatar,type:"video"})}startVoiceCall(){this.selectedChat()&&this.activeCall.set({name:this.selectedChat().name,avatar:this.selectedChat().avatar,type:"voice"})}acceptCall(){alert("Chamada aceita! Interface de chamada seria exibida aqui."),this.endCall()}endCall(){this.activeCall.set(null)}formatTime(e){if(!e)return"";let i=new Date().getTime()-e.getTime(),o=Math.floor(i/(1e3*60*60)),l=Math.floor(i/(1e3*60));return l<1?"agora":l<60?`${l}m`:o<24?`${o}h`:e.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}formatFileSize(e){if(e===0)return"0 Bytes";let n=1024,i=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,o)).toFixed(2))+" "+i[o]}getOnlineStatus(e){if(!e)return"";if(e.isOnline)return"online";if(e.lastSeen){let n=Date.now()-e.lastSeen.getTime(),i=Math.floor(n/(1e3*60*60)),o=Math.floor(n/(1e3*60));return o<60?`visto por \xFAltimo h\xE1 ${o}m`:i<24?`visto por \xFAltimo h\xE1 ${i}h`:`visto por \xFAltimo ${e.lastSeen.toLocaleDateString("pt-BR")}`}return"offline"}getLastMessagePreview(e){if(!e)return"";switch(e.type){case"text":return e.content;case"image":return"\u{1F4F7} Foto";case"document":return`\u{1F4C4} ${e.fileName}`;case"audio":return"\u{1F3B5} \xC1udio";case"video":return"\u{1F3A5} V\xEDdeo";default:return e.content}}getTypingText(e){return e.length===1?`${e[0]} est\xE1 digitando...`:e.length===2?`${e[0]} e ${e[1]} est\xE3o digitando...`:`${e.length} pessoas est\xE3o digitando...`}getUniqueReactions(e){let n=new Map;return e.forEach(i=>{let o=n.get(i.emoji)||0;n.set(i.emoji,o+1)}),Array.from(n.entries()).map(([i,o])=>({emoji:i,count:o}))}scrollToBottom(){if(this.messagesContainer){let e=this.messagesContainer.nativeElement;e.scrollTop=e.scrollHeight}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=j({type:t,selectors:[["app-whatsapp-chat"]],viewQuery:function(n,i){if(n&1&&(K(wl,5),K(xl,5),K(yl,5)),n&2){let o;Q(o=Y())&&(i.messagesContainer=o.first),Q(o=Y())&&(i.fileInput=o.first),Q(o=Y())&&(i.messageInput=o.first)}},decls:31,vars:6,consts:[["fileInput",""],["messagesContainer",""],["messageInput",""],["data-theme","light",1,"flex","h-screen","bg-base-100"],[1,"w-80","bg-base-200","border-r","border-base-300","flex","flex-col"],[1,"p-4","bg-primary","text-primary-content"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-3"],[1,"avatar","online"],[1,"w-10","rounded-full"],[3,"src","alt"],[1,"font-semibold"],[1,"flex","space-x-2"],[1,"btn","btn-ghost","btn-sm","btn-circle"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],[1,"p-4"],[1,"relative"],["type","text","placeholder","Pesquisar conversas...",1,"input","input-bordered","w-full","pl-10",3,"ngModelChange","ngModel"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","absolute","left-3","top-4","text-base-content/50"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"flex-1","overflow-y-auto"],[1,"p-4","hover:bg-base-300","cursor-pointer","transition-colors","border-b","border-base-300/50",3,"bg-primary-10"],[1,"flex-1","flex","flex-col"],[1,"flex-1","flex","items-center","justify-center","bg-base-100"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],["type","file","multiple","",1,"hidden",3,"change"],[1,"p-4","hover:bg-base-300","cursor-pointer","transition-colors","border-b","border-base-300/50",3,"click"],[1,"avatar"],[1,"w-12","rounded-full"],[1,"flex-1","min-w-0"],[1,"font-semibold","text-sm","truncate"],[1,"text-xs","text-base-content/60"],[1,"text-sm","text-base-content/60","truncate"],[1,"text-primary","italic"],[1,"badge","badge-primary","badge-sm"],[1,"p-4","bg-base-200","border-b","border-base-300"],[1,"text-sm","text-base-content/60"],[1,"btn","btn-ghost","btn-sm","btn-circle",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"],[1,"flex-1","overflow-y-auto","p-4","space-y-4"],[1,"flex",3,"justify-end"],[1,"p-4","bg-base-200","border-t","border-base-300"],[1,"flex","items-end","space-x-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"],[1,"flex-1"],["placeholder","Digite uma mensagem...","rows","1",1,"textarea","textarea-bordered","w-full","resize-none",3,"ngModelChange","keydown","input","ngModel"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M14.828 14.828a4 4 0 01-5.656 0M9 10h1.01M15 10h1.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"btn","btn-primary","btn-sm"],[1,"btn","btn-primary","btn-sm","btn-circle"],[1,"mt-3","p-3","bg-base-100","rounded-lg","shadow-lg","border"],[1,"flex"],[1,"max-w-xs","lg:max-w-md","xl:max-w-lg"],[1,"px-4","py-2","rounded-2xl"],[1,"text-sm"],[1,"space-y-2"],[1,"flex","items-center","space-x-3","p-2","bg-base-100/20","rounded-lg"],[1,"flex","items-center","justify-end","mt-1","space-x-1"],[1,"text-xs","opacity-70"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","opacity-70",3,"text-primary"],[1,"flex","space-x-1","mt-1","ml-4"],[1,"rounded-lg","max-w-full","h-auto",3,"src","alt"],[1,"w-10","h-10","bg-base-100/30","rounded-lg","flex","items-center","justify-center"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"],[1,"text-sm","font-medium"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","opacity-70"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-xs","bg-base-200","px-2","py-1","rounded-full"],[1,"btn","btn-primary","btn-sm",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 19l9 2-9-18-9 18 9-2zm0 0v-8"],[1,"btn","btn-primary","btn-sm","btn-circle",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"],[1,"grid","grid-cols-4","gap-4"],[1,"flex","flex-col","items-center","space-y-2","p-3","hover:bg-base-200","rounded-lg",3,"click"],[1,"w-10","h-10","bg-purple-500","rounded-full","flex","items-center","justify-center","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"text-xs"],[1,"w-10","h-10","bg-blue-500","rounded-full","flex","items-center","justify-center","text-white"],[1,"w-10","h-10","bg-green-500","rounded-full","flex","items-center","justify-center","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"],[1,"w-10","h-10","bg-orange-500","rounded-full","flex","items-center","justify-center","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"text-center"],[1,"w-32","h-32","mx-auto","mb-6","bg-primary/10","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-primary"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],[1,"text-2xl","font-bold","text-base-content","mb-2"],[1,"text-base-content/60"],[1,"bg-base-100","rounded-lg","p-6","w-96"],[1,"avatar","mb-4"],[1,"w-20","rounded-full"],[1,"text-xl","font-bold","mb-2"],[1,"text-base-content/60","mb-6"],[1,"flex","justify-center","space-x-4"],[1,"btn","btn-error","btn-circle",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],[1,"btn","btn-success","btn-circle"],[1,"btn","btn-success","btn-circle",3,"click"]],template:function(n,i){if(n&1){let o=I();s(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9),f(7,"img",10),a()(),s(8,"span",11),u(9),a()(),s(10,"div",12)(11,"button",13),v(),s(12,"svg",14),f(13,"path",15),a()(),T(),s(14,"button",13),v(),s(15,"svg",14),f(16,"path",16),a()()()()(),T(),s(17,"div",17)(18,"div",18)(19,"input",19),_e("ngModelChange",function(d){return b(o),Ce(i.searchTerm,d)||(i.searchTerm=d),w(d)}),a(),v(),s(20,"svg",20),f(21,"path",21),a()()(),T(),s(22,"div",22),N(23,Ml,16,10,"div",23,Wr),a()(),s(25,"div",24),g(26,Zl,40,9)(27,Ul,9,0,"div",25),a(),g(28,zl,16,5,"div",26),s(29,"input",27,0),_("change",function(d){return b(o),w(i.handleFileSelection(d))}),a()()}n&2&&(c(7),p("src",i.currentUser().avatar,de)("alt",i.currentUser().name),c(2),L(i.currentUser().name),c(10),ve("ngModel",i.searchTerm),c(4),$(i.filteredChats()),c(3),E(i.selectedChat()?26:27),c(2),E(i.activeCall()?28:-1))},dependencies:[G,Me,$e,Ge,ze,yi],encapsulation:2})}return t})();var Wl=["doctorVideo"],Kl=["patientVideo"];function Ql(t,r){if(t&1&&(s(0,"div",23)(1,"div",24),f(2,"div",25),s(3,"p"),u(4),a()()()),t&2){let e=m();c(),p("ngClass",e.callEnded?"hidden":""),c(3),L(e.role==="medico"?"Preparando c\xE2mera...":"Aguardando m\xE9dico...")}}function Yl(t,r){if(t&1&&(s(0,"div",23)(1,"div",24),f(2,"div",25),s(3,"p"),u(4),a()()()),t&2){let e=m();c(),p("ngClass",e.callEnded?"hidden":""),c(3),L(e.role==="paciente"?"Preparando c\xE2mera...":"Aguardando paciente...")}}function Jl(t,r){if(t&1&&(s(0,"div",26)(1,"div",27)(2,"p",28),u(3),a()()()),t&2){let e=m();c(3),ui(" Socket: ",e.socketConnected()?"Conectado":"Desconectado"," | Peer: ",e.peerState()," | Local: ",!!e.localStream," | Remote: ",!!e.remoteStream," ")}}function Xl(t,r){t&1&&(v(),s(0,"svg",38),f(1,"path",39),a())}function e0(t,r){t&1&&(v(),s(0,"svg",40),f(1,"path",41),a())}function t0(t,r){t&1&&(v(),s(0,"svg",40),f(1,"path",42),a())}function n0(t,r){t&1&&(v(),s(0,"svg",40),f(1,"path",43),a())}function i0(t,r){if(t&1){let e=I();s(0,"button",44),_("click",function(){b(e);let i=m(2);return w(i.reconnect())}),v(),s(1,"svg",40),f(2,"path",45),a()()}}function r0(t,r){if(t&1){let e=I();s(0,"div",22)(1,"div",29)(2,"button",30),_("click",function(){b(e);let i=m();return w(i.endCall())}),v(),s(3,"svg",31),f(4,"path",32),a()(),T(),s(5,"button",33),_("click",function(){b(e);let i=m();return w(i.toggleAudio())}),g(6,Xl,2,0,"svg",34)(7,e0,2,0,"svg",35),a(),s(8,"button",36),_("click",function(){b(e);let i=m();return w(i.toggleVideo())}),g(9,t0,2,0,"svg",35)(10,n0,2,0,"svg",35),a(),g(11,i0,3,0,"button",37),a()()}if(t&2){let e=m();c(5),B("btn-active",!e.isAudioMuted()),vn("title",e.isAudioMuted()?"Ligar \xE1udio":"Desligar \xE1udio"),p("disabled",!e.localStream),c(),p("ngIf",!e.isAudioMuted()),c(),p("ngIf",e.isAudioMuted()),c(),B("btn-active",!e.isVideoMuted()),vn("title",e.isVideoMuted()?"Ligar v\xEDdeo":"Desligar v\xEDdeo"),p("disabled",!e.localStream),c(),p("ngIf",!e.isVideoMuted()),c(),p("ngIf",e.isVideoMuted()),c(),p("ngIf",e.connectionStatus()==="disconnected")}}var Qr=(()=>{class t{doctorVideo;patientVideo;SIGNAL_SERVER="wss://192.168.10.5:3000/videocall";RECONNECT_ATTEMPTS=5;RECONNECT_DELAY=3e3;socket;peer;localStream;remoteStream=null;reconnectAttempts=0;reconnectTimer;callEnded=!1;role="paciente";roomId="1";connectionStatus=y("disconnected");socketConnected=y(!1);peerState=y("new");participantCount=y(0);audioMuted=y(!1);videoMuted=y(!1);mediaReady=y(!1);route=M(Ie);constructor(){le(()=>{console.log("Status da conex\xE3o:",this.connectionStatus()),console.log("Socket conectado:",this.socketConnected()),console.log("Estado do peer:",this.peerState())})}ngOnInit(){this.route.queryParams.subscribe(e=>{e.role==="medico"?this.role="medico":this.role="paciente",this.roomId=e.room||"1",this.initializeConnection()})}ngOnDestroy(){this.cleanup()}initializeConnection(){return k(this,null,function*(){try{this.connectionStatus.set("connecting"),yield this.setupMedia(),this.setupWebSocket()}catch(e){console.error("Erro na inicializa\xE7\xE3o:",e),this.connectionStatus.set("disconnected")}})}setupMedia(){return k(this,null,function*(){try{this.localStream=yield navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720}},audio:!0}),this.mediaReady.set(!0),this.assignVideoStreams()}catch(e){throw console.error("Erro ao acessar m\xEDdia:",e),e}})}setupWebSocket(){this.socket=ye(this.SIGNAL_SERVER,{transports:["websocket"],reconnection:!0,reconnectionAttempts:this.RECONNECT_ATTEMPTS,reconnectionDelay:this.RECONNECT_DELAY,auth:{userId:this.role,roomId:this.roomId}}),this.setupSocketEvents()}setupSocketEvents(){this.socket.on("connect",()=>{console.log(">>Socket conectado"),this.socketConnected.set(!0),this.reconnectAttempts=0,this.connectionStatus.set("connected"),this.socket.emit("joinRoom",this.roomId,this.role)}),this.socket.on("disconnect",e=>{console.log(">>Socket disconnected:",e),this.socketConnected.set(!1),this.connectionStatus.set("disconnected"),this.callEnded||this.attemptReconnection()}),this.socket.on("room-info",e=>{console.log(">>room-info"),this.participantCount.set(e.userCount),e.userCount>=2&&this.role==="medico"&&!this.callEnded&&this.initiateCall()}),this.socket.on("user-joined",()=>{console.log(">>user-joined"),this.role==="medico"&&!this.callEnded&&this.initiateCall()}),this.socket.on("offer",e=>k(this,null,function*(){console.log(">>offer recebido"),this.role==="paciente"&&!this.callEnded&&(yield this.handleOffer(e))})),this.socket.on("answer",e=>k(this,null,function*(){console.log(">>answer recebido"),this.role==="medico"&&!this.callEnded&&(yield this.handleAnswer(e))})),this.socket.on("ice-candidate",e=>k(this,null,function*(){if(console.log(">>ICE candidate recebido"),this.peer&&!this.callEnded)try{yield this.peer.addIceCandidate(new RTCIceCandidate(e))}catch(n){console.error("Erro ICE:",n)}})),this.socket.on("call-ended",()=>{console.log(">>Chamada encerrada pelo outro participante"),this.callEnded=!0,this.cleanup(),this.resetVideoElements()})}initiateCall(){return k(this,null,function*(){if(!this.mediaReady()||!this.socketConnected()||this.callEnded)return;this.initPeerConnection(),this.localStream.getTracks().forEach(n=>{this.peer.addTrack(n,this.localStream)});let e=yield this.peer.createOffer();yield this.peer.setLocalDescription(e),this.socket.emit("offer",e)})}handleOffer(e){return k(this,null,function*(){if(this.callEnded)return;this.initPeerConnection(),this.localStream.getTracks().forEach(i=>{this.peer.addTrack(i,this.localStream)}),yield this.peer.setRemoteDescription(new RTCSessionDescription(e));let n=yield this.peer.createAnswer();yield this.peer.setLocalDescription(n),this.socket.emit("answer",n)})}handleAnswer(e){return k(this,null,function*(){this.callEnded||this.peer.signalingState==="have-local-offer"&&(yield this.peer.setRemoteDescription(new RTCSessionDescription(e)))})}initPeerConnection(){this.peer?.close(),this.peer=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]}),this.peer.ontrack=e=>{this.remoteStream=e.streams[0],this.assignVideoStreams()},this.peer.onicecandidate=e=>{e.candidate&&this.socketConnected()&&this.socket.emit("ice-candidate",e.candidate)},this.peer.onconnectionstatechange=()=>{let e=this.peer.connectionState;this.peerState.set(e),["disconnected","failed"].includes(e)&&!this.callEnded&&(this.connectionStatus.set("disconnected"),this.attemptReconnection())}}showDoctorVideo(){return this.role==="medico"?!!this.localStream&&this.mediaReady():!!this.remoteStream}showPatientVideo(){return this.role==="paciente"?!!this.localStream&&this.mediaReady():!!this.remoteStream}isAudioMuted(){return this.audioMuted()}isVideoMuted(){return this.videoMuted()}assignVideoStreams(){setTimeout(()=>{this.role==="medico"?(this.doctorVideo?.nativeElement&&this.localStream&&(this.doctorVideo.nativeElement.srcObject=this.localStream),this.patientVideo?.nativeElement&&this.remoteStream&&(this.patientVideo.nativeElement.srcObject=this.remoteStream)):(this.patientVideo?.nativeElement&&this.localStream&&(this.patientVideo.nativeElement.srcObject=this.localStream),this.doctorVideo?.nativeElement&&this.remoteStream&&(this.doctorVideo.nativeElement.srcObject=this.remoteStream))},100)}attemptReconnection(){this.reconnectAttempts>=this.RECONNECT_ATTEMPTS||this.callEnded||(this.reconnectAttempts++,this.connectionStatus.set("reconnecting"),this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout(()=>this.reconnect(),this.RECONNECT_DELAY))}reconnect(){this.callEnded||(this.cleanup(),this.initializeConnection())}toggleAudio(){let e=this.localStream?.getAudioTracks()[0];e&&(e.enabled=!e.enabled,this.audioMuted.set(!e.enabled))}toggleVideo(){let e=this.localStream?.getVideoTracks()[0];e&&(e.enabled=!e.enabled,this.videoMuted.set(!e.enabled))}getConnectionStatusText(){switch(this.connectionStatus()){case"connected":return"Conectado";case"connecting":return"Conectando...";case"reconnecting":return"Reconectando...";default:return"Desconectado"}}getConnectionStatusClass(){switch(this.connectionStatus()){case"connected":return"badge-success";case"connecting":case"reconnecting":return"badge-warning";default:return"badge-error"}}showDebugInfo(){return this.connectionStatus()!=="connected"}endCall(){window.confirm("Encerrar chamada?")&&(this.callEnded=!0,this.socketConnected()&&this.socket.emit("end-call",this.roomId),this.cleanup(),this.resetVideoElements())}resetVideoElements(){setTimeout(()=>{this.doctorVideo?.nativeElement&&(this.doctorVideo.nativeElement.srcObject=null,this.doctorVideo.nativeElement.load()),this.patientVideo?.nativeElement&&(this.patientVideo.nativeElement.srcObject=null,this.patientVideo.nativeElement.load())},100)}cleanup(){this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=void 0),this.socket?.disconnect(),this.peer?.close(),this.localStream?.getTracks().forEach(e=>{e.stop()}),this.remoteStream?.getTracks().forEach(e=>{e.stop()}),this.peer=null,this.remoteStream=null,this.socketConnected.set(!1),this.connectionStatus.set("disconnected"),this.mediaReady.set(!1),this.audioMuted.set(!1),this.videoMuted.set(!1),this.participantCount.set(0),this.peerState.set("new"),this.reconnectAttempts=0}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=j({type:t,selectors:[["app-video-call"]],viewQuery:function(n,i){if(n&1&&(K(Wl,5),K(Kl,5)),n&2){let o;Q(o=Y())&&(i.doctorVideo=o.first),Q(o=Y())&&(i.patientVideo=o.first)}},decls:37,vars:16,consts:[["doctorVideo",""],["patientVideo",""],[1,"min-h-screen","bg-base-200","p-4"],[1,"navbar","bg-base-100","rounded-lg","mb-4","shadow-lg"],[1,"w-full","mx-auto"],[1,"flex","justify-between"],[1,"badge","badge-outline","mt-2"],[1,"flex","text-center","px-2"],[1,"text-xl","font-bold"],[1,"badge","badge-lg","mt-2"],[1,"flex-col","navbar-center","w-full"],[1,"text-sm","text-gray-500"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"card","bg-base-100","shadow-xl"],[1,"card-body","p-4"],[1,"card-title","text-sm","font-medium","text-center","mb-2"],[1,"badge","badge-primary"],[1,"aspect-video","bg-black","rounded-lg","overflow-hidden","relative"],["autoplay","","playsinline","",1,"w-full","h-full","object-cover",3,"muted"],["class","absolute inset-0 flex items-center justify-center bg-gray-800",4,"ngIf"],[1,"badge","badge-secondary"],["class","card bg-info text-info-content mt-4",4,"ngIf"],[1,"fixed","bottom-4","left-1/2","transform","-translate-x-1/2"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-gray-800"],[1,"text-center","text-white",3,"ngClass"],[1,"loading","loading-spinner","loading-lg","mb-2"],[1,"card","bg-info","text-info-content","mt-4"],[1,"card-body","p-2"],[1,"text-xs"],[1,"btn-group"],["title","Encerrar chamada",1,"btn","btn-error","btn-circle","btn-lg",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","currentColor",1,"w-6","h-6"],["d","M792-54.83 583-262.7q-91.26 74.27-198.59 118.09-107.32 43.83-222.98 43.83-29.08 0-44.58-17.33t-15.5-43.32v-165.96q0-24.74 14.65-42.31 14.65-17.56 38.83-22.82l122.73-26.31q19.48-4.26 41.64 1.87 22.15 6.13 36.37 19.78l97.95 96.27q12.92-7.61 27.42-17.94 14.49-10.32 25.97-19.93L54.87-790.83l63.35-61.65 736 736L792-54.83ZM355.48-249.09l-65.44-64.3-82.69 18.3v85.18q38.17-4.13 75.35-14 37.17-9.87 72.78-25.18ZM708-388.57l-76.91-74.65q9.29-10.39 18.9-23.84t15.18-25.07l-100.39-93.48q-15.35-13.65-19.76-33.24-4.41-19.58-.72-38.76l25.44-128.13q5.82-25.87 23.95-39.67 18.14-13.81 44.01-13.81h161.43q27.04 0 43.57 16.81 16.52 16.8 16.52 43.84 0 107.74-40.02 213.37Q779.18-479.57 708-388.57Zm7.74-220.47q15.35-35.11 23.48-71.12 8.13-36.01 12-73.06h-84.61l-16.31 83.26 65.44 60.92Zm0 0ZM355.48-249.09Z"],[1,"btn","btn-warning","btn-circle","btn-lg",3,"click","disabled","title"],["class","w-6 h-6","fill","currentcolor","viewBox","0 -960 960 960",4,"ngIf"],["class","w-6 h-6","fill","currentColor","viewBox","0 -960 960 960",4,"ngIf"],[1,"btn","btn-info","btn-circle","btn-lg",3,"click","disabled","title"],["class","btn btn-success btn-circle btn-lg","title","Tentar reconectar",3,"click",4,"ngIf"],["fill","currentcolor","viewBox","0 -960 960 960",1,"w-6","h-6"],["d","M479.93-374q-58.97 0-100.19-41.26-41.22-41.27-41.22-100.22v-236.04q0-58.95 41.28-100.22Q421.09-893 480.07-893q58.97 0 100.19 41.26 41.22 41.27 41.22 100.22v236.04q0 58.95-41.28 100.22Q538.91-374 479.93-374Zm.07-259.78ZM431.52-85.52v-125.26q-113.61-15.13-187.26-102.11-73.65-86.98-73.65-202.59h97.52q0 88.09 62.01 149.98 62 61.89 149.97 61.89 87.98 0 149.87-61.97t61.89-149.9h97.52q0 115.74-73.65 202.66-73.65 86.91-187.26 102.04v125.26h-96.96ZM480-480q15.08 0 25.28-10.2 10.2-10.2 10.2-25.28v-236.04q0-15.08-10.2-25.28Q495.08-787 480-787q-15.08 0-25.28 10.2-10.2 10.2-10.2 25.28v236.04q0 15.08 10.2 25.28Q464.92-480 480-480Z"],["fill","currentColor","viewBox","0 -960 960 960",1,"w-6","h-6"],["fill-rule","evenodd","d","m745.05-353.52-71.57-71.57q11.17-20.17 16.48-42.06 5.3-21.89 5.3-48.33h96.96q0 44-11.87 85.48-11.87 41.48-35.3 76.48ZM482.83-616.61Zm135.74 135.74-99.7-100.26v-170.39q0-14.74-10.37-25.11T482.83-787q-15.31 0-25.39 10.37-10.09 10.37-10.09 25.11v99.43L346.43-753v-26.22q7.35-46.61 45.74-80.19Q430.57-893 482.83-893q59.04 0 100.54 41.22 41.5 41.21 41.5 100.26v236.04q0 9.87-1.93 18.87-1.94 9-4.37 15.74ZM434.35-85.52v-125.26q-113.61-15.13-187.26-102.04-73.66-86.92-73.66-202.66h97.53q0 88.09 61.45 149.98 61.46 61.89 150.42 61.89 39.08 0 74.11-13.32 35.02-13.33 62.28-36.85l70 70q-32.39 28.65-72.26 47.76-39.87 19.11-85.66 25.24v125.26h-96.95Zm354.82 25-736-736 61.66-61.65 736 736-61.66 61.65Z"],["d","M166.78-140.78q-44.3 0-75.15-30.85-30.85-30.85-30.85-75.15v-466.44q0-44.3 30.85-75.15 30.85-30.85 75.15-30.85h466.44q44.3 0 75.15 30.85 30.85 30.85 30.85 75.15V-540l160-160v440l-160-160v173.22q0 44.3-30.85 75.15-30.85 30.85-75.15 30.85H166.78Zm0-106h466.44v-466.44H166.78v466.44Zm0 0v-466.44 466.44Z"],["d","m899.22-260-160-160v75.48l-106-106v-262.7h-262.7l-106-106h368.7q44.3 0 75.15 30.85 30.85 30.85 30.85 75.15V-540l160-160v440ZM830.48-14.7 14.7-831.61l62.21-62.22L893.83-76.91 830.48-14.7ZM503.09-580.09ZM380.87-462.87ZM151.52-819.22l106 106h-90.74v466.44h466.44v-90.74l104.87 104.87q-4.52 39.22-34.24 65.54-29.72 26.33-70.63 26.33H166.78q-44.3 0-75.15-30.85-30.85-30.85-30.85-75.15v-466.44q0-40.35 26.33-70.35 26.32-30 65.54-34.52l-1.13-1.13Z"],["title","Tentar reconectar",1,"btn","btn-success","btn-circle","btn-lg",3,"click"],["d","M480-160q-134 0-227-93t-93-227q0-134 93-227t227-93q69 0 132 28.5T720-690v-110h80v280H520v-80h168q-32-56-87.5-88T480-720q-100 0-170 70t-70 170q0 100 70 170t170 70q77 0 139-44t87-116h84q-28 106-114 168t-186 62Z"]],template:function(n,i){n&1&&(s(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6),u(5),a(),s(6,"div",7)(7,"h1",8),u(8,"Consulta M\xE9dica"),a()(),s(9,"div",9),u(10),a()(),s(11,"div",10)(12,"p"),u(13),a(),s(14,"p",11),u(15),a()()()(),s(16,"div",12)(17,"div",13)(18,"div",14)(19,"div",15)(20,"div",16),u(21,"M\xE9dico"),a()(),s(22,"div",17),f(23,"video",18,0),g(25,Ql,5,2,"div",19),a()()(),s(26,"div",13)(27,"div",14)(28,"div",15)(29,"div",20),u(30,"Paciente"),a()(),s(31,"div",17),f(32,"video",18,1),g(34,Yl,5,2,"div",19),a()()()(),g(35,Jl,4,4,"div",21)(36,r0,12,13,"div",22),a()),n&2&&(c(5),L(i.role.toUpperCase()),c(4),F(i.getConnectionStatusClass()),c(),S(" ",i.callEnded?"Encerrada":i.getConnectionStatusText()," "),c(3),S("Voc\xEA est\xE1 na sala n\xFAmero: ",i.roomId,""),c(2),S("Participantes: ",i.participantCount(),""),c(8),B("hidden",!i.showDoctorVideo()),p("muted",i.role==="medico"),c(2),p("ngIf",!i.showDoctorVideo()),c(7),B("hidden",!i.showPatientVideo()),p("muted",i.role==="paciente"),c(2),p("ngIf",!i.showPatientVideo()),c(),p("ngIf",i.showDebugInfo()),c(),E(i.callEnded?-1:36))},dependencies:[G,ke,ce],encapsulation:2})}return t})();var Yr=[{path:"",component:zn},{path:"dashboard",component:zn},{path:"chat",component:an},{path:"chat1",component:Gr},{path:"videocall",component:Qr},{path:"videocall1",component:zr},{path:"whatsapp-chat",component:Kr},{path:"user-messages",loadComponent:()=>import("./chunk-7C6URP6K.js").then(t=>t.UserMessagesComponent)},{path:"user-list",loadComponent:()=>import("./chunk-7X3XZNS6.js").then(t=>t.UserListComponent)},{path:"users",loadComponent:()=>import("./chunk-IDAXR5FX.js").then(t=>t.UsersComponent)},{path:"responsive-example",loadComponent:()=>import("./chunk-CLLM7B6H.js").then(t=>t.ResponsiveExampleComponent)},{path:"conversation",loadComponent:()=>import("./chunk-DBZ6SA6B.js").then(t=>t.ConversationMapperComponent)},{path:"responsive",loadComponent:()=>import("./chunk-CDWPBDQ3.js").then(t=>t.ResponsiveDivComponent)},{path:"modal",loadComponent:()=>import("./chunk-PXPLAKTA.js").then(t=>t.ModalExemploUsoComponent)},{path:"HomecareDashboardComponent",loadComponent:()=>import("./chunk-DXQEI7RE.js").then(t=>t.HomecareDashboardComponent)},{path:"PatientsPageComponent",loadComponent:()=>import("./chunk-UBBEPFYZ.js").then(t=>t.PatientsPageComponent)},{path:"PatientRegistrationComponent",loadComponent:()=>import("./chunk-5UTSGW3W.js").then(t=>t.PatientRegistrationComponent)},{path:"DynamicTableComponent",loadComponent:()=>import("./chunk-JYY7ZCHG.js").then(t=>t.DynamicTableComponent)},{path:"PatientListComponent",loadComponent:()=>import("./chunk-H4JPGTTA.js").then(t=>t.PatientListComponent)},{path:"BugReportComponent",loadComponent:()=>import("./chunk-EIK4XXXW.js").then(t=>t.BugReportComponent)},{path:"tasks",loadComponent:()=>import("./chunk-4HA67RQ4.js").then(t=>t.TaskManagerComponent)}];var Wn={"pt-BR":{language:"HEADER.LANGUAGES.PT-BR.NAME",region:"HEADER.LANGUAGES.PT-BR.REGION",enabled:!0},en:{language:"HEADER.LANGUAGES.EN.NAME",region:"HEADER.LANGUAGES.EN.REGION",enabled:!0},es:{language:"HEADER.LANGUAGES.ES.NAME",region:"HEADER.LANGUAGES.ES.REGION",enabled:!0},fr:{language:"HEADER.LANGUAGES.FR.NAME",region:"HEADER.LANGUAGES.FR.REGION",enabled:!0},de:{language:"HEADER.LANGUAGES.DE.NAME",region:"HEADER.LANGUAGES.DE.REGION",enabled:!0},it:{language:"HEADER.LANGUAGES.IT.NAME",region:"HEADER.LANGUAGES.IT.REGION",enabled:!0}},o0=()=>Object.entries(Wn).filter(([t,r])=>r.enabled!==!1).map(([t,r])=>t);function s0(t){return()=>t.loadSvgIcons()}var Jr={providers:[hi({eventCoalescing:!0}),Ei(Yr),bi(),Zi({config:{availableLangs:o0(),defaultLang:"pt-BR",fallbackLang:"pt-BR",reRenderOnLangChange:!0,prodMode:!fi()},loader:$r}),{provide:gn,useFactory:s0,deps:[Nr],multi:!0}]};var cn=(()=>{class t{languagesConfig=null;translocoService=M(_t);constructor(){this.languagesConfig=Wn}changeLanguage(e){this.translocoService.setActiveLang(e)}get currentLanguage(){return this.translocoService.getActiveLang()}get languagesList(){return Object.entries(this.languagesConfig).map(([e,n])=>V({lang:e,icon:`${e}.png`},n)).filter(e=>e.enabled!==!1)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function a0(t,r){t&1&&(v(),s(0,"svg",5),f(1,"path",6),a())}function l0(t,r){t&1&&(v(),s(0,"svg",7),f(1,"path",8),a())}function c0(t,r){t&1&&(v(),s(0,"svg",7),f(1,"path",9),a())}function d0(t,r){if(t&1){let e=I();s(0,"li")(1,"a",2),_("click",function(){b(e);let i=m();return w(i.cycleTheme())}),g(2,a0,2,0,"svg",3)(3,l0,2,0,"svg",4)(4,c0,2,0,"svg",4),u(5),R(6,"transloco"),R(7,"transloco"),a()()}if(t&2){let e=m();c(2),p("ngIf",e.themeService.theme()==="light"),c(),p("ngIf",e.themeService.theme()==="dark"),c(),p("ngIf",e.themeService.theme()==="auto"),c(),ge(" ",D(6,5,"HEADER.THEME."+e.themeService.theme().toUpperCase()),"",e.themeService.theme().toLowerCase()==="auto"?" ("+D(7,7,"HEADER.THEME."+(e.themeService.detectSystemTheme()?"DARK":"LIGTH"))+")":""," ")}}function u0(t,r){t&1&&(v(),s(0,"svg",5),f(1,"path",6),a())}function m0(t,r){t&1&&(v(),s(0,"svg",7),f(1,"path",8),a())}function p0(t,r){t&1&&(v(),s(0,"svg",7),f(1,"path",9),a())}function h0(t,r){t&1&&(v(),s(0,"svg",16),f(1,"path",17),a())}function f0(t,r){t&1&&(v(),s(0,"svg",16),f(1,"path",18),a())}function g0(t,r){t&1&&(v(),s(0,"svg",16),f(1,"path",19),a())}function v0(t,r){if(t&1){let e=I();s(0,"li")(1,"a",14),_("click",function(){let i=b(e).$implicit,o=m(2);return w(o.themeService.setTheme(i))}),g(2,h0,2,0,"svg",15)(3,f0,2,0,"svg",15)(4,g0,2,0,"svg",15),u(5),R(6,"transloco"),R(7,"transloco"),a()()}if(t&2){let e=r.$implicit,n=m(2);c(),B("active",n.themeService.theme()===e),c(),p("ngIf",n.iconMap[e]==="claro"),c(),p("ngIf",n.iconMap[e]==="escuro"),c(),p("ngIf",n.iconMap[e]==="auto"),c(),ge(" ",D(6,7,"HEADER.THEME."+e.toUpperCase()),"",n.iconMap[e]==="auto"?" ("+D(7,9,"HEADER.THEME."+(n.themeService.detectSystemTheme()?"DARK":"LIGTH"))+")":""," ")}}function C0(t,r){if(t&1){let e=I();s(0,"div",10)(1,"button",11),_("click",function(){b(e);let i=m();return w(i.cycleTheme())}),g(2,u0,2,0,"svg",3)(3,m0,2,0,"svg",4)(4,p0,2,0,"svg",4),a(),s(5,"ul",12),g(6,v0,8,11,"li",13),a()()}if(t&2){let e=m();c(),p("appAccessible",e.accessibleLabel),c(),p("ngIf",e.themeService.theme()==="light"),c(),p("ngIf",e.themeService.theme()==="dark"),c(),p("ngIf",e.themeService.theme()==="auto"),c(2),p("ngForOf",e.options)}}var Xr=(()=>{class t{mobile=!1;options=["light","dark","auto"];iconMap={light:"claro",dark:"escuro",auto:"auto"};themeService=M(Ur);languageService=M(cn);transloco=M(_t);constructor(){}cycleTheme(){let e=this.options.indexOf(this.themeService.theme()),n=this.options[(e+1)%this.options.length];this.themeService.setTheme(n)}get accessibleLabel(){let e=this.themeService.theme();if(e==="auto"){let n=this.themeService.detectSystemTheme();return`${this.transloco.translate("HEADER.THEME.LABEL")} - ${this.transloco.translate("HEADER.THEME.AUTO")}  (${n?this.transloco.translate("HEADER.THEME.DARK"):this.transloco.translate("HEADER.THEME.LIGHT")})`}return`${this.transloco.translate("HEADER.THEME.LABEL")} - ${e==="light"?this.transloco.translate("HEADER.THEME.LIGHT"):this.transloco.translate("HEADER.THEME.DARK")}`}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=j({type:t,selectors:[["app-theme-toggle"]],inputs:{mobile:"mobile"},decls:2,vars:2,consts:[[4,"ngIf"],["class","dropdown dropdown-end dropdown-hover",4,"ngIf"],[1,"flex","items-center","gap-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","class","w-5 h-5","ngClass","text-yellow-500","viewBox","0 -960 960 960","fill","currentColor","stroke-width","1.5","stroke","currentColor",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","class","w-5 h-5","viewBox","0 -960 960 960","fill","currentColor","stroke-width","1.5","stroke","currentColor",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","ngClass","text-yellow-500","viewBox","0 -960 960 960","fill","currentColor","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Zm326-268Z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","currentColor","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Zm-10-270Z"],["stroke-linecap","round","stroke-linejoin","round","d","M396-396q-32-32-58.5-67T289-537q-5 14-6.5 28.5T281-480q0 83 58 141t141 58q14 0 28.5-2t28.5-6q-39-22-74-48.5T396-396Zm57-56q51 51 114 87.5T702-308q-40 51-98 79.5T481-200q-117 0-198.5-81.5T201-480q0-65 28.5-123t79.5-98q20 72 56.5 135T453-452Zm290 72q-20-5-39.5-11T665-405q8-18 11.5-36.5T680-480q0-83-58.5-141.5T480-680q-20 0-38.5 3.5T405-665q-8-19-13.5-38T381-742q24-9 49-13.5t51-4.5q117 0 198.5 81.5T761-480q0 26-4.5 51T743-380ZM440-840v-120h80v120h-80Zm0 840v-120h80V0h-80Zm323-706-57-57 85-84 57 56-85 85ZM169-113l-57-56 85-85 57 57-85 84Zm671-327v-80h120v80H840ZM0-440v-80h120v80H0Zm791 328-85-85 57-57 84 85-56 57ZM197-706l-84-85 56-57 85 85-57 57Zm199 310Z"],[1,"dropdown","dropdown-end","dropdown-hover"],["t1abindex","0","role","button",1,"rounded-full","p-2","hover:bg-gray-100","hover:text-black",3,"click","appAccessible"],["tabindex","0",1,"dropdown-content","menu","p-2","shadow-md","bg-base-200","rounded-box","w-40","mt-2","z-[1000]","border","border-base-300"],[4,"ngFor","ngForOf"],[1,"flex","items-center","gap-1",3,"click"],["xmlns","http://www.w3.org/2000/svg","class","w-5 h-5","viewBox","0 -960 960 960","fill","currentColor",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","currentColor",1,"w-5","h-5"],["d","M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Zm326-268Z"],["d","M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Zm-10-270Z"],["d","M396-396q-32-32-58.5-67T289-537q-5 14-6.5 28.5T281-480q0 83 58 141t141 58q14 0 28.5-2t28.5-6q-39-22-74-48.5T396-396Zm57-56q51 51 114 87.5T702-308q-40 51-98 79.5T481-200q-117 0-198.5-81.5T201-480q0-65 28.5-123t79.5-98q20 72 56.5 135T453-452Zm290 72q-20-5-39.5-11T665-405q8-18 11.5-36.5T680-480q0-83-58.5-141.5T480-680q-20 0-38.5 3.5T405-665q-8-19-13.5-38T381-742q24-9 49-13.5t51-4.5q117 0 198.5 81.5T761-480q0 26-4.5 51T743-380ZM440-840v-120h80v120h-80Zm0 840v-120h80V0h-80Zm323-706-57-57 85-84 57 56-85 85ZM169-113l-57-56 85-85 57 57-85 84Zm671-327v-80h120v80H840ZM0-440v-80h120v80H0Zm791 328-85-85 57-57 84 85-56 57ZM197-706l-84-85 56-57 85 85-57 57Zm199 310Z"]],template:function(n,i){n&1&&g(0,d0,8,9,"li",0)(1,C0,7,5,"div",1),n&2&&(p("ngIf",i.mobile),c(),p("ngIf",!i.mobile))},dependencies:[ce,Ee,ln,Re,Xe],styles:[".active[_ngcontent-%COMP%]{font-weight:700;background-color:hsl(var(--b2)/.2)}"]})}return t})();var dn=(()=>{class t{logout(){console.log("Logout realizado!"),confirm("Tem certeza que deseja sair?")&&alert("Logout realizado com sucesso!")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ut=(()=>{class t{_isVisible=y(!1);_openSubmenu=y(null);get isVisible(){return this._isVisible.asReadonly()}get openSubmenu(){return this._openSubmenu.asReadonly()}toggleSidebar(){this._isVisible.update(e=>!e),this._isVisible()||this._openSubmenu.set(null)}openSidebar(){this._isVisible.set(!0)}closeSidebar(){this._isVisible.set(!1),this._openSubmenu.set(null)}toggleSubmenu(e){this._openSubmenu.update(n=>n===e?null:e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var _0=(t,r)=>({"w-full":t,"w-3/4":r}),eo=(t,r)=>r.lang;function b0(t,r){t&1&&(v(),s(0,"svg",7),f(1,"path",57),a())}function w0(t,r){t&1&&(v(),s(0,"svg",8),f(1,"path",58),a())}function x0(t,r){if(t&1&&(s(0,"span",59),u(1),a()),t&2){let e=m();c(),S(" ",e.unreadCount," ")}}function y0(t,r){if(t&1&&(s(0,"span",60),u(1),a()),t&2){let e=m();c(),S(" ",e.unreadUsersCount()," ")}}function S0(t,r){if(t&1){let e=I();s(0,"li",33),R(1,"transloco"),_("click",function(){let i=b(e).$implicit,o=m();return w(o.onChange(i.lang))}),s(2,"a"),f(3,"img",61),u(4),R(5,"transloco"),a()()}if(t&2){let e=r.$implicit,n=m();F(e.lang===n.languageService.currentLanguage?"bg-success":""),p("appAccessible",D(1,5,e.language)),c(3),p("src",e.icon,de),c(),S(" ",D(5,7,e.language)," ")}}function T0(t,r){t&1&&(v(),f(0,"path",62))}function k0(t,r){t&1&&(v(),f(0,"path",55))}function E0(t,r){if(t&1&&(s(0,"span",59),u(1),a()),t&2){let e=m(2);c(),S(" ",e.unreadCount," ")}}function M0(t,r){if(t&1&&(s(0,"span",60),u(1),a()),t&2){let e=m(2);c(),S(" ",e.unreadUsersCount()," ")}}function I0(t,r){if(t&1){let e=I();s(0,"li",63),_("click",function(){let i=b(e).$implicit,o=m(2);return w(o.onChange(i.lang))}),s(1,"a"),f(2,"img",61),u(3),R(4,"transloco"),a()()}if(t&2){let e=r.$implicit,n=m(2);F(e.lang===n.languageService.currentLanguage?"bg-success":""),c(2),p("src",e.icon,de),c(),S(" ",D(4,4,e.language)," ")}}function A0(t,r){if(t&1){let e=I();s(0,"ul",49)(1,"li",27),R(2,"transloco"),s(3,"a",63),_("click",function(){b(e);let i=m();return w(i.captureScreenshot())}),v(),s(4,"svg",16),f(5,"path",64),a(),u(6),R(7,"transloco"),a()(),T(),s(8,"li",33),R(9,"transloco"),_("click",function(){b(e);let i=m();return w(i.toggleMobileMenu())}),s(10,"a",65),v(),s(11,"svg",16),f(12,"path",17),a(),u(13),R(14,"transloco"),a()(),T(),s(15,"li",66),R(16,"transloco"),_("click",function(){b(e);let i=m();return w(i.onMessageIconClick())}),s(17,"a"),v(),s(18,"svg",21),f(19,"path",22),a(),g(20,E0,2,1,"span",23),u(21),R(22,"transloco"),a()(),T(),s(23,"li",66),R(24,"transloco"),_("click",function(){b(e);let i=m();return w(i.toggleMobileMenu())}),s(25,"label",24),R(26,"transloco"),g(27,M0,2,1,"span",25),v(),s(28,"svg",16),f(29,"path",26),a(),u(30),R(31,"transloco"),a()(),T(),f(32,"app-theme-toggle",67),R(33,"transloco"),s(34,"div",39),u(35),R(36,"transloco"),a(),s(37,"li",27),R(38,"transloco"),s(39,"a",63),_("click",function(){b(e);let i=m();return w(i.handleMenuAction("settings(m)"))}),v(),s(40,"svg",16),f(41,"path",34)(42,"path",35),a(),u(43),R(44,"transloco"),a()(),T(),s(45,"li")(46,"details")(47,"summary"),v(),s(48,"svg",16),f(49,"path",36),a(),u(50),R(51,"transloco"),a(),T(),s(52,"ul",37),N(53,I0,5,6,"li",68,eo),a()()(),f(55,"div",39),s(56,"li",27),R(57,"transloco"),s(58,"button",69),_("click",function(){b(e);let i=m();return w(i.sharedService.logout())}),v(),s(59,"svg",41),f(60,"path",42),a(),T(),s(61,"span"),u(62),R(63,"transloco"),a()()()()}if(t&2){let e=m();c(),p("appAccessible",D(2,19,"HEADER.FEEDBACK")),c(5),S(" ",D(7,21,"HEADER.FEEDBACK")," "),c(2),p("appAccessible",D(9,23,"HEADER.TASK")),c(5),S(" ",D(14,25,"HEADER.TASK")," "),c(2),p("appAccessible",D(16,27,"HEADER.MESSAGE")),c(5),p("ngIf",e.unreadCount>0),c(),S(" ",D(22,29,"HEADER.MESSAGE")," "),c(2),p("appAccessible",D(24,31,"HEADER.MESSAGE")),c(2),p("appAccessible",D(26,33,"HEADER.MESSAGE")),c(2),p("ngIf",e.unreadUsersCount()>0),c(3),S(" ",D(31,35,"HEADER.MESSAGE")," "),c(2),p("mobile",!0)("appAccessible",D(33,37,"HEADER.THEME.LABEL")),c(3),L(D(36,39,"HEADER.MENU_USER")),c(2),p("appAccessible",D(38,41,"HEADER.SETTINGS")),c(6),S(" ",D(44,43,"HEADER.SETTINGS")," "),c(7),S(" ",D(51,45,"HEADER.LANGUAGE")," "),c(3),$(e.languages),c(3),p("appAccessible",D(57,47,"HEADER.LOGOUT")),c(6),L(D(63,49,"COMMON.LOGOUT"))}}var to=(()=>{class t{messageIconClicked=new Lt;modalService=M(Pt);messageServiceChat1=M(tn);unreadCount=0;screenSizeService=M(Nt);messageService=M(sn);subscriptions=new Dt;unreadUsersCount=H(()=>this.messageService.unreadUsersCount());hasNewMessages=H(()=>this.messageService.hasNewMessages());sidebarService=M(ut);sharedService=M(dn);languageService=M(cn);languages=this.languageService.languagesList;capturedImage=y(null);isMobile=y(!1);canvas;captureService=M(Si);caputureResult=null;captureScreenshot(){return k(this,null,function*(){try{let e={quality:.8,format:"png",scale:1,backgroundColor:"#ffffff"};try{this.caputureResult=yield this.captureService.captureScreen(e)}catch{}let n=yield this.modalService.open({header:"Feedback da Aplica\xE7\xE3o",modalId:"feedback-modal",minWidth:"600px",maxWidth:"800px",backdropClose:!0,debugConsole:!1,componentName:"Feedback",componentInputs:{screenshotDataUrl:this.caputureResult?.dataUrl,onConfirm:i=>{console.log("Dados confirmados:",i)},onCancel:()=>{console.log("Opera\xE7\xE3o cancelada"),this.modalService.close(n)}}});console.log("Modal aberto com ID:",n)}catch(e){console.error("Erro ao capturar screenshot:",e),this.showError("N\xE3o foi poss\xEDvel capturar a tela. Tente novamente.")}})}showError(e){alert(e)}captureScreenshot1(){return k(this,null,function*(){try{this.canvas=yield(0,Rt.default)(document.body,{useCORS:!0,scale:window.devicePixelRatio,logging:!1,allowTaint:!0})}catch{if(!confirm("Houve um problema com a captura da tela, deseja tentar selecionando a tela?"))return;yield this.captureScreenFromMediaDevices().then(i=>this.canvas=i).catch(i=>{throw alert(i.message),i})}if(!this.canvas){alert("Nao foi possivel capturar a tela");return}let e=yield this.modalService.open({header:"Envio de Tela Capturada(Feedback1)",minWidth:"600px",maxWidth:"800px",backdropClose:!0,debugConsole:!1,componentName:"Feedback1",componentInputs:{screenshotDataUrl:this.canvas.toDataURL("image/png"),modalId:"",onConfirm:n=>{console.log("Dados confirmados:",n)},onCancel:()=>{console.log("Opera\xE7\xE3o cancelada"),this.modalService.close(e)}}});console.log("Modal aberto com ID:",e)})}openPatientModal(){return k(this,null,function*(){try{this.canvas=yield(0,Rt.default)(document.body,{useCORS:!0,scale:window.devicePixelRatio,logging:!1,allowTaint:!0})}catch{if(!confirm("Houve um problema com a captura da tela, deseja tentar selecionando a tela?"))return;yield this.captureScreenFromMediaDevices().then(i=>this.canvas=i).catch(i=>{throw alert(i.message),i})}if(!this.canvas){alert("Nao foi possivel capturar a tela");return}let e=yield this.modalService.open({header:"Envio de Tela Capturada",minWidth:"600px",maxWidth:"800px",backdropClose:!0,debugConsole:!1,componentName:"BugReport2",componentInputs:{screenshotDataUrl:this.canvas.toDataURL("image/png"),modalId:"",onConfirm:n=>{console.log("Dados confirmados:",n)},onCancel:()=>{console.log("Opera\xE7\xE3o cancelada"),this.modalService.close(e)}}});console.log("Modal aberto com ID:",e)})}returnCanvas(e){return k(this,null,function*(){if(e==="html2canvas")return(yield(0,Rt.default)(document.body,{useCORS:!0,scale:window.devicePixelRatio,logging:!1,allowTaint:!0})).toDataURL("image/png");if(e==="htmlToImage")return jr(document.body)})}captureScreenFromMediaDevices(){return k(this,null,function*(){if(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia)throw new Error("Captura de tela n\xE3o suportada neste navegador");try{let e=yield navigator.mediaDevices.getDisplayMedia({video:!0}),n=document.createElement("video");return n.srcObject=e,n.play(),new Promise((i,o)=>{n.onloadedmetadata=()=>{let l=document.createElement("canvas");l.width=n.videoWidth,l.height=n.videoHeight,l.getContext("2d").drawImage(n,0,0),e.getTracks().forEach(h=>h.stop()),i(l)},n.onerror=o})}catch{throw new Error("Usu\xE1rio cancelou a captura ou erro ao acessar a tela")}})}o1penPatientModal(){return k(this,null,function*(){let e=yield(0,Rt.default)(document.body,{useCORS:!0,scale:window.devicePixelRatio,logging:!1,allowTaint:!0});this.modalService.open({header:"Envio de Tela Caputurada",minWidth:"600px",maxWidth:"800px",backdropClose:!0,debugConsole:!1,componentName:"BugReport2",componentInputs:{screenshotDataUrl:e.toDataURL("image/png"),onConfirm:()=>{},onCancel:()=>{}}})})}onMessageIconClick(){this.messageIconClicked.emit()}ngOnInit(){this.subscriptions.add(this.screenSizeService.isMobile$.subscribe(e=>{this.isMobile.set(e)})),this.messageServiceChat1.getTotalUnreadCount().subscribe(e=>{this.unreadCount=e})}ngOnDestroy(){this.subscriptions.unsubscribe()}onChange(e){this.languageService.changeLanguage(e)}toggleSidebar(){this.sidebarService.toggleSidebar()}isMobileMenuOpen=y(!1);toggleMobileMenu(){this.isMobileMenuOpen.set(!this.isMobileMenuOpen())}handleMenuAction(e){console.log("Menu action:",e)}onClickOutside(e){!e.target.closest(".dropdown")&&this.isMobileMenuOpen()&&this.isMobileMenuOpen.set(!1)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=j({type:t,selectors:[["wcm-header"]],hostBindings:function(n,i){n&1&&_("click",function(l){return i.onClickOutside(l)},!1,si)},outputs:{messageIconClicked:"messageIconClicked"},decls:86,vars:58,consts:[["canvas",""],[1,"drawer","drawer-end","z-50"],["id","drawer-chat","type","checkbox",1,"drawer-toggle"],[1,"drawer-content"],[1,"navbar","min-w-max","bg-base-300","pl-0","pr-0"],[1,"navbar-start","w-3/4"],[1,"btn","btn-ghost","btn-sm","hover:text-primary","transition-colors","duration-300","p-2",3,"click","appAccessible"],["viewBox","64 64 896 896","focusable","false","fill","currentColor","width","24px","height","24px","data-icon","menu-fold","aria-hidden","true"],["viewBox","64 64 896 896","focusable","false","fill","currentColor","width","24px","height","24px","data-icon","menu-unfold","aria-hidden","true"],["src","WebCareManager_square.svg","alt","WebCareManager","routerLink","/dashboard",1,"h-6","w-6","flex-shrink-0"],["textOverflowMonitor","","routerLink","/dashboard",1,"logo_text","main-logo",3,"fullText","shortText","checkOnResize"],[1,"navbar-end","gap-2","w-1/4","hidden","sm:flex"],["title","Reportar Bug",1,"rounded-full","p-2","hover:bg-gray-100","hover:text-black",3,"click","appAccessible"],["xmlns","http://www.w3.org/2000/svg","fill","currentcolor","viewBox","0 -960 960 960",1,"h-5","w-5"],["d","M480-360q17 0 28.5-11.5T520-400q0-17-11.5-28.5T480-440q-17 0-28.5 11.5T440-400q0 17 11.5 28.5T480-360Zm-40-160h80v-240h-80v240ZM80-80v-720q0-33 23.5-56.5T160-880h640q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240H240L80-80Zm126-240h594v-480H160v525l46-45Zm-46 0v-480 480Z"],["title","Tarefas","routerLink","/tasks",1,"rounded-full","p-2","hover:bg-gray-100","hover:text-black",3,"appAccessible"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","d","M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"],[1,"btn","btn-ghost","btn-circle",3,"click"],["tabindex","0",1,"btn","btn-ghost","btn-circle"],[1,"indicator"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],["class","badge badge-sm badge-primary indicator-item",4,"ngIf"],["for","drawer-chat","title","Mensagens",1,"rounded-full","p-2","hover:bg-gray-100","hover:text-black","cursor-pointer",3,"appAccessible"],["class","badge badge-secondary badge-sm indicator-item",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","d","M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"],[3,"appAccessible"],[1,"dropdown","dropdown-end","hover:bg-gray-100","rounded-full"],["tabindex","0","role","button",1,"btn","btn-ghost","btn-circle",3,"appAccessible"],[1,"w-8","h-8","rounded-full","overflow-hidden"],["src","https://i.pravatar.cc/150?img=2",1,"w-full","h-full","object-cover"],["tabindex","0",1,"dropdown-content","menu","z-10","w-58","rounded-box","bg-base-100","p-2","shadow-sm"],[3,"click","appAccessible"],["stroke-linecap","round","stroke-linejoin","round","d","M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"],["stroke-linecap","round","stroke-linejoin","round","d","M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"],[1,"p-2"],[3,"appAccessible","class"],[1,"divider","m-0","p-0"],[1,"w-full","btn","btn-error","btn-sm","flex","items-center","justify-center","gap-2","hover:btn-error-focus","transition-colors","duration-200",3,"click","appAccessible"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"],[1,"navbar-end","w-1/4","sm:hidden"],[1,"dropdown","dropdown-end",3,"appAccessible"],[1,"btn","btn-square","btn-ghost","p-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","transition-transform","duration-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12",4,"ngIf"],["tabindex","0",1,"dropdown-content","menu","p-2","shadow","bg-base-100","rounded-box","w-60","mt-2","z-[1]"],[1,"drawer-side"],["for","drawer-chat",1,"drawer-overlay"],[1,"menu","p-0","min-h-full","bg-base-200","text-base-content",3,"ngClass"],["for","drawer-chat","aria-label","Fechar drawer",1,"absolute","right-2","top-4","text-gray-500","hover:text-gray-700","transition-colors","cursor-pointer"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[2,"display","none"],["d","M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z"],["d","M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"],[1,"badge","badge-sm","badge-primary","indicator-item"],[1,"badge","badge-secondary","badge-sm","indicator-item"],[1,"w-5",3,"src"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],[3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M12 12.75c1.148 0 2.278.08 3.383.237 1.037.146 1.866.966 1.866 2.013 0 3.728-2.35 6.75-5.25 6.75S6.75 18.728 6.75 15c0-1.046.83-1.867 1.866-2.013A24.204 24.204 0 0 1 12 12.75Zm0 0c2.883 0 5.647.508 8.207 1.44a23.91 23.91 0 0 1-1.152 6.06M12 12.75c-2.883 0-5.647.508-8.208 1.44.125 2.104.52 4.136 1.153 6.06M12 12.75a2.25 2.25 0 0 0 2.248-2.354M12 12.75a2.25 2.25 0 0 1-2.248-2.354M12 8.25c.995 0 1.971-.08 2.922-.236.403-.066.74-.358.795-.762a3.778 3.778 0 0 0-.399-2.25M12 8.25c-.995 0-1.97-.08-2.922-.236-.402-.066-.74-.358-.795-.762a3.734 3.734 0 0 1 .4-2.253M12 8.25a2.25 2.25 0 0 0-2.248 2.146M12 8.25a2.25 2.25 0 0 1 2.248 2.146M8.683 5a6.032 6.032 0 0 1-1.155-1.002c.07-.63.27-1.222.574-1.747m.581 2.749A3.75 3.75 0 0 1 15.318 5m0 0c.427-.283.815-.62 1.155-.999a4.471 4.471 0 0 0-.575-1.752M4.921 6a24.048 24.048 0 0 0-.392 3.314c1.668.546 3.416.914 5.223 1.082M19.08 6c.205 1.08.337 2.187.392 3.314a23.882 23.882 0 0 1-5.223 1.082"],["routerLink","/tasks"],[1,"indicator",3,"click","appAccessible"],[3,"mobile","appAccessible"],[3,"class"],[1,"w-full","btn","btn-error","btn-sm","flex","items-center","justify-center","gap-2","hover:btn-error-focus","transition-colors","duration-200",3,"click"]],template:function(n,i){if(n&1){let o=I();s(0,"div",1),f(1,"input",2),s(2,"div",3)(3,"div",4)(4,"div",5)(5,"button",6),R(6,"transloco"),R(7,"transloco"),_("click",function(){return b(o),w(i.toggleSidebar())}),g(8,b0,2,0,":svg:svg",7)(9,w0,2,0,":svg:svg",8),a(),f(10,"img",9)(11,"div",10),a(),s(12,"div",11)(13,"button",12),R(14,"transloco"),_("click",function(){return b(o),w(i.captureScreenshot())}),v(),s(15,"svg",13),f(16,"path",14),a()(),T(),s(17,"button",15),R(18,"transloco"),v(),s(19,"svg",16),f(20,"path",17),a()(),T(),s(21,"button",18),_("click",function(){return b(o),w(i.onMessageIconClick())}),s(22,"label",19)(23,"div",20),v(),s(24,"svg",21),f(25,"path",22),a(),g(26,x0,2,1,"span",23),a()()(),T(),s(27,"div",20)(28,"label",24),R(29,"transloco"),g(30,y0,2,1,"span",25),v(),s(31,"svg",16),f(32,"path",26),a()()(),T(),f(33,"app-theme-toggle",27),R(34,"transloco"),s(35,"div",28)(36,"div",29),R(37,"transloco"),s(38,"div",30),f(39,"img",31),a()(),s(40,"ul",32)(41,"li")(42,"a",33),R(43,"transloco"),_("click",function(){return b(o),w(i.handleMenuAction("settings"))}),v(),s(44,"svg",16),f(45,"path",34)(46,"path",35),a(),u(47),R(48,"transloco"),a()(),T(),s(49,"li")(50,"details")(51,"summary",27),R(52,"transloco"),v(),s(53,"svg",16),f(54,"path",36),a(),u(55),R(56,"transloco"),a(),T(),s(57,"ul",37),N(58,S0,6,9,"li",38,eo),a()()(),f(60,"div",39),s(61,"li")(62,"button",40),R(63,"transloco"),_("click",function(){return b(o),w(i.sharedService.logout())}),v(),s(64,"svg",41),f(65,"path",42),a(),T(),s(66,"span"),u(67),R(68,"transloco"),a()()()()()(),s(69,"div",43)(70,"div",44),R(71,"transloco"),s(72,"button",45),_("click",function(){return b(o),w(i.toggleMobileMenu())}),v(),s(73,"svg",46),g(74,T0,1,0,"path",47)(75,k0,1,0,"path",48),a()(),g(76,A0,64,51,"ul",49),a()()()(),T(),s(77,"div",50),f(78,"label",51),s(79,"div",52)(80,"label",53),v(),s(81,"svg",54),f(82,"path",55),a()(),T(),f(83,"app-chat-interface"),a()()(),f(84,"canvas",56,0)}n&2&&(c(5),p("appAccessible",i.sidebarService.isVisible()?D(6,27,"HEADER.MENU_PRINCIPAL_CLOSE"):D(7,29,"HEADER.MENU_PRINCIPAL_OPEN")),c(3),E(i.sidebarService.isVisible()?8:9),c(3),p("fullText","WebCareManager")("shortText","WCM")("checkOnResize",!0),c(2),p("appAccessible",D(14,31,"HEADER.FEEDBACK")),c(4),p("appAccessible",D(18,33,"HEADER.TASK")),c(9),p("ngIf",i.unreadCount>0),c(2),p("appAccessible",D(29,35,"HEADER.MESSAGE")),c(2),p("ngIf",i.unreadUsersCount()>0),c(3),p("appAccessible",D(34,37,"HEADER.THEME.LABEL")),c(3),p("appAccessible",D(37,39,"HEADER.MENU_USER")),c(6),p("appAccessible",D(43,41,"HEADER.SETTINGS")),c(5),S(" ",D(48,43,"HEADER.SETTINGS")," "),c(4),p("appAccessible",D(52,45,"HEADER.LANGUAGE")),c(4),S(" ",D(56,47,"HEADER.LANGUAGE")," "),c(3),$(i.languages),c(4),p("appAccessible",D(63,49,"COMMON.LOGOUT")),c(5),L(D(68,51,"COMMON.LOGOUT")),c(3),B("dropdown-open",i.isMobileMenuOpen()),p("appAccessible",D(71,53,"HEADER.MENU_SECUNDARY")),c(3),B("rotate-90",i.isMobileMenuOpen()),c(),p("ngIf",!i.isMobileMenuOpen()),c(),p("ngIf",i.isMobileMenuOpen()),c(),E(i.isMobileMenuOpen()?76:-1),c(3),p("ngClass",pi(55,_0,i.isMobile(),!i.isMobile())))},dependencies:[G,ke,ce,Ut,Xr,Re,Xe,ln,Zr,an],styles:['@charset "UTF-8";.main-logo[_ngcontent-%COMP%]{font-size:18px;font-weight:700;cursor:pointer;padding-left:8px;border-radius:6px;transition:all .3s ease;min-width:60px}']})}return t})();var no=(()=>{class t{get currentYear(){return new Date().getFullYear()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=j({type:t,selectors:[["wcm-footer"]],decls:13,vars:10,consts:[[1,"container","mx-auto","py-2"],[1,"flex","flex-col","items-center","justify-between","md:flex-row"],[1,"text-base","sm:text-left","text-center"],[1,"flex","space-x-4","mr-2"],["href","#",1,"text-base"]],template:function(n,i){n&1&&(s(0,"div",0)(1,"div",1)(2,"div",2)(3,"p"),u(4),R(5,"transloco"),a()(),s(6,"div",3)(7,"a",4),u(8),R(9,"transloco"),a(),s(10,"a",4),u(11),R(12,"transloco"),a()()()()),n&2&&(c(4),ge("\xA9 ",i.currentYear," WebCareManager. ",D(5,4,"FOOTER.ALL_RIGHTS_RESERVED"),"."),c(4),L(D(9,6,"FOOTER.CONTACT")),c(3),L(D(12,8,"FOOTER.SUPPORT")))},dependencies:[Re,Xe],encapsulation:2})}return t})();var io=(()=>{class t{el;input;constructor(e){this.el=e,this.input=this.el.nativeElement}onInput(){let e=this.input.value.toLowerCase().trim(),n=Array.from(document.querySelectorAll("li[data-keywords]")),i=e==="";n.forEach(d=>{if(i)d.style.display="";else{let C=(d.getAttribute("data-keywords")?.toLowerCase()||"").includes(e);d.style.display=C?"":"none"}}),Array.from(document.querySelectorAll("details")).forEach(d=>{if(i)d.style.display="";else{let h=d.querySelectorAll('li[data-keywords]:not([style*="display: none"])');d.style.display=h.length>0?"":"none",d.open=h.length>0}}),Array.from(document.querySelectorAll("ul.menu > li")).forEach(d=>{if(i)d.style.display="";else{let h=d.querySelector('li[data-keywords]:not([style*="display: none"])'),C=d.getAttribute("data-keywords")?.toLowerCase().includes(e),x=h||C;d.style.display=x?"":"none"}})}static \u0275fac=function(n){return new(n||t)(ne(qe))};static \u0275dir=fe({type:t,selectors:[["","appKeywordFilter",""]],hostBindings:function(n,i){n&1&&_("input",function(){return i.onInput()})}})}return t})();var ro=(()=>{class t{STORAGE_KEY="menu-favorites";favorites=y(this.loadFavorites());favoritesCount=H(()=>this.favorites().size);constructor(){le(()=>{let e=this.favorites();this.saveFavorites(e)})}loadFavorites(){try{let e=localStorage.getItem(this.STORAGE_KEY);if(e){let n=JSON.parse(e);return new Set(n)}}catch(e){console.warn("Erro ao carregar favoritos do localStorage:",e)}return new Set}saveFavorites(e){try{let n=Array.from(e);localStorage.setItem(this.STORAGE_KEY,JSON.stringify(n))}catch(n){console.warn("Erro ao salvar favoritos no localStorage:",n)}}getFavorites(){return this.favorites()}isFavorite(e){return this.favorites().has(e)}addFavorite(e){let n=this.favorites();if(!n.has(e)){let i=new Set(n);return i.add(e),this.favorites.set(i),!0}return!1}removeFavorite(e){let n=this.favorites();if(n.has(e)){let i=new Set(n);return i.delete(e),this.favorites.set(i),!0}return!1}toggleFavorite(e){let n=this.favorites(),i=new Set(n);return i.has(e)?i.delete(e):i.add(e),this.favorites.set(i),i.has(e)}clearFavorites(){this.favorites.set(new Set)}getFavoriteIds(){return Array.from(this.favorites())}static \u0275fac=function(n){return new(n||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var oo=(()=>{class t{sanitizer;icons=new Map;constructor(e){this.sanitizer=e,this.registerDefaultIcons()}registerDefaultIcons(){this.icons.set("user",`
      <path d="M12 12c2.209 0 4-1.791 4-4s-1.791-4-4-4-4 1.791-4 4 1.791 4 4 4Z" />
      <path d="M4 20v-1a5 5 0 0 1 5-5h6a5 5 0 0 1 5 5v1" />
      <path d="M9.5 16v3.5" />
      <path d="M8 18h3" />
    `),this.icons.set("home",`
      <path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
    `),this.icons.set("settings",`
      <path d="M12 15a3 3 0 100-6 3 3 0 000 6z"/>
      <path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"/>
    `),this.icons.set("favorite",`
      <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
    `)}registerIcon(e,n){this.icons.set(e,n)}getIcon(e,n={}){let i=this.icons.get(e);if(!i)return console.warn(`Icon '${e}' not found`),"";let o=n.viewBox||"0 0 24 24",l=n.size?n.size+"px":"",d=n.color,h=n.fill||"currentColor",C=n.strokeWidth,x=n.class||"",A=n["stroke-linecap"],U=n["stroke-linejoin"],pt=n.title,un=n.complements||"",uo=`
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="${o}"
                  ${l?`width="${l}px" height="${l}px"`:""}
                  fill="${h}"
                  ${d?`stroke="${d}"`:""}
                  ${C?`stroke-width="${C}"`:""}
                  ${A?`stroke-linecap="${A}"`:""}
                  ${U?`stroke-linejoin="${U}"`:""}
                  ${x?`class="${x}"`:""}
                  ${un}
                >
                  ${pt?`<title>${e}</title>`:""}
                  ${i}
                </svg>
              `;return this.sanitizer.bypassSecurityTrustHtml(uo)}getIconSvg(e,n={}){let i=this.icons.get(e);if(!i)return console.warn(`Icon '${e}' not found`),"";let o=n.viewBox||"0 0 24 24",l=n.size?n.size+"px":"",d=n.color,h=n.fill||"currentColor",C=n.strokeWidth,x=n.class||"",A=n["stroke-linecap"],U=n["stroke-linejoin"],pt=n.title,un=n.complements||"";return`
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="${o}"
                  ${l?`width="${l}px" height="${l}px"`:""}
                  fill="${h}"
                  ${d?`stroke="${d}"`:""}
                  ${C?`stroke-width="${C}"`:""}
                  ${A?`stroke-linecap="${A}"`:""}
                  ${U?`stroke-linejoin="${U}"`:""}
                  ${x?`class="${x}"`:""}
                  ${un}
                >
                  ${pt?`<title>${e}</title>`:""}
                  ${i}
                </svg>
              `}getAllIconNames(){return Array.from(this.icons.keys())}static \u0275fac=function(n){return new(n||t)(W(Ht))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var so=(()=>{class t{star="";starIcon=!0;starEmpty=!0;starFilled=!1;width=!0;height=!0;fill="currentColor";viewBox="0 0 24 24";ngOnInit(){this.star==="filled"?(this.starEmpty=!1,this.starFilled=!0):(this.starEmpty=!0,this.starFilled=!1)}getCurrentClasses(){let e=["star-icon","w-5","h-5"];return this.starFilled&&e.push("star-filled"),this.starEmpty&&e.push("star-empty"),e.join(" ")}static \u0275fac=function(n){return new(n||t)};static \u0275dir=fe({type:t,selectors:[["","star",""]],hostVars:12,hostBindings:function(n,i){n&2&&(se("fill",i.fill)("viewBox",i.viewBox),B("star-icon",i.starIcon)("star-empty",i.starEmpty)("star-filled",i.starFilled)("w-5",i.width)("h-5",i.height))},inputs:{star:"star"}})}return t})();var ao=(()=>{class t{loadMenuData(){return this.dataComplete}dataBasic=[{id:"1_patient1",label:"Paciente1",icon:`<svg class="w-5 h-5" fill="currentColor" stroke="currentColor" viewBox="0 -960 960 960">
          <path d="M480-560q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47Zm0-80q33 0 56.5-23.5T560-720q0-33-23.5-56.5T480-800q-33 0-56.5 23.5T400-720q0 33 23.5 56.5T480-640ZM160-80v-271q0-34 17-62.5t47-44.5q51-26 115.5-44T480-520q76 0 140.5 18T736-458q30 16 47 44.5t17 62.5v191q0 33-23.5 56.5T720-80H390q-46 0-78-32t-32-78q0-46 32-78t78-32h113l62-132q-20-4-41-6t-44-2q-72 0-128 17.5T261-386q-10 5-15.5 14.5T240-351v271h-80Zm230-80h48l28-60h-76q-12 0-21 9t-9 21q0 12 9 21t21 9Zm136 0h194v-191q0-11-5.5-20.5T700-386q-12-6-26-12.5T644-411L526-160Zm-46-560Zm0 426Z"></path>
        </svg>`,children:[{id:"registration-patient",label:"Cadastro de Pacientes",keywords:null,icon:null},{id:"electronic-record",label:"Prontu\xE1rio Eletr\xF4nico",keywords:null,icon:null}]}];dataComplete=[{id:"dashboard1",label:"Dashboard 1",keywords:null,href:["HomecareDashboardComponent"],icon:`
      <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 -960 960 960" fill="currentcolor">
        <path d="M280-280h80v-200h-80v200Zm320 0h80v-400h-80v400Zm-160 0h80v-120h-80v120Zm0-200h80v-80h-80v80ZM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Z"/>
      </svg>
      `},{id:"patient",label:"Paciente",icon:`<svg class="w-5 h-5" fill="currentColor" stroke="currentColor" viewbox="0 -960 960 960">
<path d="M480-560q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47Zm0-80q33 0 56.5-23.5T560-720q0-33-23.5-56.5T480-800q-33 0-56.5 23.5T400-720q0 33 23.5 56.5T480-640ZM160-80v-271q0-34 17-62.5t47-44.5q51-26 115.5-44T480-520q76 0 140.5 18T736-458q30 16 47 44.5t17 62.5v191q0 33-23.5 56.5T720-80H390q-46 0-78-32t-32-78q0-46 32-78t78-32h113l62-132q-20-4-41-6t-44-2q-72 0-128 17.5T261-386q-10 5-15.5 14.5T240-351v271h-80Zm230-80h48l28-60h-76q-12 0-21 9t-9 21q0 12 9 21t21 9Zm136 0h194v-191q0-11-5.5-20.5T700-386q-12-6-26-12.5T644-411L526-160Zm-46-560Zm0 426Z"></path>
</svg>`,children:[{id:"videocall",label:"Tele Atendimento",keywords:null,href:["videocall1"],icon:`
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 -960 960 960" fill="currentcolor">
          <path d="M320-400h240q17 0 28.5-11.5T600-440v-80l80 80v-240l-80 80v-80q0-17-11.5-28.5T560-720H320q-17 0-28.5 11.5T280-680v240q0 17 11.5 28.5T320-400ZM80-80v-720q0-33 23.5-56.5T160-880h640q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240H240L80-80Zm126-240h594v-480H160v525l46-45Zm-46 0v-480 480Z"/>
          </svg>`},{id:"videocall-m",label:"Tele Atendimento(M\xE9dico)",keywords:null,href:["/videocall"],queryParams:{role:"medico"},icon:`
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 -960 960 960" fill="currentcolor">
          <path d="M360-320h80v-120h120v-80H440v-120h-80v120H240v80h120v120ZM160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h480q33 0 56.5 23.5T720-720v180l160-160v440L720-420v180q0 33-23.5 56.5T640-160H160Zm0-80h480v-480H160v480Zm0 0v-480 480Z"/>
          </svg>`},{id:"videocall-p",label:"Tele Atendimento(Paciente)",keywords:null,href:["videocall"],icon:`

          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 -960 960 960" fill="currentcolor">
          <path d="M240-320h320v-22q0-44-44-71t-116-27q-72 0-116 27t-44 71v22Zm160-160q33 0 56.5-23.5T480-560q0-33-23.5-56.5T400-640q-33 0-56.5 23.5T320-560q0 33 23.5 56.5T400-480ZM160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h480q33 0 56.5 23.5T720-720v180l160-160v440L720-420v180q0 33-23.5 56.5T640-160H160Zm0-80h480v-480H160v480Zm0 0v-480 480Z"/>

          </svg>`},{id:"registration-patient",label:"Cadastro de Pacientes",keywords:null,href:["PatientRegistrationComponent"],icon:'<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 -960 960 960" fill="currentcolor"><path d="M240-360h280l80-80H240v80Zm0-160h240v-80H240v80Zm-80-160v400h280l-80 80H80v-560h800v120h-80v-40H160Zm756 212q5 5 5 11t-5 11l-36 36-70-70 36-36q5-5 11-5t11 5l48 48ZM520-120v-70l266-266 70 70-266 266h-70ZM160-680v400-400Z"/></svg>'},{id:"electronic-record",label:"Prontu\xE1rio Eletr\xF4nico",keywords:null},{id:"clinical-history",label:"Hist\xF3rico Cl\xEDnico",keywords:null,icon:null},{id:"appointment-history",label:"Hist\xF3rico de Atendimentos",keywords:null,icon:null},{id:"clinical-timeline",label:"Linha do Tempo Cl\xEDnica",keywords:null,icon:null},{id:"vital-signs-record",label:"Registro de Sinais Vitais",keywords:null,icon:null},{id:"document-upload",label:"Upload de Documentos",keywords:null,icon:null},{id:"consent-terms",label:"Termos de Consentimento",keywords:null,icon:null},{id:"reports-exams",label:"Laudos e Exames",keywords:null,icon:null},{id:"medical-prescription",label:"M\xE9dica",keywords:null,icon:null},{id:"nursing-prescription",label:"Enfermagem",keywords:null,icon:null},{id:"nutritional-prescription",label:"Nutricional",keywords:null,icon:null},{id:"physiotherapy-prescription",label:"Fisioterapia",keywords:null,icon:null},{id:"other-teams-prescription",label:"Demais Equipes",keywords:null,icon:null},{id:"medical-evolution",label:"Evolu\xE7\xE3o M\xE9dica",keywords:null,icon:null},{id:"clinical-evolution",label:"Evolu\xE7\xE3o Cl\xEDnica",keywords:null,icon:null},{id:"nursing-evolution",label:"Evolu\xE7\xE3o Enfermagem",keywords:null,icon:null},{id:"nutritional-evolution",label:"Evolu\xE7\xE3o Nutricional",keywords:null,icon:null},{id:"vital-signs-record",label:"Registro de Sinais",keywords:null,icon:null},{id:"charts-trends",label:"Gr\xE1ficos e Tend\xEAncias",keywords:null,icon:null},{id:"automatic-alerts",label:"Alertas Autom\xE1ticos",keywords:null,icon:null},{id:"therapeutic-objectives",label:"Objetivos Terap\xEAuticos",keywords:null,icon:null},{id:"scheduled-activities",label:"Atividades Programadas",keywords:null,icon:null},{id:"results-evaluation",label:"Avalia\xE7\xE3o de Resultados",keywords:null,icon:null},{id:"plan-development",label:"Elabora\xE7\xE3o de Planos",keywords:null,icon:null},{id:"plan-review",label:"Revis\xE3o de Planos",keywords:null,icon:null},{id:"goal-tracking",label:"Acompanhamento de Metas",keywords:null,icon:null},{id:"medication-control",label:"Controle de Medica\xE7\xE3o",keywords:null,icon:null},{id:"administration-record",label:"Registro de Administra\xE7\xE3o",keywords:null,icon:null},{id:"medication-alerts",label:"Alertas de Medicamentos",keywords:null,icon:null},{id:"patient.documentation",label:"Documentos e Anexos",icon:`<svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24">
<path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"></path>
</svg>`,children:[{id:"document-upload",label:"Upload de Documentos",keywords:null,icon:null},{id:"consent-terms",label:"Termos de Consentimento",keywords:null,icon:null},{id:"reports-exams",label:"Laudos e Exames",keywords:null,icon:null}]},{id:"patient.prescription",label:"Prescri\xE7\xE3o",icon:`<svg class="w-5 h-5" fill="currentColor" stroke="currentColor" viewbox="0 -960 960 960">
<path d="m678-134 46-46-64-64-46 46q-14 14-14 32t14 32q14 14 32 14t32-14Zm102-102 46-46q14-14 14-32t-14-32q-14-14-32-14t-32 14l-46 46 64 64ZM735-77q-37 37-89 37t-89-37q-37-37-37-89t37-89l148-148q37-37 89-37t89 37q37 37 37 89t-37 89L735-77ZM200-200v-560 560Zm0 80q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h168q13-36 43.5-58t68.5-22q38 0 68.5 22t43.5 58h168q33 0 56.5 23.5T840-760v245q-20-5-40-5t-40 3v-243H200v560h243q-3 20-3 40t5 40H200Zm280-670q13 0 21.5-8.5T510-820q0-13-8.5-21.5T480-850q-13 0-21.5 8.5T450-820q0 13 8.5 21.5T480-790ZM280-600v-80h400v80H280Zm0 160v-80h400v34q-8 5-15.5 11.5T649-460l-20 20H280Zm0 160v-80h269l-49 49q-8 8-14.5 15.5T474-280H280Z"></path>
</svg>`,children:[{id:"medical-prescription",label:"M\xE9dica",keywords:null,icon:null},{id:"nursing-prescription",label:"Enfermagem",keywords:null,icon:null},{id:"nutritional-prescription",label:"Nutricional",keywords:null,icon:null},{id:"physiotherapy-prescription",label:"Fisioterapia",keywords:null,icon:null},{id:"other-teams-prescription",label:"Demais Equipes",keywords:null,icon:null}]},{id:"patient.evolution",label:"Evolu\xE7\xF5es",icon:`<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                    <path
                      d="M19,3H5C3.9,3 3,3.9 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.9 20.1,3 19,3M19,19H5V5H19V19M17,12H7V10H17V12M15,16H7V14H15V16M17,8H7V6H17V8Z" />
                  </svg>`,children:[{id:"medical-evolution",label:"Evolu\xE7\xE3o M\xE9dica",keywords:null,icon:null},{id:"clinical-evolution",label:"Evolu\xE7\xE3o Cl\xEDnica",keywords:null,icon:null},{id:"nursing-evolution",label:"Evolu\xE7\xE3o Enfermagem",keywords:null,icon:null},{id:"nutritional-evolution",label:"Evolu\xE7\xE3o Nutricional",keywords:null,icon:null}]},{id:"patient.care_plan",label:"Plano de Cuidados",icon:`<svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24">
<path d="M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z"></path>
</svg>`,children:[{id:"therapeutic-objectives",label:"Objetivos Terap\xEAuticos",keywords:null,icon:null},{id:"scheduled-activities",label:"Atividades Programadas",keywords:null,icon:null},{id:"results-evaluation",label:"Avalia\xE7\xE3o de Resultados",keywords:null,icon:null},{id:"plan-development",label:"Elabora\xE7\xE3o de Planos",keywords:null,icon:null},{id:"plan-review",label:"Revis\xE3o de Planos",keywords:null,icon:null},{id:"goal-tracking",label:"Acompanhamento de Metas",keywords:null,icon:null}]},{id:"patient.medication",label:"Medicamentos",icon:`<svg class="w-5 h-5" fill="currentcolor" viewbox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg">
<path d="M420-260h120v-100h100v-120H540v-100H420v100H320v120h100v100ZM280-120q-33 0-56.5-23.5T200-200v-440q0-33 23.5-56.5T280-720h400q33 0 56.5 23.5T760-640v440q0 33-23.5 56.5T680-120H280Zm0-80h400v-440H280v440Zm-40-560v-80h480v80H240Zm40 120v440-440Z"></path>
</svg>`,children:[{id:"medication-control",label:"Controle de Medica\xE7\xE3o",keywords:null,icon:null},{id:"administration-record",label:"Registro de Administra\xE7\xE3o",keywords:null,icon:null},{id:"medication-alerts",label:"Alertas de Medicamentos",keywords:null,icon:null}]}]},{id:"professionals",label:"Profissionais",icon:`<svg class="w-5 h-5" fill="currentColor" stroke="currentColor" viewbox="0 -960 960 960">
<path d="M40-160v-112q0-34 17.5-62.5T104-378q62-31 126-46.5T360-440q66 0 130 15.5T616-378q29 15 46.5 43.5T680-272v112H40Zm720 0v-120q0-44-24.5-84.5T666-434q51 6 96 20.5t84 35.5q36 20 55 44.5t19 53.5v120H760ZM360-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47Zm400-160q0 66-47 113t-113 47q-11 0-28-2.5t-28-5.5q27-32 41.5-71t14.5-81q0-42-14.5-81T544-792q14-5 28-6.5t28-1.5q66 0 113 47t47 113ZM120-240h480v-32q0-11-5.5-20T580-306q-54-27-109-40.5T360-360q-56 0-111 13.5T140-306q-9 5-14.5 14t-5.5 20v32Zm240-320q33 0 56.5-23.5T440-640q0-33-23.5-56.5T360-720q-33 0-56.5 23.5T280-640q0 33 23.5 56.5T360-560Zm0 320Zm0-400Z"></path>
</svg>`,children:[{id:"professional-registration",label:"Cadastro de Profissionais",keywords:null,icon:null},{id:"performance-evaluations",label:"Avalia\xE7\xF5es de Desempenho",keywords:null,icon:null},{id:"payroll",label:"Folha de Pagamento",keywords:null,icon:null},{id:"schedules-agendas",label:"Escalas e Agendas",keywords:null,icon:null},{id:"performance-evaluations-2",label:"Avalia\xE7\xF5es de Desempenho",keywords:null,icon:null},{id:"training-qualification",label:"Treinamentos e Capacita\xE7\xF5es",keywords:null,icon:null},{id:"team-management",label:"Gest\xE3o de Equipes",keywords:null,icon:`<svg class="w-5 h-5" fill="currentColor" viewbox="0 -960 960 960">
<path d="M0-240v-63q0-43 44-70t116-27q13 0 25 .5t23 2.5q-14 21-21 44t-7 48v65H0Zm240 0v-65q0-32 17.5-58.5T307-410q32-20 76.5-30t96.5-10q53 0 97.5 10t76.5 30q32 20 49 46.5t17 58.5v65H240Zm540 0v-65q0-26-6.5-49T754-397q11-2 22.5-2.5t22.5-.5q72 0 116 26.5t44 70.5v63H780Zm-455-80h311q-10-20-55.5-35T480-370q-55 0-100.5 15T325-320ZM160-440q-33 0-56.5-23.5T80-520q0-34 23.5-57t56.5-23q34 0 57 23t23 57q0 33-23 56.5T160-440Zm640 0q-33 0-56.5-23.5T720-520q0-34 23.5-57t56.5-23q34 0 57 23t23 57q0 33-23 56.5T800-440Zm-320-40q-50 0-85-35t-35-85q0-51 35-85.5t85-34.5q51 0 85.5 34.5T600-600q0 50-34.5 85T480-480Zm0-80q17 0 28.5-11.5T520-600q0-17-11.5-28.5T480-640q-17 0-28.5 11.5T440-600q0 17 11.5 28.5T480-560Zm1 240Zm-1-280Z"></path>
</svg>`},{id:"availability-schedules",label:"Disponibilidade e Escalas",keywords:null,icon:null},{id:"professional-documentation",label:"Documenta\xE7\xE3o Profissional",keywords:null,icon:null},{id:"specialties",label:"Especialidades",keywords:null,icon:null},{id:"performance-evaluation",label:"Avalia\xE7\xE3o de Performance",keywords:null,icon:null},{id:"team-meetings",label:"Reuni\xF5es de Equipe",keywords:null,icon:null},{id:"permissions",label:"Permiss\xF5es",keywords:null,icon:null},{id:"feedbacks",label:"Feedbacks",keywords:null,icon:null},{id:"training-history",label:"Hist\xF3rico de Treinamentos",keywords:null,icon:null},{id:"certifications",label:"Certifica\xE7\xF5es",keywords:null,icon:null},{id:"professionals.training",label:"Certifica\xE7\xF5es e Treinamentos",icon:`<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 -960 960 960" fill="currentcolor">
  <g transform="matrix(1.207274, 0, 0, 1.056323, -48.867502, 48.787626)" style="transform-origin: 126.867px 66.2125px;">
    <path d="M 485 -240 Z M 160 -272 C 160 -294.667 165.833 -315.5 177.5 -334.5 C 189.167 -353.5 204.667 -368 224 -378 C 265.333 -398.667 307.333 -414.167 350 -424.5 C 392.667 -434.833 461.231 -442.462 505.231 -442.462 C 510.808 -442.579 487.322 -404.676 481.231 -360 C 443.898 -360 405.667 -355.5 369 -346.5 C 332.333 -337.5 296 -324 260 -306 C 254 -302.667 249.167 -298 245.5 -292 C 241.833 -286 240 -279.333 240 -272 L 240 -240 L 502.846 -238.769 C 505.513 -224.769 504.089 -213.564 505.345 -198.385 C 506.601 -183.206 503.154 -170.821 509.154 -158.154 L 160 -160 L 160 -272 Z M 480 -480 C 436 -480 398.333 -495.667 367 -527 C 335.667 -558.333 320 -596 320 -640 C 320 -684 335.667 -721.667 367 -753 C 398.333 -784.333 436 -800 480 -800 C 524 -800 561.667 -784.333 593 -753 C 624.333 -721.667 640 -684 640 -640 C 640 -596 624.333 -558.333 593 -527 C 561.667 -495.667 524 -480 480 -480 Z M 480 -560 C 502 -560 520.833 -567.833 536.5 -583.5 C 552.167 -599.167 560 -618 560 -640 C 560 -662 552.167 -680.833 536.5 -696.5 C 520.833 -712.167 502 -720 480 -720 C 458 -720 439.167 -712.167 423.5 -696.5 C 407.833 -680.833 400 -662 400 -640 C 400 -618 407.833 -599.167 423.5 -583.5 C 439.167 -567.833 458 -560 480 -560 Z M 480 -640 Z M 720 -277 Z"/>
    <path d="M 587.96 -270.29 L 602.232 -316.75 L 564.716 -346.76 L 611.203 -346.76 L 625.887 -392.7 L 640.569 -346.76 L 687.057 -346.76 L 649.132 -316.75 L 663.408 -270.29 L 625.887 -299.26 L 587.96 -270.29 Z M 528.01 -118.39 L 528.01 -244.45 C 517.678 -255.91 509.66 -268.96 503.949 -283.6 C 498.241 -298.24 495.385 -313.9 495.385 -330.58 C 495.385 -367.12 508.026 -397.92 533.31 -423.25 C 558.596 -448.29 589.453 -461.08 625.887 -461.08 C 662.32 -461.08 693.176 -448.29 718.462 -423.25 C 743.746 -397.92 756.385 -367.12 756.385 -330.58 C 756.385 -313.9 753.529 -298.24 747.821 -283.6 C 742.112 -268.96 734.098 -255.91 723.762 -244.45 L 723.762 -118.39 L 625.887 -151.01 L 528.01 -118.39 Z M 625.887 -232.69 C 653.072 -232.69 676.182 -242.1 695.216 -261.13 C 714.248 -280.21 723.762 -303.46 723.762 -330.58 C 723.762 -357.7 714.248 -380.95 695.216 -400.03 C 676.182 -419.06 653.072 -428.44 625.887 -428.44 C 598.7 -428.44 575.588 -419.06 556.557 -400.03 C 537.525 -380.95 528.01 -357.7 528.01 -330.58 C 528.01 -303.46 537.525 -280.21 556.557 -261.13 C 575.588 -242.1 598.7 -232.69 625.887 -232.69 Z M 560.635 -166.93 L 625.887 -183.64 L 691.137 -166.93 L 691.137 -217.57 C 681.623 -212.11 671.358 -207.91 660.347 -204.78 C 649.337 -201.67 637.85 -200.08 625.887 -200.08 C 613.922 -200.08 602.436 -201.67 591.425 -204.78 C 580.414 -207.91 570.15 -212.11 560.635 -217.57 L 560.635 -166.93 Z M 625.887 -192.25 Z"/>
  </g>
</svg>`,children:[{id:"training-history",label:"Hist\xF3rico de Treinamentos",keywords:null,icon:null},{id:"certifications",label:"Certifica\xE7\xF5es",keywords:null,icon:null}]}]},{id:"financial",label:"Financeiro",icon:`<svg class="w-5 h-5" fill="currentColor" stroke="currentColor" viewbox="0 -960 960 960">
<path d="M444-200h70v-50q50-9 86-39t36-89q0-42-24-77t-96-61q-60-20-83-35t-23-41q0-26 18.5-41t53.5-15q32 0 50 15.5t26 38.5l64-26q-11-35-40.5-61T516-710v-50h-70v50q-50 11-78 44t-28 74q0 47 27.5 76t86.5 50q63 23 87.5 41t24.5 47q0 33-23.5 48.5T486-314q-33 0-58.5-20.5T390-396l-66 26q14 48 43.5 77.5T444-252v52Zm36 120q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"></path>
</svg>`,children:[{id:"accounts-receivable",label:"Contas a Receber",keywords:null,icon:null},{id:"accounts-payable",label:"Contas a Pagar",keywords:null,icon:null},{id:"service-billing",label:"Faturamento de Servi\xE7os",keywords:null,icon:null},{id:"payment-management",label:"Gest\xE3o de Pagamentos",keywords:null,icon:null},{id:"cash-flow",label:"Fluxo de Caixa",keywords:null,icon:null},{id:"commissions",label:"Comiss\xF5es",keywords:null,icon:null},{id:"authorizations",label:"Autoriza\xE7\xF5es",keywords:null,icon:null},{id:"procedure-billing",label:"Cobran\xE7a de Procedimentos",keywords:null,icon:null},{id:"gloss",label:"Glosas",keywords:null,icon:null},{id:"professional-transfer",label:"Repasse para Profissionais",keywords:null,icon:null},{id:"invoice-issuance",label:"Emiss\xE3o de Notas Fiscais",keywords:null,icon:null}]},{id:"reports",label:"Relat\xF3rios e An\xE1lises",icon:`<svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24">
<path d="M13 9h5.5L13 3.5V9M6 2h8l6 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m0 18h12V9h-5V4H6v16m7-10h4v2h-4v-2m0 3h4v2h-4v-2m-3-3h2v6h-2v-6z"></path>
</svg>`,children:[{id:"care-reports",label:"Relat\xF3rios de Atendimento",keywords:null,icon:null},{id:"detailed-financial-reports",label:"Relat\xF3rios Financeiros Detalhados",keywords:null,icon:null},{id:"team-performance-reports",label:"Relat\xF3rios de Desempenho de Equipes",keywords:null,icon:null},{id:"patient-statistics",label:"Estat\xEDsticas de Pacientes",keywords:null,icon:null},{id:"inventory-consumption-reports",label:"Relat\xF3rios de Estoque e Consumo",keywords:null,icon:null},{id:"patient-reports",label:"Relat\xF3rios de Pacientes",keywords:"relatorios,pacientes",icon:null},{id:"visit-reports",label:"Relat\xF3rios de Visitas",keywords:"relatorios,visitas",icon:null},{id:"supply-reports",label:"Relat\xF3rios de Suprimentos",keywords:"relatorios,suprimentos",icon:null},{id:"care-reports-2",label:"Relat\xF3rios de Atendimento",keywords:null,icon:null},{id:"quality-indicators",label:"Indicadores de Qualidade",keywords:null,icon:null},{id:"supply-usage",label:"Uso de Suprimentos",keywords:null,icon:null},{id:"financial-reports",label:"Relat\xF3rios Financeiros",keywords:null,icon:null},{id:"performed-services",label:"Atendimentos Realizados",keywords:null,icon:null},{id:"financial",label:"Financeiro",keywords:null,icon:null},{id:"clinical-indicators",label:"Indicadores Cl\xEDnicos",keywords:null,icon:null},{id:"health-indicators",label:"Indicadores de Sa\xA3de",keywords:null,icon:null},{id:"care-reports-3",label:"Relat\xF3rios Assistenciais",keywords:null,icon:null},{id:"team-performance",label:"Desempenho de Equipe",keywords:null,icon:null},{id:"executive-dashboard",label:"Dashboard Executivo",keywords:null,icon:null},{id:"care-reports-4",label:"Relat\xF3rios Assistenciais",keywords:null,icon:null},{id:"financial-reports-2",label:"Relat\xF3rios Financeiros",keywords:null,icon:null},{id:"team-productivity",label:"Produtividade da Equipe",keywords:null,icon:null},{id:"operational-indicators",label:"Indicadores Operacionais",keywords:null,icon:null},{id:"business-intelligence",label:"Business Intelligence",keywords:null,icon:null},{id:"data-export",label:"Exporta\xE7\xE3o de Dados",keywords:null,icon:null},{id:"operational-reports",label:"Relat\xF3rios Operacionais",keywords:null,icon:null},{id:"clinical-reports",label:"Relat\xF3rios Cl\xEDnicos",keywords:null,icon:null},{id:"performance-reports",label:"Relat\xF3rios de Performance",keywords:null,icon:null},{id:"custom-dashboards",label:"Dashboards Personalizados",keywords:null,icon:null}]},{id:"settings",label:"Configura\xE7\xF5es",icon:`<svg class="w-5 h-5" fill="currentColor" stroke="currentColor" viewbox="0 -960 960 960">
<path d="m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm-2-140Z"></path>
</svg>`,children:[{id:"terms-dictionary",label:"Dicion\xE1rios de Termos",keywords:"termos,dicionario",icon:`<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 -960 960 960" fill="currentcolor">
  <path d="M 300 -80 C 260.667 -80 227.5 -93.5 200.5 -120.5 C 173.5 -147.5 160 -180.667 160 -220 L 160 -740 C 160 -778.667 173.5 -811.667 200.5 -839 C 227.5 -866.333 260.667 -880 300 -880 L 800 -880 L 800 -280 C 782.667 -280 768.333 -274.167 757 -262.5 C 745.667 -250.833 740 -236.667 740 -220 C 740 -202.667 745.667 -188.333 757 -177 C 768.333 -165.667 782.667 -160 800 -160 L 800 -80 L 300 -80 Z M 300 -160 L 673 -160 C 669 -169.333 665.833 -178.833 663.5 -188.5 C 661.167 -198.167 660 -208.667 660 -220 C 660 -230.667 661 -241 663 -251 C 665 -261 668.333 -270.667 673 -280 L 300 -280 C 282.667 -280 268.333 -274.167 257 -262.5 C 245.667 -250.833 240 -236.667 240 -220 C 240 -202.667 245.667 -188.333 257 -177 C 268.333 -165.667 282.667 -160 300 -160 Z M 240 -347 C 249.333 -351.667 258.833 -355 268.5 -357 C 278.167 -359 288.667 -360 300 -360 L 720 -360 L 720 -800 L 300 -800 C 282.667 -800 268.333 -794.167 257 -782.5 C 245.667 -770.833 240 -756.667 240 -740 L 240 -347 Z M 240 -347 L 240 -800 L 240 -347 Z"/>
  <path d="M 687.939 -723 C 687.475 -721.88 687.432 -720.7 687.137 -719.58 C 685.66 -713.43 683.592 -707.53 680.47 -702.05 C 677.052 -696.1 672.621 -691.12 666.587 -687.62 C 662.326 -685.14 657.684 -683.65 652.788 -682.98 C 645.446 -681.89 638.146 -682.63 630.931 -684.19 C 619.791 -686.53 609.326 -690.71 599.114 -695.56 C 588.059 -700.84 577.509 -706.93 567.087 -713.34 C 561.938 -716.47 556.791 -719.65 551.22 -722.08 C 547.55 -723.71 543.794 -725.01 539.786 -725.51 C 532.992 -726.35 527.169 -724.51 522.527 -719.4 C 519.236 -715.76 517.041 -711.5 515.523 -706.86 C 514.594 -704.02 513.75 -701.12 512.822 -698.27 C 512.274 -696.52 511.556 -694.81 510.627 -693.22 C 508.601 -689.79 505.522 -688.11 501.555 -688.03 C 500.753 -688.03 499.909 -688.03 499.066 -688.03 C 499.023 -688.58 499.403 -688.53 499.615 -688.61 C 503.074 -689.95 505.268 -692.46 506.449 -695.94 C 507.547 -699.16 507.716 -702.5 507.758 -705.85 C 507.758 -708.62 507.632 -711.33 507.632 -714.05 C 507.547 -718.1 507.589 -722.16 508.56 -726.18 C 509.404 -729.53 511.091 -732.33 513.834 -734.54 C 518.265 -738.06 523.286 -740.15 528.857 -741.03 C 535.692 -742.11 542.528 -741.44 549.279 -740.07 C 559.111 -738.06 568.479 -734.5 577.678 -730.56 C 583.122 -728.18 588.481 -725.55 593.881 -723.12 C 603.967 -718.57 614.474 -715.59 625.444 -713.92 C 632.956 -712.8 640.509 -712.37 648.063 -712.75 C 660.426 -713.34 672.284 -716.06 683.466 -721.41 C 684.985 -722.12 686.503 -722.87 687.896 -723.79 C 687.939 -723.5 687.939 -723.25 687.939 -723 Z M 492.989 -541.39 C 494.762 -541.72 496.534 -542.02 498.306 -542.39 C 503.074 -543.44 507.632 -545.02 512.02 -547.17 C 513.286 -547.75 513.286 -547.75 513.666 -546.36 C 514.931 -541.72 515.607 -536.95 515.311 -532.1 C 514.846 -524.75 512.02 -518.34 506.914 -512.99 C 502.146 -507.92 496.238 -504.54 489.782 -502.07 C 487.968 -501.4 486.153 -500.77 484.297 -500.36 C 483.663 -500.23 483.368 -499.89 483.326 -499.23 C 483.073 -494.92 482.819 -490.65 482.566 -486.38 C 482.566 -486.34 482.651 -486.26 482.694 -486.18 C 482.777 -486.18 482.862 -486.09 482.946 -486.12 C 485.773 -487.51 487.883 -489.52 488.643 -492.7 C 489.191 -495.17 488.474 -496.92 486.28 -498.22 C 485.984 -498.43 485.647 -498.47 485.393 -498.8 C 485.647 -499.23 486.111 -499.1 486.491 -499.14 C 489.74 -499.89 492.821 -501.15 495.816 -502.7 C 497.378 -503.5 498.897 -504.41 500.458 -505.29 C 501.387 -505.83 501.387 -505.83 501.892 -504.83 C 504.804 -498.93 504.762 -493.08 501.598 -487.31 C 499.235 -483.04 495.774 -479.91 491.638 -477.4 C 489.023 -475.76 486.196 -474.55 483.242 -473.67 C 482.018 -473.29 482.018 -473.29 481.976 -471.96 C 481.891 -468.52 481.807 -465.14 481.723 -461.75 C 481.723 -461.41 481.596 -461.03 481.849 -460.75 C 485.14 -461.66 486.787 -465.6 485.14 -468.44 C 484.635 -469.36 483.917 -470.2 483.199 -470.95 C 482.903 -471.24 482.483 -471.45 482.314 -471.91 C 482.735 -472.25 483.199 -472.29 483.663 -472.41 C 486.491 -473.29 489.148 -474.55 491.723 -475.93 C 492.694 -476.52 492.736 -476.52 493.538 -475.72 C 497.968 -471.32 498.981 -466.14 496.914 -460.37 C 494.846 -454.55 490.669 -450.54 485.224 -447.7 C 484.086 -447.11 482.946 -446.65 481.765 -446.28 C 481.3 -446.15 481.047 -445.94 481.005 -445.4 C 480.962 -441.09 480.921 -436.82 480.836 -432.51 C 480.836 -432.34 480.752 -432.09 481.131 -431.84 C 483.073 -433.51 484.128 -435.65 484.212 -438.24 C 484.297 -440.84 483.242 -443.05 481.216 -444.98 C 484.761 -445.9 487.841 -447.44 490.584 -449.74 C 491.892 -447.65 492.609 -445.47 492.821 -443.17 C 493.158 -439.29 492.018 -435.73 489.993 -432.47 C 487.714 -428.83 484.761 -425.82 481.259 -423.27 C 480.625 -422.8 480.33 -422.31 480.373 -421.56 C 480.414 -419.46 480.373 -417.41 480.373 -415.23 C 481.511 -415.57 482.018 -416.41 482.186 -417.45 C 482.398 -418.75 482.186 -420 481.554 -421.17 C 481.259 -421.68 481.216 -421.97 481.765 -422.35 C 483.073 -423.23 484.255 -424.23 485.267 -425.4 C 485.563 -425.73 485.816 -425.78 486.153 -425.4 C 487.504 -423.94 488.474 -422.31 488.559 -420.25 C 488.728 -417.2 487.799 -414.45 486.28 -411.81 C 485.393 -410.3 484.381 -408.8 483.199 -407.49 C 480.414 -404.36 479.19 -400.6 478.642 -396.54 C 478.01 -391.6 477.545 -386.63 477.292 -381.65 C 477.249 -380.9 477.166 -380.19 476.869 -379.48 C 476.828 -380.52 476.701 -381.61 476.658 -382.66 C 476.363 -388.42 475.646 -394.2 474.886 -399.92 C 474.338 -404.11 474.212 -408.37 473.874 -412.6 C 473.663 -415.28 473.62 -417.96 473.62 -420.68 C 473.62 -420.93 473.537 -421.17 473.494 -421.51 C 472.439 -421.34 471.976 -420.63 471.722 -419.75 C 471.427 -418.71 471.553 -417.63 472.228 -416.75 C 472.734 -416.03 472.945 -415.23 473.03 -414.4 C 473.368 -410.22 473.748 -406.03 474.085 -401.85 C 474.085 -401.81 474 -401.73 474 -401.65 C 473.537 -401.81 473.494 -402.28 473.283 -402.56 C 471.807 -404.83 470.244 -407.04 468.895 -409.34 C 467.123 -412.39 465.772 -415.54 465.477 -419.05 C 465.266 -421.47 465.603 -423.77 466.954 -425.86 C 468.22 -427.74 469.95 -428.88 472.102 -429.46 C 473.157 -429.79 473.157 -429.79 473.157 -430.75 C 473.073 -435.1 472.988 -439.42 472.945 -443.77 C 472.945 -444.01 472.945 -444.31 472.776 -444.52 C 472.396 -444.6 472.27 -444.27 472.06 -444.05 C 469.95 -441.59 469.275 -438.83 470.372 -435.69 C 471.004 -434.02 471.807 -432.43 472.693 -430.88 C 472.06 -430.37 471.258 -430.3 470.583 -430.01 C 469.781 -429.62 468.937 -429.25 468.22 -428.74 C 467.755 -428.41 467.418 -428.37 466.954 -428.79 C 464.253 -431.39 461.974 -434.27 461.089 -437.95 C 459.78 -443.55 461.258 -448.53 465.055 -452.84 C 466.828 -454.88 468.979 -456.56 471.384 -457.82 C 472.102 -458.15 472.355 -458.57 472.313 -459.33 C 472.228 -462.83 472.144 -466.3 472.06 -469.78 C 472.06 -469.9 472.017 -470.03 471.976 -470.16 C 470.413 -469.48 468.388 -467.23 468.051 -465.73 C 467.84 -464.67 468.051 -463.72 468.515 -462.75 C 469.021 -461.7 469.781 -460.87 470.667 -460.12 C 471.004 -459.82 471.427 -459.66 471.68 -459.28 C 471.553 -458.95 471.216 -458.85 470.962 -458.7 C 469.106 -457.57 467.375 -456.27 465.688 -454.85 C 464.548 -453.89 464.548 -453.85 463.156 -454.64 C 459.654 -456.69 457.585 -459.78 456.827 -463.72 C 455.772 -469.32 457.544 -474.17 461.469 -478.28 C 463.915 -480.79 466.869 -482.54 470.076 -483.97 C 470.329 -484.12 470.624 -484.25 470.92 -484.33 C 471.553 -484.5 471.722 -484.92 471.68 -485.51 C 471.469 -489.69 471.342 -493.84 471.173 -497.97 C 471.131 -498.89 471.004 -499.02 470.118 -498.8 C 468.979 -498.59 467.883 -498.22 466.954 -497.51 C 465.646 -496.59 465.097 -495.29 465.266 -493.71 C 465.477 -491.24 466.658 -489.31 468.557 -487.72 C 469.232 -487.18 469.992 -486.72 470.709 -486.18 C 470.583 -485.76 470.203 -485.72 469.865 -485.59 C 466.405 -484.04 463.114 -482.21 460.329 -479.61 C 459.737 -479.07 459.358 -479.23 458.81 -479.61 C 455.392 -481.95 452.944 -485.09 451.509 -488.98 C 448.599 -496.59 450.286 -503.5 455.307 -509.64 C 458.937 -514.08 463.747 -516.91 469.106 -518.93 C 470.456 -519.42 470.498 -519.42 470.456 -520.81 C 470.244 -527.74 470.034 -534.7 469.781 -541.6 C 469.781 -542.76 469.739 -542.76 468.557 -542.81 C 466.7 -542.81 464.844 -542.6 463.03 -542.02 C 458.134 -540.42 455.687 -536.41 456.7 -531.27 C 457.713 -525.99 460.92 -522.4 465.941 -520.43 C 466.279 -520.3 466.7 -520.3 466.996 -519.97 C 466.828 -519.59 466.447 -519.59 466.151 -519.42 C 461.637 -517.39 457.754 -514.49 454.379 -510.9 C 453.451 -509.89 453.408 -509.85 452.185 -510.51 C 446.489 -513.36 442.353 -517.75 439.399 -523.28 C 437.163 -527.46 436.023 -531.89 436.488 -536.67 C 436.698 -538.97 437.374 -541.14 438.512 -543.19 C 442.564 -550.63 448.682 -555.95 456.362 -559.49 C 460.034 -561.17 463.873 -562.18 467.923 -562.47 C 469.106 -562.55 469.148 -562.6 469.106 -563.85 C 468.895 -569.99 468.683 -576.19 468.472 -582.34 C 468.262 -587.57 468.093 -592.75 467.883 -597.98 C 467.798 -600.07 467.755 -600.03 465.688 -600.11 C 461.004 -600.2 456.362 -599.74 451.889 -598.19 C 449.442 -597.39 447.206 -596.23 445.306 -594.47 C 442.142 -591.49 441.087 -587.73 441.425 -583.55 C 441.847 -578.36 444.294 -574.22 448.261 -570.96 C 452.058 -567.82 456.489 -565.9 461.173 -564.52 L 463.62 -563.85 C 463.704 -563.81 463.747 -563.72 463.873 -563.6 C 463.156 -563.43 462.565 -563.26 461.932 -563.1 C 454.084 -561.05 447.543 -556.91 441.973 -551.14 C 440.581 -549.67 440.581 -549.62 438.85 -550.63 C 428.259 -556.78 420.537 -565.39 416.613 -577.07 C 414.418 -583.42 414.377 -589.86 416.867 -596.23 C 419.271 -602.24 423.281 -606.89 428.723 -610.36 C 433.703 -613.58 439.23 -615.46 445.011 -616.72 C 449.991 -617.81 455.012 -618.22 460.117 -618.14 C 462.227 -618.1 464.295 -618.26 466.405 -618.35 C 467.334 -618.39 467.375 -618.43 467.334 -619.35 C 467.165 -625.29 466.954 -631.19 466.785 -637.09 C 466.658 -640.6 466.489 -644.07 466.447 -647.55 C 466.447 -648.59 466.067 -649.17 465.308 -649.76 C 461.552 -652.44 457.501 -654.41 453.155 -655.78 C 446.573 -657.83 439.821 -658.5 432.943 -657.87 C 431.887 -657.8 430.833 -657.71 429.778 -657.62 C 429.736 -657.62 429.694 -657.62 429.652 -657.67 C 429.694 -657.8 429.652 -657.95 429.736 -658.05 C 431.972 -661.81 433.365 -665.91 434.842 -669.97 C 435.897 -672.77 436.909 -675.61 438.302 -678.29 C 439.146 -679.88 440.116 -681.42 441.382 -682.77 C 443.45 -684.94 446.024 -686.02 449.019 -686.41 C 453.661 -687.03 458.134 -686.02 462.438 -684.39 C 463.704 -683.89 464.971 -683.31 466.32 -682.77 C 466.447 -684.19 466.025 -685.4 465.688 -686.61 C 465.139 -688.58 464.21 -690.38 463.114 -692.13 L 460.793 -695.82 C 458.599 -699.46 458.262 -703.3 459.569 -707.27 C 459.822 -708.11 460.117 -708.9 460.413 -709.66 C 461.089 -711.25 461.089 -711.25 459.78 -712.34 C 456.7 -714.89 454.337 -717.98 452.649 -721.58 C 445.306 -737.34 454.928 -755.75 472.102 -758.93 C 486.533 -761.6 500.584 -752.11 503.201 -737.77 C 505.1 -727.47 501.767 -718.86 493.79 -712.08 C 493.621 -711.92 493.495 -711.79 493.285 -711.67 C 492.863 -711.41 492.863 -711.08 493.073 -710.66 C 493.621 -709.45 494.086 -708.24 494.466 -706.93 C 495.647 -703.08 495.268 -699.46 493.201 -695.97 C 492.229 -694.35 491.217 -692.76 490.246 -691.09 C 488.854 -688.74 487.925 -686.23 487.63 -683.51 C 487.63 -683.35 487.63 -683.18 487.63 -683.02 C 487.63 -682.98 487.672 -682.92 487.672 -682.84 C 488.179 -682.8 488.601 -683.14 489.023 -683.35 C 492.821 -685.07 496.745 -686.28 500.922 -686.56 C 503.454 -686.7 505.944 -686.44 508.306 -685.61 C 510.037 -685.02 511.514 -683.93 512.737 -682.56 C 514.13 -681.05 515.184 -679.3 516.071 -677.45 C 517.632 -674.19 518.771 -670.75 520.037 -667.37 C 521.219 -664.19 522.4 -661.1 524.13 -658.17 C 524.215 -658 524.341 -657.87 524.257 -657.59 C 523.033 -657.71 521.852 -657.83 520.586 -657.92 C 510.374 -658.63 500.669 -656.96 491.681 -651.72 C 490.626 -651.1 489.613 -650.35 488.601 -649.63 C 487.841 -649.09 487.504 -648.51 487.504 -647.55 C 487.419 -642.73 487.25 -637.92 487.124 -633.11 C 486.955 -628.68 486.828 -624.2 486.659 -619.77 C 486.659 -619.57 486.702 -619.39 486.659 -619.23 C 486.576 -618.51 486.913 -618.31 487.588 -618.31 C 490.289 -618.22 492.989 -618.1 495.732 -618.06 C 501.133 -617.97 506.577 -618.14 512.02 -618.61 C 517.463 -619.06 522.823 -619.77 528.013 -621.49 C 529.32 -621.9 530.586 -622.41 531.81 -623.08 C 532.401 -623.36 532.992 -623.7 533.499 -624.08 C 536.579 -626.21 537.76 -628.85 537.085 -631.9 C 536.24 -635.71 533.793 -638.09 530.164 -638.72 C 527.464 -639.22 524.764 -638.97 522.063 -638.59 C 517.59 -638.01 513.202 -637.09 508.686 -636.71 C 504.424 -636.37 500.163 -636.47 496.027 -637.92 C 495.647 -638.09 495.015 -638.09 495.015 -638.59 C 494.973 -639.18 495.478 -639.51 495.985 -639.73 C 496.745 -640.09 497.588 -640.27 498.432 -640.31 C 499.994 -640.35 501.555 -640.35 503.116 -640.19 C 504.171 -640.09 505.268 -640.06 506.323 -640.09 C 506.829 -640.14 507.547 -640.14 507.632 -640.77 C 507.716 -641.48 506.998 -641.52 506.492 -641.65 C 505.142 -641.98 503.75 -642.06 502.399 -642.19 C 500.964 -642.27 499.572 -642.4 498.179 -642.73 C 497.42 -642.86 496.702 -643.03 496.07 -643.61 C 496.28 -644.12 496.829 -644.32 497.209 -644.61 C 499.994 -646.42 503.032 -647.51 506.197 -648.21 C 511.556 -649.47 516.957 -649.6 522.4 -649.14 C 528.054 -648.67 533.499 -647.51 538.73 -645.37 C 541.558 -644.2 544.174 -642.78 546.621 -640.98 C 554.724 -634.99 554.892 -626 551.98 -619.39 C 550.377 -615.8 547.845 -612.95 544.806 -610.44 C 541.937 -608.1 538.772 -606.22 535.397 -604.72 C 533.414 -603.84 531.22 -603.46 529.109 -602.99 C 517.21 -600.32 505.1 -599.23 492.905 -599.57 C 491.049 -599.61 489.191 -599.78 487.292 -599.9 C 486.238 -599.95 486.196 -599.99 486.153 -598.9 C 485.942 -593.59 485.773 -588.32 485.604 -583.01 C 485.393 -576.69 485.183 -570.37 484.972 -564.09 C 484.929 -562.85 484.929 -562.8 486.069 -562.97 C 491.765 -563.94 497.251 -565.52 502.272 -568.49 C 504.931 -570.03 507.294 -571.96 509.15 -574.44 C 511.936 -578.07 512.99 -582.21 512.568 -586.64 C 512.105 -591.16 509.615 -594.42 505.691 -596.6 L 504.044 -597.48 C 504.002 -597.51 504.002 -597.56 503.96 -597.61 C 504.171 -597.98 504.508 -597.85 504.804 -597.85 C 514.426 -598.02 523.877 -599.4 533.076 -602.2 C 533.793 -602.41 534.131 -602.32 534.511 -601.74 C 536.663 -598.1 538.055 -594.26 538.52 -590.07 C 539.364 -582.46 537.38 -575.52 533.667 -569 C 528.857 -560.67 522.316 -554.02 513.581 -549.8 C 507.294 -546.78 500.627 -544.81 493.749 -543.6 C 491.006 -543.1 488.221 -542.81 485.393 -542.76 C 484.255 -542.72 484.255 -542.69 484.255 -541.55 C 484.001 -534.65 483.79 -527.79 483.579 -520.89 C 483.579 -520.68 483.579 -520.47 483.537 -520.23 C 483.495 -519.68 483.79 -519.51 484.297 -519.59 C 485.352 -519.72 486.407 -519.84 487.419 -520.18 C 493.201 -522.2 496.66 -526.17 497.462 -532.19 C 497.926 -535.7 496.66 -538.63 493.664 -540.72 C 493.411 -540.89 493.073 -540.93 492.989 -541.39 Z M 266.055 -723.5 C 266.525 -723.58 266.819 -723.3 267.114 -723.12 C 276.266 -718.19 286.015 -715.13 296.31 -713.68 C 304.792 -712.41 313.315 -712.34 321.881 -713.13 C 336.228 -714.47 349.9 -718.23 362.939 -724.46 C 371.631 -728.6 380.408 -732.58 389.522 -735.8 C 395.388 -737.85 401.379 -739.56 407.541 -740.61 C 413.87 -741.65 420.2 -741.99 426.529 -740.77 C 431.213 -739.82 435.475 -737.93 439.357 -735.13 C 443.07 -732.37 445.054 -728.69 445.771 -724.21 C 446.489 -719.78 446.32 -715.35 446.278 -710.87 C 446.235 -708.19 446.193 -705.48 446.32 -702.8 C 446.404 -700.63 446.699 -698.48 447.332 -696.4 C 448.471 -692.68 450.708 -689.95 454.464 -688.58 C 454.632 -688.53 454.801 -688.49 454.885 -688.28 C 451.299 -687.19 446.53 -688.91 444.126 -692.05 C 442.985 -693.6 442.185 -695.31 441.551 -697.11 C 440.496 -699.91 439.736 -702.75 438.85 -705.56 C 437.543 -709.7 435.812 -713.68 433.239 -717.18 C 430.453 -720.94 427.036 -723.79 422.436 -725.05 C 418.723 -726.05 414.967 -725.85 411.211 -725.01 C 406.738 -723.96 402.604 -722.16 398.552 -720.07 C 393.49 -717.48 388.679 -714.42 383.826 -711.5 C 373.657 -705.31 363.276 -699.46 352.474 -694.43 C 343.739 -690.42 334.793 -686.95 325.425 -684.73 C 319.392 -683.31 313.357 -682.34 307.156 -682.47 C 299.603 -682.63 292.429 -684.26 286.015 -688.46 C 280.36 -692.09 276.186 -697.06 272.976 -702.93 C 269.473 -709.36 267.362 -716.26 265.975 -723.37 C 265.975 -723.42 266.015 -723.45 266.055 -723.5 Z M 522.738 -714.42 C 522.78 -714.51 522.78 -714.67 522.823 -714.77 C 526.536 -720.12 531.472 -723.04 538.182 -722.54 C 542.022 -722.24 545.609 -721.08 549.11 -719.61 C 553.837 -717.65 558.268 -715.1 562.614 -712.41 C 571.812 -706.81 581.011 -701.29 590.591 -696.36 C 600.338 -691.34 610.381 -686.86 620.888 -683.6 C 626.542 -681.84 632.238 -680.51 638.062 -679.84 C 644.645 -679.08 651.227 -679.12 657.725 -680.75 C 657.853 -680.75 657.979 -680.8 658.105 -680.8 C 658.19 -680.8 658.274 -680.75 658.401 -680.72 C 658.232 -679.53 657.768 -678.45 657.304 -677.37 C 654.856 -671.51 650.679 -667.08 645.362 -663.64 C 639.876 -660.1 633.758 -657.95 627.301 -656.74 C 623.969 -656.12 620.592 -655.78 617.216 -655.83 C 612.11 -655.9 607.258 -657.21 602.575 -659.04 C 596.161 -661.56 590.506 -665.28 585.147 -669.5 C 580.252 -673.36 575.737 -677.62 571.307 -681.96 C 565.652 -687.44 560.166 -693.18 554.301 -698.45 C 549.448 -702.84 544.342 -706.9 538.52 -709.91 C 533.709 -712.41 528.646 -713.97 523.244 -714.22 C 523.075 -714.26 522.864 -714.22 522.738 -714.42 Z M 295.552 -680.84 C 297.239 -680.54 298.8 -680.21 300.362 -679.96 C 304.876 -679.25 309.433 -679.25 313.948 -679.66 C 325.932 -680.8 337.156 -684.52 348.127 -689.16 C 359.647 -694.06 370.618 -700.04 381.336 -706.39 C 386.021 -709.2 390.704 -712.08 395.388 -714.85 C 400.072 -717.56 404.84 -719.99 410.073 -721.49 C 412.857 -722.29 415.684 -722.75 418.639 -722.54 C 422.436 -722.24 425.642 -720.7 428.343 -718.06 C 429.441 -717.02 430.453 -715.85 431.339 -714.34 C 430.453 -714.26 429.694 -714.17 428.934 -714.09 C 423.153 -713.55 417.921 -711.5 412.942 -708.57 C 407.541 -705.35 402.772 -701.42 398.215 -697.19 C 392.983 -692.38 388.045 -687.28 382.983 -682.3 C 378.256 -677.7 373.445 -673.14 368.213 -669.09 C 363.782 -665.61 359.098 -662.52 353.909 -660.17 C 347.156 -657.08 340.153 -655.32 332.684 -655.95 C 323.401 -656.74 314.75 -659.29 307.113 -664.65 C 301.881 -668.33 297.999 -673.1 295.931 -679.17 C 295.762 -679.63 295.552 -680.13 295.552 -680.84 Z M 516.324 -698.91 C 517.505 -702.71 518.519 -706.47 520.08 -710.04 C 520.46 -710.92 520.965 -711.16 521.894 -711.16 C 527.295 -711.16 532.275 -709.7 537 -707.27 C 541.853 -704.76 546.158 -701.51 550.251 -697.94 C 554.555 -694.22 558.605 -690.25 562.614 -686.23 C 568.901 -680 575.146 -673.69 582.025 -668.04 C 588.059 -663.14 594.473 -658.88 601.772 -656.08 C 607.469 -653.86 613.419 -652.52 619.622 -652.77 C 620.971 -652.81 622.365 -652.99 623.715 -653.07 C 624.01 -653.07 624.264 -653.19 624.517 -653.02 C 624.517 -652.94 624.517 -652.81 624.517 -652.77 C 621.479 -648.59 618.019 -644.79 613.672 -641.94 C 610.043 -639.55 606.076 -638.26 601.688 -638.47 C 598.566 -638.63 595.653 -639.47 592.827 -640.77 C 588.101 -642.94 583.966 -646 580.084 -649.38 C 574.049 -654.57 568.606 -660.35 563.121 -666.12 C 557.339 -672.18 551.559 -678.32 545.229 -683.89 C 541.093 -687.58 536.748 -690.92 531.937 -693.67 C 527.885 -695.97 523.624 -697.69 519.024 -698.45 C 518.561 -698.53 518.139 -698.58 517.674 -698.61 C 517.252 -698.74 516.872 -698.78 516.324 -698.91 Z M 329.223 -653.11 C 330.067 -653.07 330.742 -653.07 331.375 -652.99 C 338.97 -652.11 346.187 -653.6 353.149 -656.45 C 359.774 -659.17 365.682 -663.06 371.251 -667.54 C 377.834 -672.81 383.741 -678.7 389.691 -684.65 C 395.05 -689.95 400.324 -695.31 406.232 -700.08 C 410.368 -703.43 414.756 -706.44 419.693 -708.57 C 423.66 -710.24 427.794 -711.16 432.141 -711.2 C 433.027 -711.2 433.491 -710.92 433.829 -710.11 C 435.348 -706.69 436.36 -703.14 437.416 -699.62 C 437.627 -698.91 437.543 -698.82 436.445 -698.7 C 433.323 -698.37 430.326 -697.52 427.415 -696.36 C 422.183 -694.22 417.541 -691.12 413.152 -687.62 C 406.865 -682.63 401.253 -676.99 395.726 -671.21 C 390.155 -665.45 384.712 -659.55 378.93 -653.98 C 374.754 -650.01 370.408 -646.21 365.471 -643.11 C 362.475 -641.27 359.268 -639.73 355.722 -638.97 C 350.871 -637.89 346.27 -638.63 341.925 -640.98 C 338.169 -643.03 335.131 -645.91 332.345 -649.14 C 331.291 -650.35 330.278 -651.6 329.223 -653.11 Z M 442.774 -688.83 C 441.171 -688.58 439.736 -688.49 438.344 -688.16 C 433.619 -687.03 429.694 -684.52 426.233 -681.22 C 422.984 -678.17 420.326 -674.65 417.794 -670.97 C 414.715 -666.4 411.929 -661.6 409.018 -656.92 C 406.738 -653.24 404.417 -649.55 401.718 -646.17 C 400.03 -644.07 398.215 -642.15 396.147 -640.48 C 391.041 -636.29 385.303 -635.25 378.973 -637.17 C 375.978 -638.05 371.8 -640.19 369.606 -641.85 C 369.521 -642.15 369.775 -642.27 369.944 -642.4 C 376.061 -646.75 381.463 -651.98 386.696 -657.37 C 393.236 -664.07 399.481 -671 406.275 -677.45 C 410.79 -681.8 415.473 -685.9 420.748 -689.33 C 425.01 -692.09 429.483 -694.26 434.504 -695.27 C 435.643 -695.48 436.783 -695.69 437.964 -695.73 C 438.471 -695.77 438.766 -695.64 438.977 -695.14 C 439.821 -692.93 441.002 -690.83 442.774 -688.83 Z M 584.429 -642.06 C 584.303 -641.9 584.261 -641.77 584.177 -641.69 C 580.59 -639.35 576.792 -637.38 572.53 -636.59 C 567.846 -635.71 563.5 -636.59 559.576 -639.22 C 556.959 -640.93 554.765 -643.15 552.782 -645.54 C 549.828 -649.09 547.338 -652.99 544.934 -656.87 C 541.937 -661.77 539.026 -666.74 535.776 -671.51 C 533.076 -675.4 530.164 -679.12 526.578 -682.26 C 522.991 -685.4 518.982 -687.62 514.214 -688.46 C 513.286 -688.61 512.316 -688.58 511.218 -688.95 C 512.316 -690.16 513.202 -691.42 513.877 -692.8 C 514.214 -693.47 514.594 -694.14 514.805 -694.85 C 515.1 -695.64 515.564 -695.82 516.324 -695.73 C 518.729 -695.56 521.05 -695.02 523.329 -694.26 C 528.477 -692.51 532.95 -689.7 537.254 -686.49 C 542.613 -682.47 547.465 -677.87 552.149 -673.06 C 557.508 -667.58 562.741 -661.98 568.099 -656.49 C 573.079 -651.39 578.269 -646.46 584.092 -642.31 C 584.218 -642.23 584.346 -642.15 584.429 -642.06 Z M 457.881 -643.58 C 456.742 -642.73 455.433 -642.61 454.21 -642.49 C 452.395 -642.23 450.582 -642.1 448.767 -641.94 C 448.05 -641.85 447.332 -641.73 446.699 -641.4 C 446.446 -641.27 446.278 -641.1 446.32 -640.82 C 446.362 -640.56 446.53 -640.44 446.741 -640.31 C 447.247 -640.09 447.754 -640.09 448.302 -640.09 C 450.159 -640.19 451.974 -640.27 453.788 -640.35 C 454.885 -640.39 456.024 -640.39 457.122 -640.06 C 457.67 -639.94 458.219 -639.73 458.599 -639.31 C 459.189 -638.72 459.148 -638.47 458.388 -638.18 C 456.868 -637.54 455.264 -637.13 453.62 -636.92 C 449.906 -636.37 446.193 -636.59 442.479 -637.05 C 438.176 -637.54 433.956 -638.47 429.652 -638.88 C 427.289 -639.1 424.925 -639.13 422.647 -638.47 C 418.596 -637.3 415.938 -632.83 416.867 -628.8 C 417.246 -627.17 418.216 -625.92 419.482 -624.88 C 421.17 -623.42 423.196 -622.53 425.305 -621.74 C 429.103 -620.4 433.112 -619.68 437.12 -619.14 C 439.104 -618.89 441.087 -618.64 443.07 -618.56 C 443.323 -618.56 443.619 -618.56 443.957 -618.26 C 442.985 -617.97 442.1 -617.76 441.213 -617.55 C 436.192 -616.25 431.424 -614.42 427.036 -611.62 C 424.293 -609.82 421.845 -607.73 419.82 -605.17 C 419.482 -604.72 419.145 -604.42 418.511 -604.72 C 413.406 -607.18 408.721 -610.16 405.051 -614.49 C 402.604 -617.48 400.916 -620.81 400.452 -624.63 C 399.776 -630.19 401.042 -635.13 405.22 -639.13 C 408.258 -642.1 411.887 -644.12 415.812 -645.62 C 420.791 -647.59 425.938 -648.67 431.255 -649.14 C 436.783 -649.63 442.269 -649.47 447.712 -648.26 C 451.003 -647.51 454.168 -646.36 456.996 -644.45 C 457.248 -644.28 457.459 -644.12 457.67 -643.99 C 457.713 -643.91 457.754 -643.78 457.881 -643.58 Z M 439.104 -684.94 C 435.264 -680.59 433.491 -675.27 431.593 -670.05 C 430.495 -667.03 429.398 -663.98 427.922 -661.13 C 427.036 -659.47 426.022 -657.87 424.673 -656.49 C 422.225 -654.03 419.228 -653.07 415.812 -653.4 C 414.292 -653.53 412.731 -653.78 411.338 -654.36 C 411.254 -654.66 411.338 -654.78 411.465 -654.95 C 414.756 -660.31 417.879 -665.74 421.508 -670.85 C 423.87 -674.24 426.487 -677.41 429.652 -680.08 C 432.226 -682.3 435.095 -684.06 438.429 -684.98 C 438.597 -685.02 438.766 -685.1 439.104 -684.94 Z M 514.931 -684.98 C 517.295 -684.56 519.362 -683.6 521.303 -682.3 C 525.016 -679.92 527.97 -676.74 530.629 -673.31 C 533.624 -669.38 536.199 -665.24 538.772 -661.01 C 540.081 -658.88 541.389 -656.71 542.697 -654.57 C 542.485 -654.15 542.106 -654.15 541.768 -654.08 C 539.786 -653.53 537.802 -653.14 535.734 -653.35 C 532.612 -653.65 530.206 -655.2 528.308 -657.59 C 526.873 -659.38 525.818 -661.44 524.89 -663.52 C 523.371 -666.95 522.232 -670.46 520.923 -673.94 C 519.868 -676.69 518.687 -679.41 517.126 -681.93 C 516.45 -682.98 515.649 -683.98 514.931 -684.98 Z" style="stroke-width: 1; transform-box: fill-box; transform-origin: 50% 50%;" transform="matrix(0.999999, 0.001705, -0.001705, 0.999999, 0, 0)"/>
</svg>`},{id:"user-settings",label:"Configura\xE7\xF5es de Usu\xE1rios",keywords:null,icon:null},{id:"system-parameters",label:"Par\xE2metros do Sistema",keywords:null,icon:null},{id:"external-integrations",label:"Integra\xE7\xF5es Externas",keywords:null,icon:null},{id:"backup-restore",label:"Backup e Restaura\xE7\xE3o",keywords:null,icon:null},{id:"units-branches",label:"Unidades e Filiais",keywords:null,icon:null},{id:"service-plans",label:"Planos de Atendimento",keywords:null,icon:null},{id:"insurance-payers",label:"Conv\xEAnios e Pagadores",keywords:null,icon:null},{id:"procedure-tables",label:"Tabelas de Procedimentos",keywords:null,icon:null},{id:"user-registration",label:"Cadastro de Usu\xE1rios",keywords:null,icon:null},{id:"access-profiles",label:"Perfis de Acesso",keywords:null,icon:null},{id:"access-logs",label:"Logs de Acesso",keywords:null,icon:null},{id:"financial",label:"Financeiro",keywords:null,icon:null},{id:"contract-management",label:"Gest\xE3o de Contratos",keywords:null,icon:null},{id:"reports",label:"Relat\xF3rios",keywords:null,icon:null},{id:"user-permission-management",label:"Gerenciamento de Usu\xE1rios e Permiss\xF5es",keywords:null,icon:null},{id:"general-settings",label:"Configura\xE7\xF5es Gerais",keywords:null,icon:null},{id:"document-templates",label:"Modelos de Documentos",keywords:null,icon:null},{id:"api-integrations",label:"Integra\xE7\xF5es (APIs)",keywords:null,icon:null},{id:"backups-security",label:"Backups e Seguran\xE7a",keywords:null,icon:null},{id:"user-profiles",label:"Perfis de Usu\xE1rio",keywords:null,icon:null},{id:"permissions-access",label:"Permiss\xF5es e Acessos",keywords:null,icon:null},{id:"backup-security",label:"Backup e Seguran\xE7a",keywords:null,icon:null},{id:"audit-logs",label:"Logs de Auditoria",keywords:null,icon:null},{id:"customizations",label:"Customiza\xE7\xF5es",keywords:null,icon:null},{id:"system-maintenance",label:"Manuten\xE7\xE3o do Sistema",keywords:null,icon:null},{id:"system-maintenance",label:"Configura\xE7\xF5es Gerais",keywords:"configuracoes,gerais",icon:null},{id:"system-maintenance",label:"Integra\xE7\xF5es",keywords:"configuracoes,integracoes",icon:null},{id:"system-maintenance",label:"Seguran\xE7a",keywords:"configuracoes,seguranca",icon:null}]},{id:"scheduling",label:"Agendamento",icon:`<svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24">
<path d="M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z"></path>
</svg>`,children:[{id:"visit-calendar",label:"Calend\xE1rio de Visitas",keywords:null,icon:null},{id:"professional-schedules",label:"Escalas de Profissionais",keywords:null,icon:null},{id:"notifications-reminders",label:"Notifica\xE7\xF5es e Lembretes",keywords:null,icon:null},{id:"cancellation-management",label:"Gest\xE3o de Cancelamentos",keywords:null,icon:null},{id:"medical-schedule",label:"Agenda M\xE9dica",keywords:null,icon:null},{id:"nursing-schedule",label:"Agenda Enfermagem",keywords:null,icon:null},{id:"physiotherapy",label:"Fisioterapia",keywords:null,icon:null},{id:"nutrition",label:"Nutri\xE7\xE3o",keywords:null,icon:null},{id:"psychology",label:"Psicologia",keywords:null,icon:null},{id:"external-consultations",label:"Consultas Externas",keywords:null,icon:null},{id:"exams",label:"Exames",keywords:null,icon:null},{id:"rescheduling",label:"Reagendamentos",keywords:null,icon:null},{id:"staff-schedule",label:"Escala de Profissionais",keywords:null,icon:null},{id:"pending-appointments",label:"Atendimentos Pendentes",keywords:null,icon:null},{id:"visit-scheduling",label:"Agendamento de Visitas",keywords:null,icon:null},{id:"conflict-management",label:"Gerenciar Conflitos",keywords:null,icon:null},{id:"appointment-confirmations",label:"Confirma\xE7\xF5es de Agendamento",keywords:null,icon:null}]},{id:"support",label:"Suporte",icon:`<svg class="w-5 h-5" fill="currentColor" stroke="currentColor" viewbox="0 -960 960 960">
<path d="M440-120v-80h320v-284q0-117-81.5-198.5T480-764q-117 0-198.5 81.5T200-484v244h-40q-33 0-56.5-23.5T80-320v-80q0-21 10.5-39.5T120-469l3-53q8-68 39.5-126t79-101q47.5-43 109-67T480-840q68 0 129 24t109 66.5Q766-707 797-649t40 126l3 52q19 9 29.5 27t10.5 38v92q0 20-10.5 38T840-249v49q0 33-23.5 56.5T760-120H440Zm-80-280q-17 0-28.5-11.5T320-440q0-17 11.5-28.5T360-480q17 0 28.5 11.5T400-440q0 17-11.5 28.5T360-400Zm240 0q-17 0-28.5-11.5T560-440q0-17 11.5-28.5T600-480q17 0 28.5 11.5T640-440q0 17-11.5 28.5T600-400Zm-359-62q-7-106 64-182t177-76q89 0 156.5 56.5T720-519q-91-1-167.5-49T435-698q-16 80-67.5 142.5T241-462Z"></path>
</svg>`,children:[{id:"help-center",label:"Central de Ajuda",keywords:null,icon:null},{id:"open-ticket",label:"Abrir Chamado",keywords:null,icon:null},{id:"faqs",label:"FAQs",keywords:null,icon:null},{id:"tickets",label:"Chamados",keywords:null,icon:null},{id:"manuals",label:"Manuais",keywords:null,icon:null},{id:"service-center",label:"Central de Atendimento",keywords:null,icon:null},{id:"technical-requests",label:"Solicita\xE7\xF5es T\xE9cnicas",keywords:null,icon:null},{id:"suggestions-complaints",label:"Sugest\xF5es e Reclama\xE7\xF5es",keywords:null,icon:null},{id:"help-desk",label:"Central de Ajuda",keywords:"suporte,central",icon:null},{id:"contacts",label:"Contato",keywords:"suporte,contato",icon:null},{id:"frequently-asked-questions",label:"Sugest\xF5es e Reclama\xE7\xF5es",keywords:"suporte,faq",icon:null}]},{id:"movement",label:"Movimenta\xE7\xF5es",icon:`<svg class="w-5 h-5" fill="currentColor" stroke="currentColor" viewbox="0 -960 960 960">
<path d="m320-160-56-57 103-103H80v-80h287L264-503l56-57 200 200-200 200Zm320-240L440-600l200-200 56 57-103 103h287v80H593l103 103-56 57Z"></path>
</svg>`,children:[{id:"route-management",label:"Gest\xE3o de Rotas",keywords:null,icon:null},{id:"logistics-visit",label:"Log\xEDstica de Visitas",keywords:null,icon:null},{id:"medication-dispensing",label:"Dispensa\xE7\xE3o de Medicamentos",keywords:null,icon:null},{id:"inventory-control",label:"Controle de Estoque",keywords:null,icon:null},{id:"drug-interactions",label:"Intera\xE7\xF5es Medicamentosas",keywords:null,icon:null},{id:"pharmacovigilance",label:"Farmacovigil\xE2ncia",keywords:null,icon:null},{id:"treatment-adherence",label:"Ades\xE3o ao Tratamento",keywords:null,icon:null},{id:"medication-reconciliation",label:"Reconcilia\xE7\xE3o Medicamentosa",keywords:null,icon:null},{id:"special-medications",label:"Medicamentos Especiais",keywords:null,icon:null},{id:"receipts-incoming",label:"Recebimentos/Entrada",keywords:null,icon:null},{id:"outgoing",label:"Sa\xEDdas",keywords:null,icon:null},{id:"inventory",label:"Invent\xE1rio",keywords:null,icon:null},{id:"supply-request",label:"Solicita\xE7\xE3o de Suprimentos",keywords:null,icon:null},{id:"expiry-control",label:"Controle de Validade",keywords:null,icon:null},{id:"requests",label:"Solicita\xE7\xF5es",keywords:null,icon:null},{id:"stock-control",label:"Controle de Estoque",keywords:null,icon:null},{id:"material-request-delivery",label:"Solicita\xE7\xE3o e Entrega de Materiais",keywords:null,icon:null},{id:"equipment-registry",label:"Cadastro de Equipamentos",keywords:null,icon:null},{id:"preventive-maintenance",label:"Manuten\xE7\xE3o Preventiva",keywords:null,icon:null},{id:"corrective-maintenance",label:"Manuten\xE7\xE3o Corretiva",keywords:null,icon:null},{id:"usage-control",label:"Controle de Uso",keywords:null,icon:null},{id:"calibration",label:"Calibra\xE7\xE3o",keywords:null,icon:null},{id:"movement.pharmacy",label:"Farm\xE1cia Cl\xEDnica",icon:`<svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24">
<path d="M6,3A1,1 0 0,1 7,4V5H17V4A1,1 0 0,1 18,3A1,1 0 0,1 19,4V5H20A2,2 0 0,1 22,7V19A2,2 0 0,1 20,21H4A2,2 0 0,1 2,19V7A2,2 0 0,1 4,5H5V4A1,1 0 0,1 6,3M4,9V19H20V9H4M6,11H8V13H10V15H8V17H6V15H4V13H6V11Z"></path>
</svg>`,children:[{id:"medication-dispensing",label:"Dispensa\xE7\xE3o de Medicamentos",keywords:null,icon:null},{id:"inventory-control",label:"Controle de Estoque",keywords:null,icon:null},{id:"drug-interactions",label:"Intera\xE7\xF5es Medicamentosas",keywords:null,icon:null},{id:"pharmacovigilance",label:"Farmacovigil\xE2ncia",keywords:null,icon:null},{id:"treatment-adherence",label:"Ades\xE3o ao Tratamento",keywords:null,icon:null},{id:"medication-reconciliation",label:"Reconcilia\xE7\xE3o Medicamentosa",keywords:null,icon:null},{id:"special-medications",label:"Medicamentos Especiais",keywords:null,icon:null}]},{id:"movement.supply",label:"Suprimentos",icon:`<svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24">
<path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"></path>
</svg>`,children:[{id:"receipts-incoming",label:"Recebimentos/Entrada",keywords:null,icon:null},{id:"outgoing",label:"Sa\xEDdas",keywords:null,icon:null},{id:"inventory",label:"Invent\xE1rio",keywords:null,icon:null},{id:"supply-request",label:"Solicita\xE7\xE3o de Suprimentos",keywords:null,icon:null},{id:"expiry-control",label:"Controle de Validade",keywords:null,icon:null},{id:"requests",label:"Solicita\xE7\xF5es",keywords:null,icon:null},{id:"stock-control",label:"Controle de Estoque",keywords:null,icon:null},{id:"material-request-delivery",label:"Solicita\xE7\xE3o e Entrega de Materiais",keywords:null,icon:null}]}]},{id:"communication",label:"Comunica\xE7\xE3o",icon:`<svg fill="currentcolor" height="24px" viewbox="0 -960 960 960" width="24px" xmlns="http://www.w3.org/2000/svg">
<path d="M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm0-80h640v-480H160v480Zm0-480v480-480Zm80-80h480L480-530 240-720Zm-80 0v-80 560-480Z"></path>
</svg>`,children:[{id:"internal-messages",label:"Mensagens Internas",keywords:null,icon:null},{id:"notifications-alerts",label:"Notifica\xE7\xF5es e Alertas",keywords:null,icon:null},{id:"patient-family-portal",label:"Portal do Paciente/Fam\xEDlia",keywords:null,icon:null},{id:"team-chat",label:"Chat entre Equipes",keywords:null,icon:null},{id:"family-communication",label:"Comunica\xE7\xE3o com Fam\xEDlia",keywords:null,icon:null},{id:"teleconsultation",label:"Teleconsulta",keywords:null,icon:null},{id:"notifications",label:"Notifica\xE7\xF5es",keywords:null,icon:null},{id:"call-center",label:"Central de Atendimento",keywords:null,icon:null},{id:"patient-portal",label:"Portal do Paciente",keywords:null,icon:null}]},{id:"service",label:"Atendimentos",icon:`<svg fill="currentcolor" height="24px" viewbox="0 -960 960 960" width="24px" xmlns="http://www.w3.org/2000/svg">
<path d="M760-400v-260L560-800 360-660v60h-80v-100l280-200 280 200v300h-80ZM560-800Zm20 160h40v-40h-40v40Zm-80 0h40v-40h-40v40Zm80 80h40v-40h-40v40Zm-80 0h40v-40h-40v40ZM280-220l278 76 238-74q-5-9-14.5-15.5T760-240H558q-27 0-43-2t-33-8l-93-31 22-78 81 27q17 5 40 8t68 4q0-11-6.5-21T578-354l-234-86h-64v220ZM40-80v-440h304q7 0 14 1.5t13 3.5l235 87q33 12 53.5 42t20.5 66h80q50 0 85 33t35 87v40L560-60l-280-78v58H40Zm80-80h80v-280h-80v280Z"></path>
</svg>`,children:[{id:"visit-scheduling",label:"Agendamento de Visitas",keywords:null,icon:null},{id:"route-logistics-management",label:"Gest\xE3o de Rotas e Log\xEDstica",keywords:null,icon:null},{id:"visit-registry",label:"Registro de Visitas",keywords:null,icon:null},{id:"task-checklist",label:"Checklist de Tarefas",keywords:null,icon:null}]},{id:"integration",label:"Integra\xE7\xE3o",icon:`<svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24">
<path d="M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3H8M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z"></path>
</svg>`,children:[{id:"api-management",label:"API Management",keywords:null,icon:null},{id:"hl7-fhir",label:"HL7/FHIR",keywords:null,icon:null},{id:"hospital-system",label:"Sistema Hospitalar",keywords:null,icon:null},{id:"laboratories",label:"Laborat\xF3rios",keywords:null,icon:null},{id:"health-insurers",label:"Operadoras",keywords:null,icon:null},{id:"telemedicine",label:"Telemedicina",keywords:null,icon:null},{id:"rnds-national-network",label:"RNDS (Rede Nacional)",keywords:null,icon:null}]},{id:"quality_and_security",label:"Qualidade e Seguran\xE7a",icon:`<svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24">
<path d="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,7C13.4,7 14.8,8.6 14.8,10V11.5C15.4,11.5 16,12.1 16,12.7V16.2C16,16.8 15.4,17.3 14.8,17.3H9.2C8.6,17.3 8,16.8 8,16.2V12.7C8,12.1 8.6,11.5 9.2,11.5V10C9.2,8.6 10.6,7 12,7M12,8.2C11.2,8.2 10.5,8.7 10.5,10V11.5H13.5V10C13.5,8.7 12.8,8.2 12,8.2Z"></path>
</svg>`,children:[{id:"legal-documents-management",label:"Gest\xE3o de Documentos Legais",keywords:null,icon:null},{id:"quality-indicators",label:"Indicadores de Qualidade",keywords:null,icon:null},{id:"audits",label:"Auditorias",keywords:null,icon:null},{id:"adverse-events",label:"Eventos Adversos(0)",keywords:null,icon:null},{id:"clinical-protocols",label:"Protocolos Cl\xEDnicos(0)",keywords:null,icon:null},{id:"patient-satisfaction",label:"Satisfa\xE7\xE3o do Paciente",keywords:null,icon:null},{id:"accreditation",label:"Acredita\xE7\xE3o",keywords:null,icon:null}]},{id:"Compliance_and_regulation",label:"Compliance",icon:`<svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24">
<path d="M9,12L11,14L15,10L13,8L11,10L9,12M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4Z"></path>
</svg>`,children:[{id:"cfm-federal-council",label:"CFM - Conselho Federal",keywords:null,icon:null},{id:"anvisa",label:"ANVISA",keywords:null,icon:null},{id:"lgpd",label:"LGPD",keywords:null,icon:null},{id:"digital-certification",label:"Certifica\xE7\xE3o Digital",keywords:null,icon:null},{id:"regulatory-documents",label:"Documentos Regulat\xF3rios",keywords:null,icon:null},{id:"privacy-policies",label:"Pol\xEDticas de Privacidade",keywords:null,icon:null}]},{id:"audit_and_quality",label:"Auditoria e Qualidade",icon:`<svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24">
<path d="M12,2L1,21H23L12,2ZM13,18H11V16H13V18ZM13,14H11V10H13V14Z"></path>
</svg>`,children:[{id:"process-audit",label:"Auditoria de Processos",keywords:null,icon:null},{id:"non-conformance-registry",label:"Registro de N\xE3o Conformidades",keywords:null,icon:null},{id:"medical-records-audit",label:"Auditoria de Prontu\xE1rios",keywords:null,icon:null},{id:"adverse-events",label:"Eventos Adversos(1)",keywords:null,icon:null},{id:"clinical-protocols",label:"Protocolos Cl\xEDnicos(1)",keywords:null,icon:null}]},{id:"others",label:"Outros M\xF3dulos",icon:`<svg fill="currentcolor" height="24px" viewbox="0 -960 960 960" width="24px" xmlns="http://www.w3.org/2000/svg">
<path d="m260-520 220-360 220 360H260ZM700-80q-75 0-127.5-52.5T520-260q0-75 52.5-127.5T700-440q75 0 127.5 52.5T880-260q0 75-52.5 127.5T700-80Zm-580-20v-320h320v320H120Zm580-60q42 0 71-29t29-71q0-42-29-71t-71-29q-42 0-71 29t-29 71q0 42 29 71t71 29Zm-500-20h160v-160H200v160Zm202-420h156l-78-126-78 126Zm78 0ZM360-340Zm340 80Z"></path>
</svg>`,children:[{id:"contract-management",label:"Gest\xE3o de Contratos",keywords:null,icon:null},{id:"insurance-authorization-management",label:"Gest\xE3o de Conv\xEAnios e Autoriza\xE7\xF5es",keywords:null,icon:null},{id:"consent-terms-management",label:"Gest\xE3o de Consentimentos e Termos",keywords:null,icon:null},{id:"telemedicine-module",label:"M\xF3dulo de Telemedicina",keywords:null,icon:null},{id:"audit-management",label:"Gest\xE3o de Auditorias Internas/Externas",keywords:null,icon:null},{id:"satisfaction-survey",label:"Pesquisa de Satisfa\xE7\xE3o",keywords:null,icon:null}]}];dataTest=[{id:"nivel1",label:"Dashboard",icon:`<svg class="w-5 h-5" fill="currentColor" viewBox="0 -960 960 960">
                <path
                  d="M120-120v-240h240v240H120Zm0-360v-240h240v240H120Zm300 360v-360h240v360H420Zm0-420v-180h240v180H420Zm300 420v-480h240v480H720Zm0-540v-120h240v120H720Z" />
              </svg>`,children:null},{id:"nivel2",label:"Gest\xE3o de Usu\xE1rios",icon:null,children:[{id:"nivel2.1",label:"Lista de Usu\xE1rios",icon:null,children:null},{id:"nivel2.2",label:"Permiss\xF5es",icon:null,children:[{id:"nivel2.2.1",label:"Visualizar",icon:null,children:null},{id:"nivel2.2.2",label:"Editar",icon:null,children:null}]}]},{id:"nivel3",label:"Financeiro",icon:null,children:[{id:"nivel3.1",label:"Relat\xF3rios",icon:null,children:[{id:"nivel3.1.1",label:"Mensal",icon:null,children:[{id:"nivel3.1.1.1",label:"Janeiro",icon:null,children:null},{id:"nivel3.1.1.2",label:"Fevereiro",icon:null,children:null}]}]},{id:"nivel3.2",label:"Pagamentos",icon:null,children:null}]},{id:"nivel4",label:"Recursos Humanos",icon:null,children:[{id:"nivel4.1",label:"Funcion\xE1rios",icon:null,children:[{id:"nivel4.1.1",label:"Ativos",icon:null,children:[{id:"nivel4.1.1.1",label:"Administra\xE7\xE3o",icon:null,children:[{id:"nivel4.1.1.1.1",label:"Secretaria",icon:null,children:null}]}]}]},{id:"nivel4.2",label:"Folha de Pagamento",icon:null,children:null}]},{id:"nivel5",label:"Configura\xE7\xF5es",icon:'<svg class="w-5 h-5" fill="currentColor" stroke="currentColor" viewBox="0 0 24 24"><path d="M12 1a2 2 0 012 2v1.07a7.007 7.007 0 014.243 2.586l.757-.757a2 2 0 112.828 2.828l-.757.757A7.007 7.007 0 0120.93 12H22a2 2 0 012 2v2a2 2 0 01-2 2h-1.07a7.007 7.007 0 01-2.586 4.243l.757.757a2 2 0 11-2.828 2.828l-.757-.757A7.007 7.007 0 0112 20.93V22a2 2 0 01-2 2h-2a2 2 0 01-2-2v-1.07a7.007 7.007 0 01-4.243-2.586l-.757.757a2 2 0 11-2.828-2.828l.757-.757A7.007 7.007 0 013.07 14H2a2 2 0 01-2-2v-2a2 2 0 012-2h1.07a7.007 7.007 0 012.586-4.243l-.757-.757a2 2 0 112.828-2.828l.757.757A7.007 7.007 0 0112 3.07V2a2 2 0 012-2z"/></svg>',children:[{id:"nivel5.1",label:"Geral",icon:null,children:null},{id:"nivel5.2",label:"Notifica\xE7\xF5es",icon:null,children:null},{id:"nivel5.3",label:"Sistema",icon:null,children:[{id:"nivel5.3.1",label:"Logs",icon:null,children:null}]}]}];menuItems=[{id:"paciente",label:"Paciente",icon:"user",children:[{id:"registration-patient",label:"Cadastro de Pacientes"}]},{id:"prescricao",label:"Prescri\xE7\xE3o",icon:"document",children:[{id:"prescricao-medica",label:"M\xE9dica"},{id:"prescricao.suprimentos",label:"Suprimentos",icon:"user",children:[{id:"suprimentos-entrada",label:"Recebimentos/Entrada"},{id:"prescricao.suprimentos-saidas",label:"Sa\xEDdas..",children:[{id:"suprimentos-saida-com-nota",label:"Sa\xEDda com nota"},{id:"suprimentos-saida-sem-nota",label:"Sa\xEDda sem nota"}]},{id:"suprimentos-inventario",label:"Invent\xE1rio"}]},{id:"central-atendimento",label:"Central Atendimento"}]},{id:"movimentacoes",label:"Movimenta\xE7\xF5es",icon:"document",children:[{id:"rota-pacientes",label:"Rota Pacientes"},{id:"movimentacoes-enfermagem",label:"Enfermagem"},{id:"nutricional",label:"Nutricional"}]},{id:"evolucoes",label:"Evolu\xE7\xF5es",icon:"clipboard",children:[{id:"evolucao-medica",label:"Evolu\xE7\xE3o M\xE9dica"},{id:"evolucao-enfermagem",label:"Evolu\xE7\xE3o de Enfermagem"}]}];static \u0275fac=function(n){return new(n||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ve=t=>({$implicit:t}),R0=t=>({$implicit:t,defaultClass:"."}),D0=()=>({}),mt=(t,r)=>r.id;function L0(t,r){if(t&1&&(s(0,"span",16),u(1),a()),t&2){let e=m();c(),S(" ",e.favoritesService.favoritesCount()," ")}}function V0(t,r){if(t&1){let e=I();s(0,"li")(1,"div",28)(2,"a",29)(3,"span"),u(4),a(),v(),s(5,"svg",30),_("click",function(i){let o=b(e).$implicit,l=m();return w(l.toggleFavorite(o.id,i))}),s(6,"title"),u(7,"remover favoritos"),a(),f(8,"path",15),a()()()()}if(t&2){let e=r.$implicit;c(2),p("href",e.href||"#",de),c(2),L(e.label)}}function O0(t,r){t&1&&pe(0)}function q0(t,r){t&1&&pe(0)}function F0(t,r){t&1&&pe(0)}function H0(t,r){t&1&&pe(0)}function P0(t,r){t&1&&pe(0)}function B0(t,r){if(t&1&&g(0,P0,1,0,"ng-container",32),t&2){let e=r.$implicit;m(9);let n=te(55);p("ngTemplateOutlet",n)("ngTemplateOutletContext",ae(2,Ve,e))}}function j0(t,r){if(t&1&&(s(0,"li")(1,"details",18),g(2,H0,1,0,"ng-container",32),s(3,"ul",33),N(4,B0,1,4,"ng-container",null,mt),a()()()),t&2){let e,n=m().$implicit,i=m(7),o=te(57);c(),p("open",(e=i.sidebarService.openSubmenu())==null?null:e.startsWith(n.id)),c(),p("ngTemplateOutlet",o)("ngTemplateOutletContext",ae(3,Ve,n)),c(2),$(n.children)}}function Z0(t,r){t&1&&pe(0)}function U0(t,r){if(t&1&&g(0,Z0,1,0,"ng-container",32),t&2){let e=m().$implicit;m(7);let n=te(55);p("ngTemplateOutlet",n)("ngTemplateOutletContext",ae(2,Ve,e))}}function N0(t,r){if(t&1&&g(0,j0,6,5,"li")(1,U0,1,4,"ng-container"),t&2){let e=r.$implicit;E(e.children&&e.children.length>0?0:1)}}function $0(t,r){if(t&1&&(s(0,"li")(1,"details",18),g(2,F0,1,0,"ng-container",32),s(3,"ul",33),N(4,N0,2,1,null,null,mt),a()()()),t&2){let e,n=m().$implicit,i=m(5),o=te(57);c(),p("open",(e=i.sidebarService.openSubmenu())==null?null:e.startsWith(n.id)),c(),p("ngTemplateOutlet",o)("ngTemplateOutletContext",ae(3,Ve,n)),c(2),$(n.children)}}function G0(t,r){t&1&&pe(0)}function z0(t,r){if(t&1&&g(0,G0,1,0,"ng-container",32),t&2){let e=m().$implicit;m(5);let n=te(55);p("ngTemplateOutlet",n)("ngTemplateOutletContext",ae(2,Ve,e))}}function W0(t,r){if(t&1&&g(0,$0,6,5,"li")(1,z0,1,4,"ng-container"),t&2){let e=r.$implicit;E(e.children&&e.children.length>0?0:1)}}function K0(t,r){if(t&1&&(s(0,"li")(1,"details",18),g(2,q0,1,0,"ng-container",32),s(3,"ul",33),N(4,W0,2,1,null,null,mt),a()()()),t&2){let e,n=m().$implicit,i=m(3),o=te(57);c(),p("open",(e=i.sidebarService.openSubmenu())==null?null:e.startsWith(n.id)),c(),p("ngTemplateOutlet",o)("ngTemplateOutletContext",ae(3,Ve,n)),c(2),$(n.children)}}function Q0(t,r){t&1&&pe(0)}function Y0(t,r){if(t&1&&g(0,Q0,1,0,"ng-container",32),t&2){let e=m().$implicit;m(3);let n=te(55);p("ngTemplateOutlet",n)("ngTemplateOutletContext",ae(2,Ve,e))}}function J0(t,r){if(t&1&&g(0,K0,6,5,"li")(1,Y0,1,4,"ng-container"),t&2){let e=r.$implicit;E(e.children&&e.children.length>0?0:1)}}function X0(t,r){if(t&1&&(s(0,"li")(1,"details",18),g(2,O0,1,0,"ng-container",32),s(3,"ul",33),N(4,J0,2,1,null,null,mt),a()()()),t&2){let e,n,i=m().$implicit,o=m(),l=te(57);B("bg-base-100",(e=o.sidebarService.openSubmenu())==null?null:e.startsWith(i.id)),c(),p("open",(n=o.sidebarService.openSubmenu())==null?null:n.startsWith(i.id)),c(),p("ngTemplateOutlet",l)("ngTemplateOutletContext",ae(5,Ve,i)),c(2),$(i.children)}}function ec(t,r){t&1&&pe(0)}function tc(t,r){if(t&1&&(s(0,"div"),g(1,ec,1,0,"ng-container",32),a()),t&2){let e=m().$implicit;m();let n=te(55);se("data-menu-id",e.id)("data-keywords",e.keywords),c(),p("ngTemplateOutlet",n)("ngTemplateOutletContext",ae(4,R0,e))}}function nc(t,r){if(t&1&&g(0,X0,6,7,"li",31)(1,tc,2,6,"div"),t&2){let e=r.$implicit;E(e.children&&e.children.length>0?0:1)}}function ic(t,r){if(t&1&&f(0,"div",36),t&2){let e=m().$implicit,n=m();p("innerHTML",n.sanitize(e.href?e.icon.replace("currentcolor","green"):e.icon),Vt)}}function rc(t,r){if(t&1){let e=I();s(0,"li",34)(1,"a",35)(2,"div",13),g(3,ic,1,1,"div",36),s(4,"span"),u(5),a()(),v(),s(6,"svg",37),_("click",function(i){let o=b(e).$implicit,l=m();return w(l.toggleFavorite(o.id,i))}),s(7,"title"),u(8),a(),f(9,"use",38),a()()()}if(t&2){let e,n=r.$implicit,i=r.defaultClass,o=m();p("routerLink",n.href?n.href:"")("queryParams",(e=n.queryParams)!==null&&e!==void 0?e:mi(12,D0))("ngClass",i||"tree-item"),se("data-menu-id",n.id)("data-keywords",n.keywords),c(3),E(n.icon?3:-1),c(2),L(n.label),c(),B("star-filled",o.favoritesService.isFavorite(n.id))("star-empty",!o.favoritesService.isFavorite(n.id)),c(2),S(" ",o.favoritesService.isFavorite(n.id)?"remover":"incluir"," favoritos ")}}function oc(t,r){if(t&1&&f(0,"div",36),t&2){let e=m().$implicit,n=m();p("innerHTML",n.sanitize(e.icon),Vt)}}function sc(t,r){t&1&&f(0,"div",41)}function ac(t,r){if(t&1){let e=I();s(0,"summary",39),_("click",function(i){let o=b(e).$implicit,l=m();return w(l.toggleSubmenu(i,o.id))}),s(1,"div",40),g(2,oc,1,1,"div",36)(3,sc,1,0,"div",41),s(4,"span"),u(5),a()()()}if(t&2){let e=r.$implicit;c(2),E(e.icon?2:3),c(3),L(e.label)}}var lo=(()=>{class t{maxFavorites=5;sidebarService=M(ut);iconService=M(oo);favoritesService=M(ro);allMenuItems=new Map;toggleMenuFavorites=y(!1);sanitizer=M(Ht);favoriteItems=H(()=>this.favoritesService.getFavoriteIds().map(n=>this.allMenuItems.get(n)).filter(Boolean));menuDataService=M(ao);menuItems=this.menuDataService.loadMenuData();constructor(){this.buildMenuItemsMap(),le(()=>{this.favoritesService.getFavoriteIds().length>0&&this.toggleMenuFavorites.set(!0)})}toggleSubmenu(e,n){e.preventDefault(),this.sidebarService.toggleSubmenu(n)}toggleFavorite(e,n){if(n.preventDefault(),n.stopPropagation(),!this.favoritesService.isFavorite(e)&&this.favoritesService.favoritesCount()>=this.maxFavorites){alert(`Limite m\xE1ximo de ${this.maxFavorites} favoritos atingido!`);return}this.favoritesService.toggleFavorite(e)}buildMenuItemsMap(){let e=n=>{n.forEach(i=>{this.allMenuItems.set(i.id,i),i.children&&e(i.children)})};e(this.menuItems)}sanitize(e){return this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=j({type:t,selectors:[["wcm-menu"]],decls:58,vars:7,consts:[["menuItem",""],["summary",""],[1,"p-2"],[1,"fieldset","bg-base-200","border-base-300","rounded-box","border"],[1,"fieldset-legend"],["type","text","id","search","placeholder","Pesquisar...","appKeywordFilter","",1,"input"],["id","principal-menu",1,"menu","p-2","text-base-content","size-full"],["href","#",1,"hover:bg-base-200","rounded-lg","p-2","cursor-pointer","flex","items-center","justify-between","w-full"],[1,"flex","items-center","gap-2"],["fill","currentColor","viewBox","0 -960 960 960",1,"w-5","h-5"],["d","M120-120v-240h240v240H120Zm0-360v-240h240v240H120Zm300 360v-360h240v360H420Zm0-420v-180h240v180H420Zm300 420v-480h240v480H720Zm0-540v-120h240v120H720Z"],["id","favorites-section",3,"open"],[1,"flex","items-center","justify-between","hover:bg-base-200","rounded-lg","p-2","cursor-pointer",3,"click"],[1,"flex","items-center","gap-1"],["fill","currentColor","viewBox","0 0 24 24",1,"star-filled","w-5","h-5"],["d","M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"],[1,"favorites-counter"],[1,"ml-4"],[3,"open"],["fill","currentColor","stroke","currentColor","viewBox","0 -960 960 960",1,"w-5","h-5"],["d","M480-120q-138 0-240.5-91.5T122-440h82q14 104 92.5 172T480-200q117 0 198.5-81.5T760-480q0-117-81.5-198.5T480-760q-69 0-129 32t-101 88h110v80H120v-240h80v94q51-64 124.5-99T480-840q75 0 140.5 28.5t114 77q48.5 48.5 77 114T840-480q0 75-28.5 140.5t-77 114q-48.5 48.5-114 77T480-120Zm112-192L440-464v-216h80v184l128 128-56 56Z"],["data-keywords","recursos,humano,profissional"],["href","#",1,"hover:bg-base-200","rounded","p-2"],["data-keywords","perfil,usuario"],["data-keywords","mensagem"],["data-keywords","auditoria,log"],["data-keywords","documentos,paciente"],[1,"overflow-y-auto","max-h-96","scrollbar-thin","scrollbar-thumb-base-300","scrollbar-track-base-100","border-t-2","border-currentcolor","border-dashed"],[1,"favorites-menu-container"],[1,"favorites-menu-link",3,"href"],["star","filled",3,"click"],[3,"bg-base-100"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tree-line"],[3,"routerLink","queryParams","ngClass"],[1,"hover:bg-base-300","rounded-lg","pl-[22px]","pr-0","cursor-pointer","flex","items-center","justify-between","w-full"],[3,"innerHTML"],["star","",3,"click"],["href","icons.svg#star"],[1,"summary-line",3,"click"],[1,"summary-item-line"],[1,"w-5","h-5"]],template:function(n,i){if(n&1){let o=I();s(0,"div",2)(1,"fieldset",3)(2,"legend",4),u(3,"Pesquisa de Menu"),a(),f(4,"input",5),a()(),s(5,"div")(6,"ul",6)(7,"li")(8,"a",7)(9,"div",8),v(),s(10,"svg",9),f(11,"path",10),a(),T(),s(12,"span"),u(13,"Dashboard"),a()()()(),s(14,"li")(15,"details",11)(16,"summary",12),_("click",function(){return b(o),w(i.toggleMenuFavorites.set(!i.toggleMenuFavorites()))}),s(17,"div",13),v(),s(18,"svg",14),f(19,"path",15),a(),T(),s(20,"span"),u(21,"Favoritos"),a(),g(22,L0,2,1,"span",16),a()(),s(23,"ul",17),N(24,V0,9,2,"li",null,mt),a()()(),s(26,"li")(27,"details",18)(28,"summary",12),_("click",function(d){return b(o),w(i.toggleSubmenu(d,"historical"))}),s(29,"div",8),v(),s(30,"svg",19),f(31,"path",20),a(),T(),s(32,"span"),u(33,"Hist\xF3rico"),a()()(),s(34,"ul",17)(35,"li",21)(36,"a",22),u(37,"RH"),a()(),s(38,"li",23)(39,"a",22),u(40,"Perfis de Usu\xE1rios"),a()(),s(41,"li",24)(42,"a",22),u(43,"Mensagens"),a()(),s(44,"li",25)(45,"a",22),u(46,"Logs de Auditoria"),a()(),s(47,"li",26)(48,"a",22),u(49,"Hist\xF3rico de Documentos"),a()()()()(),s(50,"div",27),qt(51),N(52,nc,2,1,null,null,mt),Ft(),a()()(),g(54,rc,10,13,"ng-template",null,0,Fe)(56,ac,6,2,"ng-template",null,1,Fe)}if(n&2){let o,l;c(14),B("bg-base-100",i.toggleMenuFavorites()),c(),p("open",i.toggleMenuFavorites()),c(7),E(i.favoritesService.favoritesCount()>0?22:-1),c(2),$(i.favoriteItems()),c(2),B("bg-base-100",(o=i.sidebarService.openSubmenu())==null?null:o.startsWith("historical")),c(),p("open",(l=i.sidebarService.openSubmenu())==null?null:l.startsWith("historical")),c(25),$(i.menuItems)}},dependencies:[io,so,Ut,Ci,G,ke],styles:[`@charset "UTF-8";.summary-line[_ngcontent-%COMP%]{padding:calc(var(--spacing) * 2)}.summary-item-line[_ngcontent-%COMP%]{display:flex;align-items:center;gap:calc(var(--spacing) * 1);margin-left:calc(var(--spacing) * 3)}.summary-line[_ngcontent-%COMP%]:before{content:"";position:absolute;left:15px;top:0;bottom:0;width:4px;background-color:currentColor;opacity:.6;border-radius:2px}.tree-item[_ngcontent-%COMP%]{--tree-line-color: currentColor;--tree-line-styles: bg-current opacity-30}.tree-line[_ngcontent-%COMP%]:before{content:"";position:absolute;left:12px;top:0;bottom:0;width:2px;background-color:currentColor;opacity:.3}.tree-item[_ngcontent-%COMP%]:before{content:"";position:absolute;left:6px;top:50%;width:15px;height:2px;background-color:currentColor;opacity:.3}.tree-item[_ngcontent-%COMP%]:last-child:after{content:"";position:absolute;left:4px;top:50%;bottom:0;width:2px;background-color:var(--color-base-100);background-image:radial-gradient(circle at right top,currentColor 2px,transparent 0);z-index:1}.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:calc(100% - 23px);padding:4px 4px 4px 0;border-radius:8px;margin-left:25px}.menu-item[_ngcontent-%COMP%]:hover{background-color:var(--color-base-200)}.menu-item-2[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:calc(100% - 23px);padding:4px 4px 4px 0;border-radius:8px;margin-left:25px}.favorites-menu-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding-right:0}.favorites-menu-container[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-7px;top:50%;width:15px;height:1px;background-color:currentColor;opacity:.1}.favorites-menu-link[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;justify-content:space-between}.star-icon[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s ease;padding:2px;border-radius:4px}.star-icon[_ngcontent-%COMP%]:hover{background-color:#0000001a;transform:scale(1.1)}.star-filled[_ngcontent-%COMP%]{color:#fbbf24}.star-empty[_ngcontent-%COMP%]{color:#d1d5db}.favorites-counter[_ngcontent-%COMP%]{font-size:.75rem;background-color:red;color:#fff;border-radius:50%;min-width:1.25rem;height:1.25rem;display:flex;align-items:center;justify-content:center;margin-left:8px}

`]})}return t})();function lc(t,r){t&1&&(s(0,"h2",14),u(1,"Bem-vindo ao WebCareManager!"),a(),s(2,"p",15),u(3,"Seja bem-vindo ao WebCareManager, um sistema de gerenciamento de pacientes e consultas."),a())}var co=(()=>{class t{title="WebCareManager";sharedService=M(dn);sidebarService=M(ut);router=M(ki);tracker=M(Ni);isFirstVisit=this.tracker.isFirstVisit;isMessageDrawerOpen=!1;toggleMessageDrawer(){this.isMessageDrawerOpen=!this.isMessageDrawerOpen}closeMessageDrawer(){this.isMessageDrawerOpen=!1}ngOnInit(){let e=this.router.url;this.tracker.markVisited(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=j({type:t,selectors:[["wcm-root"]],decls:23,vars:4,consts:[["id","appComponent",1,"min-h-screen","bg-base-100"],[1,"flex"],[1,"flex-1","flex","flex-col"],[1,"flex-shrink-0","p-2","border-t","border-base-200"],[1,"w-full","btn","btn-error","btn-sm","flex","items-center","justify-center","gap-2","hover:btn-error-focus","transition-colors","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"],[3,"messageIconClicked"],[1,"flex-1","p-2"],[1,"card","bg-base-100","shadow-sm","border","border-base-200","min-h-96"],[1,"card-body","p-1"],[1,"mt-0","p-0","bg-base-200","rounded-lg"],[1,"flex-shrink-0","rounded-t-xl","border-t","border-base-200","bg-base-300"],[3,"close","isOpen"],[1,"card-title","text-base-content"],[1,"text-base-content"]],template:function(n,i){n&1&&(s(0,"div",0)(1,"div",1)(2,"div")(3,"div",2),f(4,"wcm-menu"),a(),s(5,"div",3)(6,"button",4),_("click",function(){return i.sharedService.logout()}),v(),s(7,"svg",5),f(8,"path",6),a(),T(),s(9,"span"),u(10,"Logout"),a()()()(),s(11,"div",2)(12,"wcm-header",7),_("messageIconClicked",function(){return i.toggleMessageDrawer()}),a(),s(13,"main",8)(14,"div",9)(15,"div",10),g(16,lc,4,0),s(17,"div",11),f(18,"router-outlet"),a()()()(),s(19,"footer",12),f(20,"wcm-footer"),a()()()(),s(21,"app-message-drawer",13),_("close",function(){return i.closeMessageDrawer()}),a(),f(22,"app-modal-container")),n&2&&(c(2),F("bg-base-300 transition-all duration-300 overflow-hidden min-h-screen flex flex-col "+(i.sidebarService.isVisible()?"ffw-66":"w-0")),c(14),E(i.isFirstVisit()?-1:16),c(5),p("isOpen",i.isMessageDrawerOpen))},dependencies:[Mi,Ti,Re,G,no,to,lo,wr,Ui],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;width:100%}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden}.transition-all[_ngcontent-%COMP%]{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}']})}return t})();Ii();_i(co,Jr).catch(t=>console.error(t));
