import{a as g}from"./chunk-JY2UFUSU.js";import{g as R,h as N,j as G}from"./chunk-JMGSQSON.js";import"./chunk-5267M4YT.js";import{k as z,l as I,w as A}from"./chunk-RLCM72IK.js";import{Ec as L,Fc as V,Ib as F,Jb as b,Ra as a,Ta as H,Vb as n,Wb as c,Xb as f,Ya as T,ab as D,cb as M,dc as l,ga as x,gb as h,ob as r,qa as p,ra as v,xb as e,yb as t,zb as m}from"./chunk-27GLVKKX.js";var j=(()=>{class i{authService=x(g);templateRef=x(H);viewContainer=x(T);permissionConfig=null;set appHasPermission(o){this.permissionConfig=o,this.updateView()}constructor(){V(()=>{this.authService.userPermissions(),this.updateView()})}updateView(){if(!this.permissionConfig)return;let o=this.authService.hasPermission(this.permissionConfig.module,this.permissionConfig.field||"*",this.permissionConfig.permission);this.viewContainer.clear(),o&&this.viewContainer.createEmbeddedView(this.templateRef)}static \u0275fac=function(d){return new(d||i)};static \u0275dir=M({type:i,selectors:[["","appHasPermission",""]],inputs:{appHasPermission:"appHasPermission"}})}return i})();var _=()=>({module:"cad_patients",permission:"R"}),E=()=>({module:"cad_professionals",permission:"R"}),w=()=>({module:"appointments",permission:"R"}),P=()=>({module:"treatments",permission:"R"}),k=()=>({module:"reports",permission:"R"}),B=()=>({module:"cad_patients",permission:"C"}),W=()=>({module:"appointments",permission:"C"});function O(i,s){i&1&&(e(0,"li")(1,"a",48),n(2,"Pacientes"),t()())}function $(i,s){i&1&&(e(0,"li")(1,"a",49),n(2,"Profissionais"),t()())}function q(i,s){i&1&&(e(0,"li")(1,"a",50),n(2,"Agendamentos"),t()())}function J(i,s){i&1&&(e(0,"li")(1,"a",51),n(2,"Tratamentos"),t()())}function K(i,s){i&1&&(e(0,"li")(1,"a",52),n(2,"Relat\xF3rios"),t()())}function Q(i,s){i&1&&(e(0,"li")(1,"a",53),p(),e(2,"svg",54),m(3,"path",55),t(),n(4," Pacientes "),t()())}function X(i,s){i&1&&(e(0,"li")(1,"a",56),p(),e(2,"svg",54),m(3,"path",57),t(),n(4," Profissionais "),t()())}function Y(i,s){i&1&&(e(0,"li")(1,"a",58),p(),e(2,"svg",54),m(3,"path",59),t(),n(4," Agendamentos "),t()())}function Z(i,s){i&1&&(e(0,"li")(1,"a",60),p(),e(2,"svg",54),m(3,"path",61),t(),n(4," Tratamentos "),t()())}function ee(i,s){i&1&&(e(0,"li")(1,"a",62),p(),e(2,"svg",54),m(3,"path",63),t(),n(4," Relat\xF3rios "),t()())}function te(i,s){if(i&1&&(e(0,"div",64)(1,"div",65),p(),e(2,"svg",66),m(3,"path",67),t()(),v(),e(4,"div",68),n(5,"Total de Pacientes"),t(),e(6,"div",69),n(7),t(),e(8,"div",70),n(9),t()()),i&2){let o=b();a(7),c(o.stats().totalPatients),a(2),f("",o.stats().newPatientsThisMonth," novos este m\xEAs")}}function ie(i,s){if(i&1&&(e(0,"div",64)(1,"div",71),p(),e(2,"svg",66),m(3,"path",72),t()(),v(),e(4,"div",68),n(5,"Agendamentos Hoje"),t(),e(6,"div",73),n(7),t(),e(8,"div",70),n(9),t()()),i&2){let o=b();a(7),c(o.stats().appointmentsToday),a(2),f("",o.stats().pendingAppointments," pendentes")}}function ne(i,s){if(i&1&&(e(0,"div",64)(1,"div",74),p(),e(2,"svg",66),m(3,"path",75),t()(),v(),e(4,"div",68),n(5,"Tratamentos Ativos"),t(),e(6,"div",76),n(7),t(),e(8,"div",70),n(9),t()()),i&2){let o=b();a(7),c(o.stats().activeTreatments),a(2),f("",o.stats().completedTreatments," finalizados")}}function ae(i,s){if(i&1&&(e(0,"div",64)(1,"div",77),p(),e(2,"svg",66),m(3,"path",78),t()(),v(),e(4,"div",68),n(5,"Profissionais"),t(),e(6,"div",79),n(7),t(),e(8,"div",70),n(9),t()()),i&2){let o=b();a(7),c(o.stats().totalProfessionals),a(2),f("",o.stats().activeProfessionals," ativos")}}function oe(i,s){i&1&&(e(0,"button",80),p(),e(1,"svg",81),m(2,"path",82),t(),n(3," Novo Paciente "),t())}function re(i,s){i&1&&(e(0,"button",83),p(),e(1,"svg",81),m(2,"path",84),t(),n(3," Novo Agendamento "),t())}function se(i,s){i&1&&(e(0,"button",85),p(),e(1,"svg",81),m(2,"path",63),t(),n(3," Relat\xF3rios "),t())}function le(i,s){if(i&1&&(e(0,"div",90),n(1),t()),i&2){let o=s.$implicit;a(),f(" ",o.toString()," ")}}function me(i,s){if(i&1&&(e(0,"div",86)(1,"div",41)(2,"h3",87),n(3,"Debug - Permiss\xF5es do Usu\xE1rio"),t(),e(4,"div",88),h(5,le,2,1,"div",89),t()()()),i&2){let o=b();a(5),r("ngForOf",o.authService.userPermissions())}}var we=(()=>{class i{authService=x(g);stats=L(()=>({totalPatients:147,newPatientsThisMonth:12,appointmentsToday:8,pendingAppointments:3,activeTreatments:25,completedTreatments:89,totalProfessionals:15,activeProfessionals:12}));showDebugPanel=!1;getUserInitials(){let o=this.authService.currentUser()?.fullName||"",d=o.split(" ");return d.length>=2?(d[0][0]+d[1][0]).toUpperCase():o.substring(0,2).toUpperCase()}getFirstName(){return(this.authService.currentUser()?.fullName||"").split(" ")[0]}getCurrentProfileNames(){return this.authService.userProfiles().map(d=>d.profileName).join(", ")}logout(){this.authService.logout()}static \u0275fac=function(d){return new(d||i)};static \u0275cmp=D({type:i,selectors:[["app-dashboard"]],decls:76,vars:41,consts:[[1,"min-h-screen","bg-base-200"],[1,"navbar","bg-base-100","shadow-lg"],[1,"navbar-start"],[1,"dropdown"],["tabindex","0","role","button",1,"btn","btn-ghost","lg:hidden"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h8m-8 6h16"],[1,"menu","menu-sm","dropdown-content","bg-base-100","rounded-box","z-[1]","mt-3","w-52","p-2","shadow"],[4,"appHasPermission"],[1,"flex","items-center","space-x-3"],[1,"w-8","h-8","bg-primary","rounded-lg","flex","items-center","justify-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","text-white"],["fill-rule","evenodd","d","M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"],[1,"font-bold","text-xl"],[1,"navbar-center","hidden","lg:flex"],[1,"menu","menu-horizontal","px-1","space-x-2"],[1,"navbar-end"],[1,"dropdown","dropdown-end"],["tabindex","0","role","button",1,"btn","btn-ghost","btn-circle","avatar","placeholder"],[1,"bg-primary","text-white","rounded-full","w-10"],[1,"text-lg"],[1,"menu","dropdown-content","bg-base-100","rounded-box","z-[1]","mt-3","w-72","p-2","shadow-lg"],[1,"menu-title"],[1,"flex","flex-col"],[1,"text-base","font-semibold"],[1,"text-sm","opacity-70"],[1,"text-xs","opacity-50"],["routerLink","/profile"],["routerLink","/settings"],[1,"my-2"],[1,"text-error",3,"click"],[1,"container","mx-auto","p-6"],[1,"hero","bg-gradient-to-r","from-primary","to-secondary","text-white","rounded-2xl","mb-8"],[1,"hero-content","text-center","py-12"],[1,"max-w-md"],[1,"text-4xl","font-bold"],[1,"py-6"],[1,"badge","badge-outline","badge-lg"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],["class","stat bg-base-100 rounded-xl shadow-sm",4,"appHasPermission"],[1,"card","bg-base-100","shadow-xl"],[1,"card-body"],[1,"card-title","mb-6"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],["class","btn btn-outline btn-lg h-24 flex-col","routerLink","/patients/new",4,"appHasPermission"],["class","btn btn-outline btn-lg h-24 flex-col","routerLink","/appointments/new",4,"appHasPermission"],["class","btn btn-outline btn-lg h-24 flex-col","routerLink","/reports",4,"appHasPermission"],["class","card bg-base-200 mt-8",4,"ngIf"],["routerLink","/patients"],["routerLink","/professionals"],["routerLink","/appointments"],["routerLink","/treatments"],["routerLink","/reports"],["routerLink","/patients","routerLinkActive","bg-primary text-white",1,"btn","btn-ghost","btn-sm"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["routerLink","/professionals","routerLinkActive","bg-primary text-white",1,"btn","btn-ghost","btn-sm"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],["routerLink","/appointments","routerLinkActive","bg-primary text-white",1,"btn","btn-ghost","btn-sm"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],["routerLink","/treatments","routerLinkActive","bg-primary text-white",1,"btn","btn-ghost","btn-sm"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],["routerLink","/reports","routerLinkActive","bg-primary text-white",1,"btn","btn-ghost","btn-sm"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"stat","bg-base-100","rounded-xl","shadow-sm"],[1,"stat-figure","text-primary"],["fill","currentColor","viewBox","0 0 20 20",1,"w-8","h-8"],["fill-rule","evenodd","d","M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"],[1,"stat-title"],[1,"stat-value","text-primary"],[1,"stat-desc"],[1,"stat-figure","text-secondary"],["fill-rule","evenodd","d","M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1z"],[1,"stat-value","text-secondary"],[1,"stat-figure","text-accent"],["d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"stat-value","text-accent"],[1,"stat-figure","text-warning"],["d","M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"],[1,"stat-value","text-warning"],["routerLink","/patients/new",1,"btn","btn-outline","btn-lg","h-24","flex-col"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","mb-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],["routerLink","/appointments/new",1,"btn","btn-outline","btn-lg","h-24","flex-col"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2-2v12a2 2 0 002 2z"],["routerLink","/reports",1,"btn","btn-outline","btn-lg","h-24","flex-col"],[1,"card","bg-base-200","mt-8"],[1,"card-title","text-sm"],[1,"text-xs","space-y-1"],["class","badge badge-sm",4,"ngFor","ngForOf"],[1,"badge","badge-sm"]],template:function(d,u){if(d&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),p(),e(5,"svg",5),m(6,"path",6),t()(),v(),e(7,"ul",7),h(8,O,3,0,"li",8)(9,$,3,0,"li",8)(10,q,3,0,"li",8)(11,J,3,0,"li",8)(12,K,3,0,"li",8),t()(),e(13,"div",9)(14,"div",10),p(),e(15,"svg",11),m(16,"path",12),t()(),v(),e(17,"span",13),n(18,"HomeCare System"),t()()(),e(19,"div",14)(20,"ul",15),h(21,Q,5,0,"li",8)(22,X,5,0,"li",8)(23,Y,5,0,"li",8)(24,Z,5,0,"li",8)(25,ee,5,0,"li",8),t()(),e(26,"div",16)(27,"div",17)(28,"div",18)(29,"div",19)(30,"span",20),n(31),t()()(),e(32,"ul",21)(33,"li",22)(34,"div",23)(35,"span",24),n(36),t(),e(37,"span",25),n(38),t(),e(39,"span",26),n(40),t()()(),e(41,"li")(42,"a",27),n(43,"Perfil"),t()(),e(44,"li")(45,"a",28),n(46,"Configura\xE7\xF5es"),t()(),e(47,"li"),m(48,"hr",29),t(),e(49,"li")(50,"button",30),F("click",function(){return u.logout()}),n(51,"Sair"),t()()()()()(),e(52,"div",31)(53,"div",32)(54,"div",33)(55,"div",34)(56,"h1",35),n(57),t(),e(58,"p",36),n(59," Sistema integrado de gest\xE3o para cuidados domiciliares. Acesse os m\xF3dulos dispon\xEDveis para seu perfil. "),t(),e(60,"div",37),n(61),t()()()(),e(62,"div",38),h(63,te,10,2,"div",39)(64,ie,10,2,"div",39)(65,ne,10,2,"div",39)(66,ae,10,2,"div",39),t(),e(67,"div",40)(68,"div",41)(69,"h2",42),n(70,"A\xE7\xF5es R\xE1pidas"),t(),e(71,"div",43),h(72,oe,4,0,"button",44)(73,re,4,0,"button",45)(74,se,4,0,"button",46),t()()(),h(75,me,6,1,"div",47),t()()),d&2){let S,C,y;a(8),r("appHasPermission",l(24,_)),a(),r("appHasPermission",l(25,E)),a(),r("appHasPermission",l(26,w)),a(),r("appHasPermission",l(27,P)),a(),r("appHasPermission",l(28,k)),a(9),r("appHasPermission",l(29,_)),a(),r("appHasPermission",l(30,E)),a(),r("appHasPermission",l(31,w)),a(),r("appHasPermission",l(32,P)),a(),r("appHasPermission",l(33,k)),a(6),c(u.getUserInitials()),a(5),c((S=u.authService.currentUser())==null?null:S.fullName),a(2),c((C=u.authService.currentUser())==null?null:C.profession),a(2),c((y=u.authService.currentUser())==null?null:y.email),a(17),f("Bem-vindo, ",u.getFirstName(),"!"),a(4),c(u.getCurrentProfileNames()),a(2),r("appHasPermission",l(34,_)),a(),r("appHasPermission",l(35,w)),a(),r("appHasPermission",l(36,P)),a(),r("appHasPermission",l(37,E)),a(6),r("appHasPermission",l(38,B)),a(),r("appHasPermission",l(39,W)),a(),r("appHasPermission",l(40,k)),a(),r("ngIf",u.showDebugPanel)}},dependencies:[A,z,I,G,R,N,j],encapsulation:2})}return i})();export{we as DashboardComponent};
