import{b as oe,c as y,d as le,g as ce,l as se,m as me,n as de,p as pe,q as ue}from"./chunk-P5RULU64.js";import{$ as H,$b as P,Aa as I,Cb as l,Db as s,Eb as v,Gc as X,Hc as Y,Ib as b,Ic as Z,Jb as x,Jc as K,Kb as r,Kc as ee,Lc as te,Pc as ie,Qc as ne,Rc as ae,Sc as re,Tb as p,Ua as j,Ub as C,Va as E,Vb as f,Wb as U,Xb as J,Za as o,Zb as M,_b as $,a as z,fa as V,fc as D,gb as N,hc as A,ic as Q,la as L,lb as g,ma as u,n as B,na as _,oa as S,pa as O,sb as W,tb as m,tc as k,ub as R,va as F,vb as T,xb as G}from"./chunk-R5P75FUM.js";var _e=(()=>{class n{fb=V(pe);formConfigSubject=new B(null);formConfig$=this.formConfigSubject.asObservable();formDataSubject=new B(null);formData$=this.formDataSubject.asObservable();buildFormGroup(e,t){let i={};return e.campos.filter(c=>c.elementType==="field"&&c.apareceForm).forEach(c=>{let h=this.buildValidators(c),w=this.getInitialValue(c,t);i[c.id]=[w,h]}),this.fb.group(i)}buildValidators(e){let t=[];return e.requerido==="sim"&&t.push(y.required),e.validacoes?.forEach(i=>{switch(i.tipo){case"required":t.push(y.required);break;case"email":t.push(y.email);break;case"minLength":t.push(y.minLength(i.valor));break;case"maxLength":t.push(y.maxLength(i.valor));break;case"pattern":t.push(y.pattern(i.valor));break;case"min":t.push(y.min(i.valor));break;case"max":t.push(y.max(i.valor));break}}),t}getInitialValue(e,t){if(t&&t[e.id]!==void 0)return t[e.id];if(e.conteudoInicial!==void 0)return e.conteudoInicial;switch(e.fieldType){case"checkbox":return!1;case"number":return 0;case"select":return e.opcoes?.find(i=>i.selecionado)?.valor||"";default:return""}}validateForm(e,t){let i={isValid:!0,errors:[]};return e.markAllAsTouched(),t.campos.forEach(a=>{if(a.requerido==="condicional"&&a.condicaoRequerido){let c=this.evaluateCondition(e.value,a.condicaoRequerido.campo,a.condicaoRequerido.valor,a.condicaoRequerido.operador),h=e.get(a.id);c&&h&&!h.value&&(i.isValid=!1,i.errors.push({field:a.id,message:`${a.label} \xE9 obrigat\xF3rio`}))}}),Object.keys(e.controls).forEach(a=>{let c=e.get(a);if(c&&c.errors){let h=t.campos.find(w=>w.id===a);i.isValid=!1,Object.keys(c.errors).forEach(w=>{let ge=h?.validacoes?.find(xe=>xe.tipo===w)?.mensagem||this.getDefaultErrorMessage(w,h?.label||a);i.errors.push({field:a,message:ge})})}}),i}evaluateCondition(e,t,i,a){let c=e[t];switch(a){case"=":return c===i;case"!=":return c!==i;case">":return c>i;case"<":return c<i;case">=":return c>=i;case"<=":return c<=i;case"contains":return c&&c.toString().includes(i);default:return!1}}getDefaultErrorMessage(e,t){return{required:`${t} \xE9 obrigat\xF3rio`,email:`${t} deve ter um formato de email v\xE1lido`,minlength:`${t} deve ter pelo menos {requiredLength} caracteres`,maxlength:`${t} n\xE3o pode ter mais de {requiredLength} caracteres`,min:`${t} deve ser maior que {min}`,max:`${t} deve ser menor que {max}`,pattern:`${t} n\xE3o atende ao formato esperado`}[e]||`${t} \xE9 inv\xE1lido`}generateTableColumns(e){return e.campos.filter(t=>t.apareceTable).sort((t,i)=>(t.sequenciaTable||0)-(i.sequenciaTable||0)).map(t=>({key:t.id,label:t.labelTable||t.label,type:t.fieldType||"text",sortable:!0,filterable:!0,width:this.calculateColumnWidth(t),align:t.alinhamento}))}calculateColumnWidth(e){return`${(e.qtdColunaTable||e.qtdColuna)/12*100}%`}applyMask(e,t){if(!t||!e)return e;let i="",a=0;for(let c=0;c<t.length&&a<e.length;c++)if(t[c]==="9")if(/\d/.test(e[a]))i+=e[a],a++;else break;else i+=t[c];return i}isFieldEnabled(e,t,i){switch(e.habilitado){case"nunca":return!1;case"sempre":return!0;case"consulta":return t==="view";case"incluir":return t==="add";case"alterar":return t==="edit";case"incluir_alterar":return t==="add"||t==="edit";case"condicional":return e.condicaoHabilitado&&i?this.evaluateCondition(i,e.condicaoHabilitado.campo,e.condicaoHabilitado.valor,e.condicaoHabilitado.operador):!1;default:return!0}}organizeFieldsByContainer(e){let t={root:[]};return e.campos.filter(i=>i.apareceForm).sort((i,a)=>(i.sequenciaForm||0)-(a.sequenciaForm||0)).forEach(i=>{let a=i.containerParent||"root";t[a]||(t[a]=[]),t[a].push(i)}),t}getContainerFields(e){return e.campos.filter(t=>t.elementType==="container").sort((t,i)=>(t.sequenciaForm||0)-(i.sequenciaForm||0))}updateFormConfig(e){this.formConfigSubject.next(e)}updateFormData(e){this.formDataSubject.next(e)}clearFormData(){this.formDataSubject.next(null)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function be(n,d){if(n&1&&(S(),v(0,"svg",24)),n&2){let e=r().$implicit,t=r();m("innerHTML",t.getIcon(e.icon),j)}}function fe(n,d){if(n&1){let e=b();l(0,"button",22),x("click",function(){let i=u(e).$implicit,a=r();return _(a.onHeaderAction(i))}),g(1,be,1,1,"svg",23),p(2),s()}if(n&2){let e=d.$implicit;m("ngClass",e.class||"btn-primary")("title",e.tooltip),o(),m("ngIf",e.icon),o(),f(" ",e.label," ")}}function Ce(n,d){if(n&1){let e=b();l(0,"div",28)(1,"div",29)(2,"div",30)(3,"input",31),P("ngModelChange",function(i){u(e);let a=r(2);return $(a.searchTerm,i)||(a.searchTerm=i),_(i)}),x("input",function(i){u(e);let a=r(2);return _(a.onSearch(i))}),s(),l(4,"button",32),S(),l(5,"svg",33),v(6,"path",34),s()()()()()}if(n&2){let e=r(2);o(3),M("ngModel",e.searchTerm)}}function ve(n,d){if(n&1&&(l(0,"option",42),p(1),s()),n&2){let e=d.$implicit;m("value",e.value),o(),f(" ",e.label," ")}}function ye(n,d){if(n&1){let e=b();l(0,"div",38)(1,"select",39),P("ngModelChange",function(i){let a=u(e).$implicit,c=r(3);return $(c.columnFilters[a.key],i)||(c.columnFilters[a.key]=i),_(i)}),x("change",function(i){let a=u(e).$implicit,c=r(3);return _(c.onColumnFilter(a.key,i))}),l(2,"option",40),p(3),s(),g(4,ve,2,2,"option",41),s()()}if(n&2){let e=d.$implicit,t=r(3);o(),M("ngModel",t.columnFilters[e.key]),o(2),C(e.label),o(),m("ngForOf",t.getFilterOptions(e.key))}}function we(n,d){if(n&1){let e=b();l(0,"button",43),x("click",function(){u(e);let i=r(3);return _(i.clearFilters())}),p(1," Limpar "),s()}}function Se(n,d){if(n&1&&(l(0,"div",35),g(1,ye,5,3,"div",36)(2,we,2,0,"button",37),s()),n&2){let e=r(2);o(),m("ngForOf",e.filterableColumns()),o(),m("ngIf",e.hasActiveFilters())}}function Te(n,d){if(n&1&&(l(0,"div",25),g(1,Ce,7,1,"div",26)(2,Se,3,2,"div",27),s()),n&2){let e=r();o(),m("ngIf",e.showSearch()),o(),m("ngIf",e.showFilters())}}function ke(n,d){n&1&&(l(0,"span",44),p(1,"Filtrado"),s())}function Ie(n,d){if(n&1){let e=b();l(0,"th",45)(1,"label",46)(2,"input",47),x("change",function(i){u(e);let a=r();return _(a.toggleSelectAll(i))}),s()()()}if(n&2){let e=r();o(2),m("checked",e.isAllSelected())("indeterminate",e.isSomeSelected())}}function De(n,d){if(n&1&&(l(0,"div",51),S(),l(1,"svg",52),v(2,"path",53),s(),l(3,"svg",54),v(4,"path",53),s()()),n&2){let e=r().$implicit,t=r();o(),T("opacity-100",t.currentSort().field===e.key&&t.currentSort().direction==="asc"),o(2),T("opacity-100",t.currentSort().field===e.key&&t.currentSort().direction==="desc")}}function Ve(n,d){if(n&1){let e=b();l(0,"th",48),x("click",function(){let i=u(e).$implicit,a=r();return _(a.onSort(i))}),l(1,"div",49)(2,"span"),p(3),s(),g(4,De,5,4,"div",50),s()()}if(n&2){let e=d.$implicit,t=r();R("width",e.width),m("ngClass",t.getHeaderClasses(e)),o(3),C(e.label),o(),m("ngIf",e.sortable)}}function Fe(n,d){n&1&&(l(0,"th",55),p(1,"A\xE7\xF5es"),s())}function Ee(n,d){if(n&1){let e=b();l(0,"td")(1,"label",46)(2,"input",59),x("change",function(i){u(e);let a=r().$implicit,c=r();return _(c.toggleItemSelection(a,i))})("click",function(i){return u(e),_(i.stopPropagation())}),s()()()}if(n&2){let e=r().$implicit,t=r();o(2),m("checked",t.selectedItems().has(t.getItemId(e)))}}function Me(n,d){if(n&1&&(l(0,"span"),p(1),s()),n&2){let e=r().$implicit,t=r().$implicit,i=r();o(),C(i.getCellValue(t,e))}}function $e(n,d){if(n&1&&(l(0,"span"),p(1),D(2,"date"),s()),n&2){let e=r().$implicit,t=r().$implicit,i=r();o(),C(A(2,1,i.getCellValue(t,e),"dd/MM/yyyy"))}}function Pe(n,d){if(n&1&&(l(0,"span"),p(1),D(2,"date"),s()),n&2){let e=r().$implicit,t=r().$implicit,i=r();o(),C(A(2,1,i.getCellValue(t,e),"dd/MM/yyyy HH:mm"))}}function Ae(n,d){if(n&1&&(l(0,"span"),p(1),D(2,"currency"),s()),n&2){let e=r().$implicit,t=r().$implicit,i=r();o(),C(Q(2,1,i.getCellValue(t,e),"BRL","symbol","1.2-2"))}}function ze(n,d){if(n&1&&(l(0,"span"),p(1),D(2,"percent"),s()),n&2){let e=r().$implicit,t=r().$implicit,i=r();o(),C(A(2,1,i.getCellValue(t,e),"1.1-1"))}}function Be(n,d){if(n&1&&(l(0,"div",68),p(1),s()),n&2){let e=r().$implicit,t=r().$implicit,i=r();T("badge-success",i.getCellValue(t,e))("badge-error",!i.getCellValue(t,e)),o(),f(" ",i.getCellValue(t,e)?"Sim":"N\xE3o"," ")}}function Oe(n,d){if(n&1&&(l(0,"span"),p(1),s()),n&2){let e=r().$implicit,t=r().$implicit,i=r();o(),C(i.getSelectOptionLabel(e,i.getCellValue(t,e)))}}function je(n,d){if(n&1&&(l(0,"div",69),p(1),s()),n&2){let e=r().$implicit,t=r().$implicit,i=r();m("ngClass",i.getBadgeClasses(e,i.getCellValue(t,e))),o(),f(" ",i.getCellValue(t,e)," ")}}function qe(n,d){if(n&1&&(l(0,"a",70),p(1),s()),n&2){let e=r().$implicit,t=r().$implicit,i=r();m("href",i.getCellValue(t,e),E),o(),f(" ",i.getCellValue(t,e)," ")}}function He(n,d){if(n&1&&(l(0,"a",71),p(1),s()),n&2){let e=r().$implicit,t=r().$implicit,i=r();m("href","mailto:"+i.getCellValue(t,e),E),o(),f(" ",i.getCellValue(t,e)," ")}}function Le(n,d){if(n&1&&(l(0,"a",71),p(1),s()),n&2){let e=r().$implicit,t=r().$implicit,i=r();m("href","tel:"+i.getCellValue(t,e),E),o(),f(" ",i.getCellValue(t,e)," ")}}function Ne(n,d){if(n&1&&(l(0,"td",60)(1,"div",61),g(2,Me,2,1,"span",62)(3,$e,3,4,"span",63)(4,Pe,3,4,"span",63)(5,Ae,3,6,"span",63)(6,ze,3,4,"span",63)(7,Be,2,5,"div",64)(8,Oe,2,1,"span",63)(9,je,2,2,"div",65)(10,qe,2,2,"a",66)(11,He,2,2,"a",67)(12,Le,2,2,"a",67),s()()),n&2){let e=d.$implicit,t=r().$implicit,i=r();m("ngClass",i.getCellClasses(e,t)),o(),m("ngSwitch",e.type),o(2),m("ngSwitchCase","date"),o(),m("ngSwitchCase","datetime"),o(),m("ngSwitchCase","currency"),o(),m("ngSwitchCase","percentage"),o(),m("ngSwitchCase","boolean"),o(),m("ngSwitchCase","select"),o(),m("ngSwitchCase","badge"),o(),m("ngSwitchCase","link"),o(),m("ngSwitchCase","email"),o(),m("ngSwitchCase","tel")}}function We(n,d){if(n&1&&(S(),v(0,"svg",80)),n&2){let e=r().$implicit,t=r(3);m("innerHTML",t.getIcon(e.icon),j)}}function Re(n,d){if(n&1){let e=b();l(0,"li")(1,"a",56),x("click",function(){let i=u(e).$implicit,a=r(2).$implicit,c=r();return _(c.onRowAction(i,a))}),g(2,We,1,1,"svg",79),p(3),s()()}if(n&2){let e=d.$implicit;o(),G(e.class),o(),m("ngIf",e.icon),o(),f(" ",e.label," ")}}function Ge(n,d){if(n&1&&(l(0,"td",72)(1,"div",73)(2,"div",74),S(),l(3,"svg",75),v(4,"path",76),s()(),O(),l(5,"ul",77),g(6,Re,4,4,"li",78),s()()()),n&2){let e=r().$implicit,t=r();o(6),m("ngForOf",t.getAvailableActions(e))}}function Ue(n,d){if(n&1){let e=b();l(0,"tr",56),x("click",function(i){let a=u(e).$implicit,c=r();return _(c.onRowClick(a,i))}),g(1,Ee,3,1,"td",19)(2,Ne,13,12,"td",57)(3,Ge,7,1,"td",58),s()}if(n&2){let e=d.$implicit,t=r();T("bg-primary-100",t.selectedItems().has(t.getItemId(e))),o(),m("ngIf",t.allowMultiSelect),o(),m("ngForOf",t.columns()),o(),m("ngIf",t.rowActions.length>0)}}function Je(n,d){if(n&1&&(l(0,"tr")(1,"td",81)(2,"div",82),S(),l(3,"svg",83),v(4,"path",84),s(),O(),l(5,"span"),p(6),s()()()()),n&2){let e=r();o(),W("colspan",e.getTotalColumns()),o(5),C(e.hasActiveFilters()?"Nenhum registro encontrado":"Nenhum registro dispon\xEDvel")}}function Qe(n,d){if(n&1){let e=b();l(0,"button",90),x("click",function(){let i=u(e).$implicit,a=r(2);return _(a.goToPage(i))}),p(1),s()}if(n&2){let e=d.$implicit,t=r(2);T("btn-active",e===t.tableData().currentPage),o(),f(" ",e," ")}}function Xe(n,d){if(n&1){let e=b();l(0,"div",85)(1,"div",86),p(2),s(),l(3,"div",87)(4,"button",88),x("click",function(){u(e);let i=r();return _(i.goToPage(1))}),p(5," \xAB\xAB "),s(),l(6,"button",88),x("click",function(){u(e);let i=r();return _(i.goToPage(i.tableData().currentPage-1))}),p(7," \xAB "),s(),g(8,Qe,2,3,"button",89),l(9,"button",88),x("click",function(){u(e);let i=r();return _(i.goToPage(i.tableData().currentPage+1))}),p(10," \xBB "),s(),l(11,"button",88),x("click",function(){u(e);let i=r();return _(i.goToPage(i.tableData().totalPages))}),p(12," \xBB\xBB "),s()()()}if(n&2){let e=r();o(2),U(" P\xE1gina ",e.tableData().currentPage," de ",e.tableData().totalPages," "),o(2),m("disabled",e.tableData().currentPage<=1),o(2),m("disabled",e.tableData().currentPage<=1),o(2),m("ngForOf",e.getVisiblePages()),o(),m("disabled",e.tableData().currentPage>=e.tableData().totalPages),o(2),m("disabled",e.tableData().currentPage>=e.tableData().totalPages)}}function Ye(n,d){if(n&1){let e=b();l(0,"button",95),x("click",function(){let i=u(e).$implicit,a=r(2);return _(a.onBulkAction(i))}),p(1),s()}if(n&2){let e=d.$implicit;m("ngClass",e.class||"btn-primary"),o(),f(" ",e.label," ")}}function Ze(n,d){if(n&1){let e=b();l(0,"div",91)(1,"div",92)(2,"span",93),p(3),s(),l(4,"div",2),g(5,Ye,2,2,"button",94),l(6,"button",43),x("click",function(){u(e);let i=r();return _(i.clearSelection())}),p(7," Limpar sele\xE7\xE3o "),s()()()()}if(n&2){let e=r();o(3),f("",e.selectedItems().size," item(s) selecionado(s)"),o(2),m("ngForOf",e.bulkActions)}}var ut=(()=>{class n{config;tableData=I({items:[],totalItems:0,currentPage:1,pageSize:25,totalPages:0});allowMultiSelect=!1;allowSearch=!0;allowFilters=!0;rowActions=[];headerActions=[];bulkActions=[];idField="id";loading=I(!1);tableEvent=new F;rowClick=new F;selectionChange=new F;dynamicFormService=V(_e);searchTerm="";columnFilters={};currentPageSize=25;selectedItems=I(new Set);currentSort=I({field:"",direction:"asc"});columns=k(()=>this.config?this.dynamicFormService.generateTableColumns(this.config):[]);filterableColumns=k(()=>this.columns().filter(e=>e.filterable));displayedItems=k(()=>this.tableData().items||[]);showSearch=k(()=>this.allowSearch);showFilters=k(()=>this.allowFilters&&this.filterableColumns().length>0);constructor(){console.log("constructor")}ngOnInit(){console.log("config:",this.config),this.currentPageSize=this.tableData().pageSize}ngOnChanges(e){e.tableData&&(this.currentPageSize=this.tableData().pageSize)}goToPage(e){e!==this.tableData().currentPage&&this.emitTableEvent("pageChange",{page:e,pageSize:this.currentPageSize})}onPageSizeChange(e){let t=parseInt(e.target.value);this.currentPageSize=t,this.emitTableEvent("pageSizeChange",{page:1,pageSize:t})}getVisiblePages(){let e=this.tableData().currentPage,t=this.tableData().totalPages,i=2,a=[],c=[];for(let h=Math.max(2,e-i);h<=Math.min(t-1,e+i);h++)a.push(h);return e-i>2?c.push(1,"..."):c.push(1),c.push(...a),e+i<t-1?c.push("...",t):t>1&&c.push(t),c.filter((h,w,q)=>q.indexOf(h)===w&&typeof h=="number")}onSort(e){if(!e.sortable)return;let t=this.currentSort().field,i=this.currentSort().direction,a="asc";t===e.key&&(a=i==="asc"?"desc":"asc"),this.currentSort.set({field:e.key,direction:a}),this.emitTableEvent("sort",{sortField:e.key,sortDirection:a})}onSearch(e){let t=e.target.value;this.searchTerm=t,this.emitTableEvent("search",{searchTerm:t})}onColumnFilter(e,t){let i=t.target.value;i?this.columnFilters[e]=i:delete this.columnFilters[e],this.emitTableEvent("filter",{filters:z({},this.columnFilters)})}clearFilters(){this.columnFilters={},this.searchTerm="",this.emitTableEvent("clearFilters")}hasActiveFilters(){return Object.keys(this.columnFilters).length>0||this.searchTerm.length>0}toggleSelectAll(e){let t=e.target.checked,i=new Set;t&&this.displayedItems().forEach(a=>{i.add(this.getItemId(a))}),this.selectedItems.set(i),this.emitSelectionChange()}toggleItemSelection(e,t){let i=t.target.checked,a=this.getItemId(e),c=new Set(this.selectedItems());i?c.add(a):c.delete(a),this.selectedItems.set(c),this.emitSelectionChange()}isAllSelected(){let e=this.displayedItems().map(t=>this.getItemId(t));return e.length>0&&e.every(t=>this.selectedItems().has(t))}isSomeSelected(){let e=this.displayedItems().map(i=>this.getItemId(i)),t=e.filter(i=>this.selectedItems().has(i)).length;return t>0&&t<e.length}clearSelection(){this.selectedItems.set(new Set),this.emitSelectionChange()}onHeaderAction(e){this.emitTableEvent("headerAction",{action:e.id})}onRowAction(e,t){this.emitTableEvent("rowAction",{action:e.id,item:t})}onBulkAction(e){let t=this.displayedItems().filter(i=>this.selectedItems().has(this.getItemId(i)));this.emitTableEvent("bulkAction",{action:e.id,items:t})}onRowClick(e,t){let i=t.target;i.closest(".dropdown")||i.closest('input[type="checkbox"]')||this.rowClick.emit(e)}getItemId(e){return e[this.idField]}getCellValue(e,t){return e[t.key]}getSelectOptionLabel(e,t){return this.config.campos.find(c=>c.id===e.key)?.opcoes?.find(c=>c.valor===t)?.texto||t}getBadgeClasses(e,t){let i="badge-sm";if(e.key==="status")switch(t?.toLowerCase()){case"ativo":case"aprovado":return`${i} badge-success`;case"inativo":case"rejeitado":return`${i} badge-error`;case"pendente":return`${i} badge-warning`;default:return`${i} badge-neutral`}return i}getAvailableActions(e){return this.rowActions.filter(t=>!t.condition||t.condition(e))}getFilterOptions(e){let t=this.config.campos.find(a=>a.id===e);return t?.opcoes?t.opcoes.map(a=>({value:a.valor,label:a.texto})):[...new Set(this.displayedItems().map(a=>a[e]))].filter(a=>a!=null).sort().map(a=>({value:a,label:String(a)}))}getIcon(e){return{edit:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>',delete:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>',view:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>',add:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>',download:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>'}[e]||""}getHeaderClasses(e){let t="";if(e.sortable&&(t+="sortable "),e.align)switch(e.align){case"center":t+="text-center ";break;case"right":t+="text-right ";break;default:t+="text-left "}return t.trim()}getCellClasses(e,t){let i="";if(e.align)switch(e.align){case"center":i+="text-center ";break;case"right":i+="text-right ";break;default:i+="text-left "}return i.trim()}getStartItem(){let{currentPage:e,pageSize:t,totalItems:i}=this.tableData();return i===0?0:(e-1)*t+1}getEndItem(){let{currentPage:e,pageSize:t,totalItems:i}=this.tableData();return i===0?0:Math.min(e*t,i)}getTotalColumns(){let e=this.columns().length;return this.allowMultiSelect&&(e+=1),this.rowActions.length>0&&(e+=1),e}trackByFn=(e,t)=>this.getItemId(t)||e;emitTableEvent(e,t){let i=z({action:e},t);this.tableEvent.emit(i)}emitSelectionChange(){let e=this.displayedItems().filter(t=>this.selectedItems().has(this.getItemId(t)));this.selectionChange.emit(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=N({type:n,selectors:[["app-dynamic-table"]],inputs:{config:"config",tableData:"tableData",allowMultiSelect:"allowMultiSelect",allowSearch:"allowSearch",allowFilters:"allowFilters",rowActions:"rowActions",headerActions:"headerActions",bulkActions:"bulkActions",idField:"idField",loading:"loading"},outputs:{tableEvent:"tableEvent",rowClick:"rowClick",selectionChange:"selectionChange"},features:[L],decls:34,vars:15,consts:[[1,"dynamic-table","w-full"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","gap-4","mb-6"],[1,"flex","gap-2"],["class","btn btn-sm",3,"ngClass","title","click",4,"ngFor","ngForOf"],["class","flex flex-col sm:flex-row gap-4 mb-4",4,"ngIf"],[1,"flex","justify-between","items-center","mb-4","text-sm","text-base-content/70"],["class","badge badge-primary badge-sm ml-2",4,"ngIf"],[1,"flex","items-center","gap-2"],[1,"select","select-bordered","select-sm","w-20",3,"ngModelChange","change","ngModel"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"overflow-x-auto","bg-base-100","rounded-lg","border","border-base-300"],[1,"table","table-zebra","table-pin-rows"],["class","w-12",4,"ngIf"],[3,"width","ngClass","click",4,"ngFor","ngForOf"],["class","w-32 text-center",4,"ngIf"],[3,"bg-primary-100","click",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["class","flex flex-col sm:flex-row justify-between items-center mt-4 gap-4",4,"ngIf"],["class","mt-4 p-3 bg-primary/10 rounded-lg border border-primary/20",4,"ngIf"],[1,"btn","btn-sm",3,"click","ngClass","title"],["class","w-4 h-4 mr-1","fill","none","stroke","currentColor","viewBox","0 0 24 24",3,"innerHTML",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1",3,"innerHTML"],[1,"flex","flex-col","sm:flex-row","gap-4","mb-4"],["class","flex-1",4,"ngIf"],["class","flex gap-2 flex-wrap",4,"ngIf"],[1,"flex-1"],[1,"form-control"],[1,"input-group"],["type","text","placeholder","Buscar...",1,"input","input-bordered","input-sm","flex-1",3,"ngModelChange","input","ngModel"],[1,"btn","btn-square","btn-sm","btn-outline"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"flex","gap-2","flex-wrap"],["class","form-control min-w-32",4,"ngFor","ngForOf"],["class","btn btn-ghost btn-sm",3,"click",4,"ngIf"],[1,"form-control","min-w-32"],[1,"select","select-bordered","select-sm",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"btn","btn-ghost","btn-sm",3,"click"],[1,"badge","badge-primary","badge-sm","ml-2"],[1,"w-12"],[1,"cursor-pointer"],["type","checkbox",1,"checkbox","checkbox-sm",3,"change","checked","indeterminate"],[3,"click","ngClass"],[1,"flex","items-center","gap-1"],["class","flex flex-col",4,"ngIf"],[1,"flex","flex-col"],["fill","currentColor","viewBox","0 0 20 20",1,"w-3","h-3","opacity-30"],["d","M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"],["fill","currentColor","viewBox","0 0 20 20",1,"w-3","h-3","opacity-30","transform","rotate-180"],[1,"w-32","text-center"],[3,"click"],[3,"ngClass",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["type","checkbox",1,"checkbox","checkbox-sm",3,"change","click","checked"],[3,"ngClass"],[1,"truncate",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],["class","badge badge-sm",3,"badge-success","badge-error",4,"ngSwitchCase"],["class","badge badge-sm",3,"ngClass",4,"ngSwitchCase"],["class","link link-primary","target","_blank",3,"href",4,"ngSwitchCase"],["class","link link-primary",3,"href",4,"ngSwitchCase"],[1,"badge","badge-sm"],[1,"badge","badge-sm",3,"ngClass"],["target","_blank",1,"link","link-primary",3,"href"],[1,"link","link-primary",3,"href"],[1,"text-center"],[1,"dropdown","dropdown-end"],["tabindex","0","role","button",1,"btn","btn-ghost","btn-sm","btn-square"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4"],["d","M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"],["tabindex","0",1,"dropdown-content","menu","bg-base-100","rounded-box","z-[1]","w-52","p-2","shadow","border","border-base-300"],[4,"ngFor","ngForOf"],["class","w-4 h-4","fill","none","stroke","currentColor","viewBox","0 0 24 24",3,"innerHTML",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4",3,"innerHTML"],[1,"text-center","py-8","text-base-content/50"],[1,"flex","flex-col","items-center","gap-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","opacity-50"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2M4 13h2m0 0V9a2 2 0 012-2h2m0 0V6a2 2 0 012-2h2.586a1 1 0 01.707.293l2.414 2.414A1 1 0 0016 7.414V9a2 2 0 012 2h2m-6 0a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2a2 2 0 012-2z"],[1,"flex","flex-col","sm:flex-row","justify-between","items-center","mt-4","gap-4"],[1,"text-sm","text-base-content/70"],[1,"join"],[1,"join-item","btn","btn-sm",3,"click","disabled"],["class","join-item btn btn-sm",3,"btn-active","click",4,"ngFor","ngForOf"],[1,"join-item","btn","btn-sm",3,"click"],[1,"mt-4","p-3","bg-primary/10","rounded-lg","border","border-primary/20"],[1,"flex","justify-between","items-center"],[1,"text-sm"],["class","btn btn-sm",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"btn","btn-sm",3,"click","ngClass"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1),v(2,"div"),l(3,"div",2),g(4,fe,3,4,"button",3),s()(),g(5,Te,3,2,"div",4),l(6,"div",5)(7,"span"),p(8),g(9,ke,2,0,"span",6),s(),l(10,"div",7)(11,"span"),p(12,"Itens por p\xE1gina:"),s(),l(13,"select",8),P("ngModelChange",function(c){return $(i.currentPageSize,c)||(i.currentPageSize=c),c}),x("change",function(c){return i.onPageSizeChange(c)}),l(14,"option",9),p(15,"10"),s(),l(16,"option",10),p(17,"25"),s(),l(18,"option",11),p(19,"50"),s(),l(20,"option",12),p(21,"100"),s()()()(),l(22,"div",13)(23,"table",14)(24,"thead")(25,"tr"),g(26,Ie,3,2,"th",15)(27,Ve,5,5,"th",16)(28,Fe,2,0,"th",17),s()(),l(29,"tbody"),g(30,Ue,4,5,"tr",18)(31,Je,7,2,"tr",19),s()()(),g(32,Xe,13,7,"div",20)(33,Ze,8,2,"div",21),s()),t&2&&(o(4),m("ngForOf",i.headerActions),o(),m("ngIf",i.showFilters()||i.showSearch()),o(3),J(" Mostrando ",i.getStartItem()," a ",i.getEndItem()," de ",i.tableData().totalItems," registros "),o(),m("ngIf",i.hasActiveFilters()),o(4),M("ngModel",i.currentPageSize),o(13),m("ngIf",i.allowMultiSelect),o(),m("ngForOf",i.columns()),o(),m("ngIf",i.rowActions.length>0),o(2),m("ngForOf",i.displayedItems())("ngForTrackBy",i.trackByFn),o(),m("ngIf",i.displayedItems().length===0),o(),m("ngIf",i.tableData().totalPages>1),o(),m("ngIf",i.allowMultiSelect&&i.selectedItems().size>0))},dependencies:[re,X,Y,Z,K,ee,te,ne,ae,ie,ue,me,de,oe,se,le,ce],encapsulation:2})}return n})();export{ut as a};
