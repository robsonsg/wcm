import{a as j,b as k}from"./chunk-F6VJUWXP.js";import{q as z}from"./chunk-P5RULU64.js";import{Aa as D,Cb as n,Db as i,Eb as w,Ib as b,Ic as E,Jb as p,Kb as u,Lb as $,Mb as F,Pb as g,Qb as C,Rb as y,Sb as v,Sc as I,Tb as l,Vb as h,Za as r,a as U,db as B,fa as S,gb as M,lb as x,ma as d,na as m,oa as A,oc as W,sa as O,tb as f,tc as R,ub as Q,va as V,vb as T,wb as q,xb as P}from"./chunk-R5P75FUM.js";var G=["modalBackdrop"],J=["modalContainer"],X=["dynamicComponentContainer"],Y=["*"];function Z(a,_){if(a&1&&(n(0,"h3",15),l(1),i()),a&2){let e=u(3);r(),h(" ",e.config.header," ")}}function ee(a,_){if(a&1){let e=b();n(0,"button",16),p("click",function(){d(e);let o=u(3);return m(o.close())}),A(),n(1,"svg",17),w(2,"path",18),i()()}}function oe(a,_){if(a&1&&(n(0,"div",12),x(1,Z,2,1,"h3",13)(2,ee,3,0,"button",14),i()),a&2){let e=u(2);r(),f("ngIf",e.config.header),r(),f("ngIf",e.config.showCloseButton!==!1)}}function te(a,_){if(a&1&&(n(0,"div",19)(1,"p")(2,"strong"),l(3,"Debug Info:"),i()(),n(4,"p"),l(5),i(),n(6,"p"),l(7),i(),n(8,"p"),l(9),i(),n(10,"p"),l(11),i()()),a&2){u();let e=v(9),s=u();r(5),h("Modal Open: ",s.isOpen(),""),r(2),h("Component: ",(s.config.component==null?null:s.config.component.name)||"N/A",""),r(2),h("Has Injected Component: ",!!s.injectedComponentRef,""),r(2),h("Dynamic Container Ready: ",!!e,"")}}function ne(a,_){a&1&&(n(0,"div",20)(1,"p"),l(2,"Nenhum conte\xFAdo para exibir"),i(),n(3,"p",21),l(4,"Verifique se o componente foi injetado corretamente"),i()())}function ie(a,_){if(a&1){let e=b();n(0,"div",4,0),p("click",function(o){d(e);let t=u();return m(t.onBackdropClick(o))}),w(2,"div",5),n(3,"div",6,1),p("click",function(o){return d(e),m(o.stopPropagation())}),x(5,oe,3,2,"div",7),n(6,"div",8),x(7,te,12,4,"div",9),w(8,"div",10,2),F(10),x(11,ne,5,0,"div",11),i()()()}if(a&2){let e=u();P(e.backdropClasses()),Q("z-index",e.config.zIndex||40),T("z-40",e.config.zIndex===void 0),r(2),T("opacity-50",e.config.backdrop!==!1)("opacity-0",e.config.backdrop===!1),r(),q(e.modalStyles()),P(e.modalClasses()),r(2),f("ngIf",e.config.header||e.config.showCloseButton!==!1),r(2),f("ngIf",e.showDebugInfo),r(4),f("ngIf",!e.hasContent())}}var N=(()=>{class a{config={};showDebugInfo=!1;modalClose=new V;modalOpen=new V;modalBackdrop;modalContainer;dynamicComponentContainer;_isOpen=D(!1);_hasContent=D(!1);injectedComponentRef=null;injector=S(O);cdr=S(W);isOpen=R(()=>this._isOpen());hasContent=R(()=>this._hasContent());ngOnInit(){this.config=U({showCloseButton:!0,backdrop:!0,backdropClose:!0,position:"center",debugConsole:!1},this.config),this.config.debugConsole&&console.log("Modal ngOnInit - config:",this.config)}ngAfterViewInit(){this.config.debugConsole&&console.log("Modal ngAfterViewInit - dynamicComponentContainer:",this.dynamicComponentContainer),this.config.component&&this.dynamicComponentContainer&&setTimeout(()=>{this.injectConfiguredComponent()},0)}ngOnDestroy(){this.destroyInjectedComponent(),typeof document<"u"&&document.removeEventListener("keydown",this.handleEscKey)}open(){this.config.debugConsole&&console.log("Modal open() called - config:",this.config),this._isOpen.set(!0),this.modalOpen.emit(),setTimeout(()=>{this.config.component&&(this.config.debugConsole&&console.log("Injetando componente ap\xF3s abertura:",this.config.component.name),this.injectConfiguredComponent()),this.updateContentStatus()},50),typeof document<"u"&&(document.addEventListener("keydown",this.handleEscKey),document.body.style.overflow="hidden")}close(){this._isOpen.set(!1),this._hasContent.set(!1),this.modalClose.emit(),this.destroyInjectedComponent(),typeof document<"u"&&(document.removeEventListener("keydown",this.handleEscKey),document.body.style.overflow="")}injectConfiguredComponent(){this.config.component&&this.injectComponent(this.config.component,this.config.componentInputs)}injectComponent(e,s){this.config.debugConsole&&(console.log("=== injectComponent called ==="),console.log("Component:",e),console.log("Inputs:",s),console.log("dynamicComponentContainer:",this.dynamicComponentContainer)),this.destroyInjectedComponent();let o=e||this.config.component,t=s||this.config.componentInputs||{};if(!o){console.warn("Nenhum componente para injetar"),this._hasContent.set(!1);return}if(!this.dynamicComponentContainer){console.error("dynamicComponentContainer n\xE3o est\xE1 dispon\xEDvel"),this._hasContent.set(!1);return}try{this.config.debugConsole&&console.log("Criando componente..."),this.injectedComponentRef=this.dynamicComponentContainer.createComponent(o,{injector:this.injector}),this.config.debugConsole&&console.log("Component criado com sucesso:",this.injectedComponentRef),t&&Object.keys(t).length>0&&(this.config.debugConsole&&console.log("Aplicando inputs..."),Object.keys(t).forEach(c=>{this.injectedComponentRef?.instance&&(this.injectedComponentRef.instance[c]=t[c],this.config.debugConsole&&console.log(`Input ${c} aplicado:`,t[c]))})),this.injectedComponentRef.instance&&(this.injectedComponentRef.instance.closeModal=()=>this.close(),this.config.debugConsole&&console.log("closeModal function bound")),this.injectedComponentRef.changeDetectorRef.detectChanges(),this.cdr.detectChanges(),this._hasContent.set(!0),this.config.debugConsole&&console.log("=== Component injection completed successfully ===")}catch(c){console.error("Erro ao injetar componente:",c),this._hasContent.set(!1)}}updateContentStatus(){let e=!!this.injectedComponentRef,s=this.modalContainer?.nativeElement?.querySelector("ng-content")?.children?.length>0;this._hasContent.set(e||s),this.config.debugConsole&&console.log("Content status updated:",this._hasContent())}destroyInjectedComponent(){this.injectedComponentRef&&(this.config.debugConsole&&console.log("Destroying injected component"),this.injectedComponentRef.destroy(),this.injectedComponentRef=null,this._hasContent.set(!1))}toggle(){this.isOpen()?this.close():this.open()}handleEscKey=e=>{e.key==="Escape"&&this.close()};onBackdropClick(e){this.config.backdropClose!==!1&&e.target===this.modalBackdrop?.nativeElement&&this.close()}backdropClasses(){let e=[];switch(this.config.position){case"top":e.push("items-start","pt-8");break;case"bottom":e.push("items-end","pb-8");break;default:e.push("items-center")}return e.join(" ")}modalClasses(){let e=["mx-4","my-4"];return e.push("w-full","sm:w-auto"),e.join(" ")}modalStyles(){let e={};return this.config.minWidth&&(e["min-width"]=this.config.minWidth),this.config.minHeight&&(e["min-height"]=this.config.minHeight),this.config.maxWidth&&(e["max-width"]=this.config.maxWidth),this.config.maxHeight&&(e["max-height"]=this.config.maxHeight),e}debugInfo(){return{isOpen:this.isOpen(),hasContent:this.hasContent(),hasInjectedComponent:!!this.injectedComponentRef,componentName:this.config.component?.name,containerReady:!!this.dynamicComponentContainer}}static \u0275fac=function(s){return new(s||a)};static \u0275cmp=M({type:a,selectors:[["app-modal"]],viewQuery:function(s,o){if(s&1&&(g(G,5),g(J,5),g(X,5,B)),s&2){let t;C(t=y())&&(o.modalBackdrop=t.first),C(t=y())&&(o.modalContainer=t.first),C(t=y())&&(o.dynamicComponentContainer=t.first)}},inputs:{config:"config",showDebugInfo:"showDebugInfo"},outputs:{modalClose:"modalClose",modalOpen:"modalOpen"},ngContentSelectors:Y,decls:1,vars:1,consts:[["modalBackdrop",""],["modalContainer",""],["dynamicComponentContainer",""],["class","fixed inset-0 flex items-center justify-center transition-all duration-300 ease-in-out",3,"z-40","z-index","class","click",4,"ngIf"],[1,"fixed","inset-0","flex","items-center","justify-center","transition-all","duration-300","ease-in-out",3,"click"],[1,"absolute","inset-0","bg-black","transition-opacity","duration-300"],[1,"relative","bg-white","rounded-lg","shadow-xl","transform","transition-all","duration-300","ease-in-out","max-w-full","max-h-full","overflow-hidden",3,"click"],["class","flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",4,"ngIf"],[1,"p-4","overflow-auto","max-h-full"],["class","mb-4 p-2 bg-yellow-100 border border-yellow-300 rounded text-xs",4,"ngIf"],[1,"dynamic-component-container"],["class","text-center py-8 text-gray-500",4,"ngIf"],[1,"flex","items-center","justify-between","p-4","border-b","border-gray-200","bg-gray-50"],["class","text-lg font-semibold text-gray-900",4,"ngIf"],["type","button","class","text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 inline-flex justify-center items-center transition-colors duration-200","aria-label","Fechar modal",3,"click",4,"ngIf"],[1,"text-lg","font-semibold","text-gray-900"],["type","button","aria-label","Fechar modal",1,"text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","inline-flex","justify-center","items-center","transition-colors","duration-200",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"mb-4","p-2","bg-yellow-100","border","border-yellow-300","rounded","text-xs"],[1,"text-center","py-8","text-gray-500"],[1,"text-sm","mt-2"]],template:function(s,o){s&1&&($(),x(0,ie,12,17,"div",3)),s&2&&f("ngIf",o.isOpen())},dependencies:[I,E],styles:["[_nghost-%COMP%]{display:contents}.dynamic-component-container[_ngcontent-%COMP%]{min-height:20px}"]})}return a})();var ae=["basicModal"],se=["userProfileModal"],le=["confirmationModal"],re=["dynamicModal"];function ce(a,_){if(a&1&&(n(0,"div",22)(1,"strong"),l(2,"\xDAltima a\xE7\xE3o:"),i(),l(3),i()),a&2){let e=u();r(3),h(" ",e.lastAction," ")}}var we=(()=>{class a{lastAction="";dynamicModalCounter=0;basicConfig={header:"Modal Exemplo",showCloseButton:!0,minWidth:"400px",backdropClose:!0};userProfileConfig={header:"Perfil do Usu\xE1rio",showCloseButton:!0,minWidth:"600px",maxWidth:"800px",component:j,componentInputs:{user:{name:"Maria Silva",email:"maria@exemplo.com",bio:"Designer UX/UI com foco em experi\xEAncia do usu\xE1rio."}}};confirmationConfig={showCloseButton:!1,minWidth:"400px",backdropClose:!1,component:k,componentInputs:{title:"Excluir Item",message:"Esta a\xE7\xE3o n\xE3o pode ser desfeita. Tem certeza que deseja excluir este item?",confirmText:"Excluir",cancelText:"Cancelar",confirmButtonClass:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",onConfirm:()=>{alert("Item exclu\xEDdo com sucesso!"),this.lastAction="Item exclu\xEDdo com sucesso!"},onCancel:()=>{}}};dynamicConfig={header:"Modal Din\xE2mico",showCloseButton:!0,minWidth:"500px"};basicModal;userProfileModal;confirmationModal;dynamicModal;openBasicModal(){this.basicModal.open()}openUserProfileModal(){console.log("Abrindo modal do perfil do usu\xE1rio..."),this.userProfileModal.open()}openConfirmationModal(){this.confirmationModal.open()}openDynamicModal(){console.log("Abrindo modal din\xE2mico - contador:",this.dynamicModalCounter);let e=this.dynamicModalCounter%2===0;this.dynamicModal.open(),setTimeout(()=>{e?(console.log("Injetando UserProfileComponent dinamicamente"),this.dynamicModal.injectComponent(j,{user:{name:`Jo\xE3o Din\xE2mico ${this.dynamicModalCounter}`,email:`joao.dinamico${this.dynamicModalCounter}@teste.com`,bio:`Usu\xE1rio criado dinamicamente! Contador: ${this.dynamicModalCounter}`}}),this.dynamicModal.config.header=`Perfil Din\xE2mico #${this.dynamicModalCounter}`):(console.log("Injetando ConfirmationComponent dinamicamente"),this.dynamicModal.injectComponent(k,{title:`Confirma\xE7\xE3o Din\xE2mica #${this.dynamicModalCounter}`,message:`Este modal foi criado dinamicamente! Itera\xE7\xE3o: ${this.dynamicModalCounter}`,confirmText:"Legal!",cancelText:"Fechar",confirmButtonClass:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors",onConfirm:()=>{this.lastAction=`Confirma\xE7\xE3o din\xE2mica #${this.dynamicModalCounter} executada!`}}),this.dynamicModal.config.header=`Confirma\xE7\xE3o Din\xE2mica #${this.dynamicModalCounter}`),this.dynamicModalCounter++},50)}openDynamicProfileModal(){console.log("Abrindo modal din\xE2mico - Perfil espec\xEDfico"),this.dynamicModal.open(),setTimeout(()=>{this.dynamicModal.injectComponent(j,{user:{name:"Ana Din\xE2mica",email:"ana.dinamica@exemplo.com",bio:"Perfil injetado especificamente como exemplo de inje\xE7\xE3o din\xE2mica."}}),this.dynamicModal.config.header="Perfil Din\xE2mico Espec\xEDfico"},50)}openDynamicConfirmationModal(){console.log("Abrindo modal din\xE2mico - Confirma\xE7\xE3o espec\xEDfico"),this.dynamicModal.open(),setTimeout(()=>{this.dynamicModal.injectComponent(k,{title:"A\xE7\xE3o Importante",message:"Voc\xEA tem certeza que deseja executar esta a\xE7\xE3o espec\xEDfica?",confirmText:"Sim, executar",cancelText:"Cancelar",confirmButtonClass:"px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600 transition-colors",onConfirm:()=>{this.lastAction="A\xE7\xE3o espec\xEDfica executada com sucesso!"}}),this.dynamicModal.config.header="Confirma\xE7\xE3o Espec\xEDfica"},50)}onModalClose(e){console.log(`Modal ${e} foi fechado`),this.lastAction||(this.lastAction=`Modal ${e} foi fechado`)}static \u0275fac=function(s){return new(s||a)};static \u0275cmp=M({type:a,selectors:[["app-exemplo-uso"]],viewQuery:function(s,o){if(s&1&&(g(ae,5),g(se,5),g(le,5),g(re,5)),s&2){let t;C(t=y())&&(o.basicModal=t.first),C(t=y())&&(o.userProfileModal=t.first),C(t=y())&&(o.confirmationModal=t.first),C(t=y())&&(o.dynamicModal=t.first)}},decls:40,vars:11,consts:[["basicModal",""],["userProfileModal",""],["confirmationModal",""],["dynamicModal",""],[1,"p-8","space-y-4"],[1,"text-2xl","font-bold","mb-6"],[1,"space-x-4","mb-4"],[1,"px-4","py-2","bg-blue-500","text-white","rounded","hover:bg-blue-600","transition-colors",3,"click"],[1,"px-4","py-2","bg-green-500","text-white","rounded","hover:bg-green-600","transition-colors",3,"click"],[1,"px-4","py-2","bg-red-500","text-white","rounded","hover:bg-red-600","transition-colors",3,"click"],[1,"px-4","py-2","bg-purple-500","text-white","rounded","hover:bg-purple-600","transition-colors",3,"click"],[1,"px-4","py-2","bg-indigo-500","text-white","rounded","hover:bg-indigo-600","transition-colors",3,"click"],[1,"px-4","py-2","bg-orange-500","text-white","rounded","hover:bg-orange-600","transition-colors",3,"click"],["class","p-4 bg-gray-100 rounded-lg",4,"ngIf"],[1,"p-4","bg-blue-50","rounded-lg"],[1,"font-semibold","text-blue-600"],[1,"text-sm","text-gray-600"],[3,"modalClose","config","showDebugInfo"],[1,"text-center"],[1,"text-lg","font-semibold","mb-4"],[1,"text-gray-600","mb-6"],[1,"px-4","py-2","bg-gray-500","text-white","rounded","hover:bg-gray-600","transition-colors",3,"click"],[1,"p-4","bg-gray-100","rounded-lg"]],template:function(s,o){if(s&1){let t=b();n(0,"div",4)(1,"h1",5),l(2,"Exemplos de Modal com Inje\xE7\xE3o de Componentes"),i(),n(3,"div",6)(4,"button",7),p("click",function(){return d(t),m(o.openBasicModal())}),l(5," Modal B\xE1sico "),i(),n(6,"button",8),p("click",function(){return d(t),m(o.openUserProfileModal())}),l(7," Modal com Componente (Perfil) "),i(),n(8,"button",9),p("click",function(){return d(t),m(o.openConfirmationModal())}),l(9," Modal de Confirma\xE7\xE3o "),i(),n(10,"button",10),p("click",function(){return d(t),m(o.openDynamicModal())}),l(11," Modal Din\xE2mico (Alterna Componentes) "),i(),n(12,"button",11),p("click",function(){return d(t),m(o.openDynamicProfileModal())}),l(13," Modal Din\xE2mico - Perfil "),i(),n(14,"button",12),p("click",function(){return d(t),m(o.openDynamicConfirmationModal())}),l(15," Modal Din\xE2mico - Confirma\xE7\xE3o "),i()(),x(16,ce,4,1,"div",13),n(17,"div",14)(18,"p")(19,"strong"),l(20,"Pr\xF3ximo modal din\xE2mico ser\xE1:"),i(),n(21,"span",15),l(22),i()(),n(23,"p",16),l(24),i()()(),n(25,"app-modal",17,0),p("modalClose",function(){return d(t),m(o.onModalClose("b\xE1sico"))}),n(27,"div",18)(28,"h4",19),l(29,"Modal B\xE1sico"),i(),n(30,"p",20),l(31,"Este \xE9 um exemplo de modal simples com conte\xFAdo est\xE1tico."),i(),n(32,"button",21),p("click",function(){d(t);let H=v(26);return m(H.close())}),l(33," Fechar "),i()()(),n(34,"app-modal",17,1),p("modalClose",function(){return d(t),m(o.onModalClose("perfil de usu\xE1rio"))}),i(),n(36,"app-modal",17,2),p("modalClose",function(){return d(t),m(o.onModalClose("confirma\xE7\xE3o"))}),i(),n(38,"app-modal",17,3),p("modalClose",function(){return d(t),m(o.onModalClose("din\xE2mico"))}),i()}s&2&&(r(16),f("ngIf",o.lastAction),r(6),h(" ",o.dynamicModalCounter%2===0?"Perfil de Usu\xE1rio":"Confirma\xE7\xE3o"," "),r(2),h("Contador: ",o.dynamicModalCounter,""),r(),f("config",o.basicConfig)("showDebugInfo",!0),r(9),f("config",o.userProfileConfig)("showDebugInfo",!0),r(2),f("config",o.confirmationConfig)("showDebugInfo",!0),r(2),f("config",o.dynamicConfig)("showDebugInfo",!0))},dependencies:[I,E,z,N],encapsulation:2})}return a})();export{we as ModalExemploUsoComponent};
