import{c as R,f as w,g as E,h as x,i as D,j as B,l as W,o as P,p as T,q as A,r as O,t as I}from"./chunk-EUYLE5IP.js";import{l as _,w as S}from"./chunk-RLCM72IK.js";import{$b as s,Ib as c,Jb as M,Oa as y,Ra as r,Vb as o,a as h,ab as C,ac as d,b as f,bc as u,gb as b,ob as g,xb as e,yb as t,zb as v}from"./chunk-27GLVKKX.js";function j(p,U){if(p&1&&(e(0,"div",36),v(1,"img",37),t()),p&2){let a=M();r(),g("src",a.screenshotDataUrl,y)}}var q=(()=>{class p{screenshotDataUrl=null;onConfirm;onCancel;closeModal;severity="low";bugReport={type:"",severity:this.severity,subject:"",description:"",screenshot:null};ngOnInit(){this.bugReport.screenshot=this.screenshotDataUrl||null}s2ubmitBugReport(){if(!this.bugReport.subject||!this.bugReport.description||!this.bugReport.type){alert("Por favor, preencha todos os campos");return}console.log("Reporte de Bug:",this.bugReport),this.resetForm()}handleConfirm(){if(!this.bugReport.subject||!this.bugReport.description||!this.bugReport.type){alert("Por favor, preencha todos os campos");return}this.onConfirm&&this.onConfirm(f(h({},this.bugReport),{detailsData:{timestamp:new Date,browserInfo:this.getBrowserInfo(),screenResolution:this.getScreenResolution(),url:window.location.href,userAgent:navigator.userAgent}})),this.closeModal&&this.closeModal()}handleCancel(){this.onCancel&&this.onCancel(),console.log("this.closeModal:",this.closeModal),this.closeModal&&this.closeModal()}resetForm(){this.bugReport={type:"",severity:this.severity,subject:"",description:"",screenshot:null},this.screenshotDataUrl=null}getBrowserInfo(){let a=navigator.userAgent;return a.includes("Chrome")?"Chrome":a.includes("Firefox")?"Firefox":a.includes("Safari")?"Safari":a.includes("Edge")?"Edge":"Desconhecido"}getScreenResolution(){return`${screen.width}x${screen.height}`}getCurrentDateTime(){return new Date().toLocaleString("pt-BR")}static \u0275fac=function(m){return new(m||p)};static \u0275cmp=C({type:p,selectors:[["app-bug-report"]],inputs:{screenshotDataUrl:"screenshotDataUrl",onConfirm:"onConfirm",onCancel:"onCancel"},decls:64,vars:8,consts:[[1,"bug-report-container"],[1,"form-group","flex","gap-4"],[1,"flex-shrink-0","flex","flex-col"],[1,"label"],[1,"label-text","font-semibold"],["name","type",1,"select","select-bordered","w-48",3,"ngModelChange","ngModel"],["value",""],["value","BUG"],["value","MELHORIA"],["value","AJUSTES"],["value","CORRECAO"],["value","interface"],["value","funcionalidade"],["value","performance"],["value","dados"],["value","outros"],[1,"flex-1"],["name","subject","placeholder","Resumo do problema","required","",1,"input","input-bordered","w-full",3,"ngModelChange","ngModel"],[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"flex","justify-between"],[1,"flex","items-center"],["type","radio","name","severity","value","low",1,"mr-2",3,"ngModelChange","ngModel"],[1,"text-green-600"],["type","radio","name","severity","value","medium",1,"mr-2",3,"ngModelChange","ngModel"],[1,"text-yellow-600"],["type","radio","name","severity","value","high",1,"mr-2",3,"ngModelChange","ngModel"],[1,"text-orange-600"],["type","radio","name","severity","value","critical",1,"mr-2",3,"ngModelChange","ngModel"],[1,"text-red-600"],[1,"form-group"],["name","description","rows","4","placeholder","Descreva detalhadamente o problema encontrado","required","",1,"textarea","textarea-bordered","w-full",3,"ngModelChange","ngModel"],["class","screenshot-preview",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","btn-outline","btn-secondary","mr-2",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"screenshot-preview"],["alt","Screenshot",1,"screenshot-image",3,"src"]],template:function(m,i){m&1&&(e(0,"div",0)(1,"form")(2,"div",1)(3,"div",2)(4,"label",3)(5,"span",4),o(6,"Tipo de Reporte"),t()(),e(7,"select",5),u("ngModelChange",function(n){return d(i.bugReport.type,n)||(i.bugReport.type=n),n}),e(8,"option",6),o(9,"Selecione uma categoria"),t(),e(10,"option",7),o(11,"\u{1F41B} Bug"),t(),e(12,"option",8),o(13,"\u2728 Melhoria"),t(),e(14,"option",9),o(15,"\u{1F527} Ajustes"),t(),e(16,"option",10),o(17,"\u{1F528} Corre\xE7\xE3o"),t(),e(18,"option",11),o(19,"Interface/Visual"),t(),e(20,"option",12),o(21,"Funcionalidade"),t(),e(22,"option",13),o(23,"Performance"),t(),e(24,"option",14),o(25,"Dados/Informa\xE7\xF5es"),t(),e(26,"option",15),o(27,"Outros"),t()()(),e(28,"div",16)(29,"label",3)(30,"span",4),o(31,"Assunto"),t()(),e(32,"input",17),u("ngModelChange",function(n){return d(i.bugReport.subject,n)||(i.bugReport.subject=n),n}),t()()(),e(33,"div",18)(34,"label",19),o(35," Severidade: "),t(),e(36,"div",20)(37,"label",21)(38,"input",22),u("ngModelChange",function(n){return d(i.severity,n)||(i.severity=n),n}),t(),e(39,"span",23),o(40,"Baixa"),t()(),e(41,"label",21)(42,"input",24),u("ngModelChange",function(n){return d(i.severity,n)||(i.severity=n),n}),t(),e(43,"span",25),o(44,"M\xE9dia"),t()(),e(45,"label",21)(46,"input",26),u("ngModelChange",function(n){return d(i.severity,n)||(i.severity=n),n}),t(),e(47,"span",27),o(48,"Alta"),t()(),e(49,"label",21)(50,"input",28),u("ngModelChange",function(n){return d(i.severity,n)||(i.severity=n),n}),t(),e(51,"span",29),o(52,"Cr\xEDtica"),t()()()(),e(53,"div",30)(54,"label",3)(55,"span",4),o(56,"Descri\xE7\xE3o Detalhada"),t()(),e(57,"textarea",31),u("ngModelChange",function(n){return d(i.bugReport.description,n)||(i.bugReport.description=n),n}),t()(),b(58,j,2,1,"div",32),e(59,"div",33)(60,"button",34),c("click",function(){return i.handleCancel()}),o(61," Cancelar "),t(),e(62,"button",35),c("click",function(){return i.handleConfirm()}),o(63," Enviar Reporte "),t()()()()),m&2&&(r(7),s("ngModel",i.bugReport.type),r(25),s("ngModel",i.bugReport.subject),r(6),s("ngModel",i.severity),r(4),s("ngModel",i.severity),r(4),s("ngModel",i.severity),r(4),s("ngModel",i.severity),r(7),s("ngModel",i.bugReport.description),r(),g("ngIf",i.screenshotDataUrl))},dependencies:[S,_,I,B,T,A,R,P,W,w,E,O,D,x],styles:[".bug-report-container[_ngcontent-%COMP%]{padding:20px;max-width:600px;margin:0 auto}.screenshot-preview[_ngcontent-%COMP%]{margin-bottom:20px;max-height:300px;overflow:auto}.screenshot-image[_ngcontent-%COMP%]{max-width:100%;border:1px solid #ddd;border-radius:4px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-actions[_ngcontent-%COMP%]{text-align:right}"]})}return p})();export{q as BugReport2Component};
