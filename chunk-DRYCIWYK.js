import{a as W}from"./chunk-5267M4YT.js";import{b as U,c as B,f as z,i as H,o as X,p as j,q as Q,t as J}from"./chunk-EUYLE5IP.js";import{k as G,l as q,w as V}from"./chunk-RLCM72IK.js";import{$b as A,Ca as I,Db as D,Ec as k,Ib as p,Jb as f,Ra as a,Vb as n,Wb as v,Xb as u,Zb as N,a as R,ab as F,ac as S,b as w,bc as b,g as h,ga as L,gb as g,nb as P,oa as C,ob as s,pa as T,qb as x,xb as i,yb as o,zb as y}from"./chunk-27GLVKKX.js";function Z(d,m){if(d&1&&(i(0,"option",16),n(1),o()),d&2){let e=m.$implicit;s("value",e.id),a(),u(" ",e.nome," ")}}function $(d,m){if(d&1&&(i(0,"option",16),n(1),o()),d&2){let e=m.$implicit;s("value",e.id),a(),u(" ",e.nome," ")}}function ee(d,m){if(d&1){let e=D();i(0,"label",26)(1,"input",36),p("change",function(){let t=C(e).$implicit,l=f();return T(l.toggleTipo(t))}),o(),i(2,"span",28),n(3),o()()}if(d&2){let e=m.$implicit,r=f();a(),s("checked",r.filtros().tipos.includes(e)),a(2),v(e)}}function te(d,m){if(d&1&&(i(0,"option",16),n(1),o()),d&2){let e=m.$implicit;s("value",e.valor),a(),u(" ",e.label," ")}}function oe(d,m){if(d&1&&(i(0,"option",16),n(1),o()),d&2){let e=m.$implicit;s("value",e.valor),a(),u(" ",e.label," ")}}function ie(d,m){if(d&1&&(i(0,"option",16),n(1),o()),d&2){let e=m.$implicit;s("value",e.valor),a(),u(" ",e.label," ")}}function ne(d,m){d&1&&y(0,"span",37)}function ae(d,m){d&1&&(i(0,"span"),n(1,"\u{1F4CA}"),o())}function re(d,m){if(d&1&&(i(0,"option",16),n(1),o()),d&2){let e=m.$implicit;s("value",e.id),a(),u(" ",e.nome," ")}}function le(d,m){if(d&1){let e=D();i(0,"label",26)(1,"input",36),p("change",function(){let t=C(e).$implicit,l=f();return T(l.toggleTipo(t))}),o(),i(2,"span",28),n(3),o()()}if(d&2){let e=m.$implicit,r=f();a(),s("checked",r.filtros().tipos.includes(e)),a(2),v(e)}}function ce(d,m){d&1&&y(0,"span",37)}function de(d,m){if(d&1&&(i(0,"tr")(1,"td",63),n(2),o(),i(3,"td",64)(4,"div"),n(5),o(),i(6,"div",65),n(7),o()(),i(8,"td"),n(9),o(),i(10,"td",66),n(11),o(),i(12,"td",66),n(13),o(),i(14,"td",66),n(15),o(),i(16,"td",66),n(17),o()()),d&2){let e=m.$implicit,r=f(3);a(2),v(e.pacienteNome),a(3),u("Conta: ",e.conta,""),a(2),u("Prorr.: ",e.prorrogacao,""),a(2),v(e.descricao),a(2),v(r.formatarMoeda(e.valor)),a(2),v(r.formatarMoeda(e.custo)),a(),x("text-success",e.lucroLiquido>0)("text-error",e.lucroLiquido<0),a(),u(" ",r.formatarMoeda(e.lucroLiquido)," "),a(),x("text-success",e.percentualLucro>0)("text-error",e.percentualLucro<0),a(),u(" ",e.percentualLucro.toFixed(2),"% ")}}function se(d,m){if(d&1&&(i(0,"div",51)(1,"div",52)(2,"h3",53),n(3),o()(),i(4,"div",54)(5,"table",55)(6,"thead")(7,"tr",56)(8,"th",57),n(9,"Paciente"),o(),i(10,"th",57),n(11,"Conta/Prorroga\xE7\xE3o"),o(),i(12,"th",57),n(13,"Descri\xE7\xE3o"),o(),i(14,"th",58),n(15,"Valor"),o(),i(16,"th",58),n(17,"Custo"),o(),i(18,"th",58),n(19,"Lucro L\xEDq."),o(),i(20,"th",58),n(21,"% Lucro"),o()()(),i(22,"tbody"),g(23,de,18,16,"tr",59),o()()(),i(24,"div",60)(25,"div",48)(26,"div",49)(27,"div",61),n(28,"Valor Total"),o(),i(29,"div",62),n(30),o()(),i(31,"div",49)(32,"div",61),n(33,"Custo Total"),o(),i(34,"div",62),n(35),o()(),i(36,"div",49)(37,"div",61),n(38,"Lucro L\xEDquido"),o(),i(39,"div",62),n(40),o()(),i(41,"div",49)(42,"div",61),n(43,"% Lucro M\xE9dio"),o(),i(44,"div",62),n(45),o()()()()()),d&2){let e=m.$implicit,r=f(2);a(3),u(" (",e.items.length," item(ns)) "),a(20),s("ngForOf",e.items),a(7),v(r.formatarMoeda(e.subtotal.valor)),a(5),v(r.formatarMoeda(e.subtotal.custo)),a(4),x("text-success",e.subtotal.lucroLiquido>0)("text-error",e.subtotal.lucroLiquido<0),a(),u(" ",r.formatarMoeda(e.subtotal.lucroLiquido)," "),a(4),x("text-success",e.subtotal.percentualLucro>0)("text-error",e.subtotal.percentualLucro<0),a(),u(" ",e.subtotal.percentualLucro.toFixed(2),"% ")}}function me(d,m){if(d&1){let e=D();i(0,"div",38)(1,"div",39)(2,"div",3)(3,"div")(4,"h2",40),n(5,"Relat\xF3rio Gerado"),o(),i(6,"p",41),n(7),o()(),i(8,"div",42)(9,"button",43),p("click",function(){C(e);let t=f();return T(t.imprimirRelatorio())}),n(10," \u{1F5A8}\uFE0F Imprimir "),o(),i(11,"button",43),p("click",function(){C(e);let t=f();return T(t.exportarPDF())}),n(12," \u{1F4C4} PDF "),o(),i(13,"button",43),p("click",function(){C(e);let t=f();return T(t.exportarExcel())}),n(14," \u{1F4CA} XLSX "),o()()()(),i(15,"div",44),g(16,se,46,14,"div",45),i(17,"div",46)(18,"h3",47),n(19,"Resumo Geral do Relat\xF3rio"),o(),i(20,"div",48)(21,"div",49)(22,"div",50),n(23,"Valor Total Geral"),o(),i(24,"div",40),n(25),o()(),i(26,"div",49)(27,"div",50),n(28,"Custo Total Geral"),o(),i(29,"div",40),n(30),o()(),i(31,"div",49)(32,"div",50),n(33,"Lucro L\xEDquido Geral"),o(),i(34,"div",40),n(35),o()(),i(36,"div",49)(37,"div",50),n(38,"% Lucro Geral"),o(),i(39,"div",40),n(40),o()()()()()()}if(d&2){let e=f();a(7),N(" ",e.dadosRelatorio().length," grupo(s) encontrado(s) | Per\xEDodo: ",e.formatarData(e.filtros().dataInicio)," a ",e.formatarData(e.filtros().dataFim)," "),a(9),s("ngForOf",e.dadosRelatorio()),a(9),v(e.formatarMoeda(e.totalGeral().valor)),a(5),v(e.formatarMoeda(e.totalGeral().custo)),a(5),v(e.formatarMoeda(e.totalGeral().lucroLiquido)),a(5),u("",e.totalGeral().percentualLucro.toFixed(2),"%")}}function pe(d,m){d&1&&(i(0,"div",67)(1,"div",68),n(2,"\u{1F4CA}"),o(),i(3,"h3",69),n(4,"Nenhum dado encontrado"),o(),i(5,"p",65),n(6,' Ajuste os filtros e clique em "Gerar Relat\xF3rio" para visualizar os dados. '),o()())}var be=(()=>{class d{http=L(W);carregando=I(!1);pacientes=I([]);convenios=I([]);dadosRelatorio=I([]);temaEscuro=I(!1);filtros=I({dataInicio:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],dataFim:new Date().toISOString().split("T")[0],pacienteId:null,convenioId:null,tipos:["PROCEDIMENTO","EQUIPAMENTO","MATERIAL","MEDICAMENTO","DIETA"]});configuracaoRelatorio=I({agrupamentoPrimario:"tipo",agrupamentoSecundario:null,agrupamentoTerciario:null,mostrarSubtotais:!0,mostrarTotalGeral:!0});tiposDisponiveis=["PROCEDIMENTO","EQUIPAMENTO","MATERIAL","MEDICAMENTO","DIETA"];opcoesAgrupamento=[{valor:"tipo",label:"Tipo de Item"},{valor:"paciente",label:"Paciente"},{valor:"convenio",label:"Conv\xEAnio"}];totalGeral=k(()=>{let e=this.dadosRelatorio();return this.calcularTotalRecursivo(e)});calcularTotalRecursivo(e){return e.reduce((r,t)=>{let l=t.subtotal.valor,c=t.subtotal.custo,_=t.subtotal.lucroLiquido;return{valor:r.valor+l,custo:r.custo+c,lucroLiquido:r.lucroLiquido+_,percentualLucro:0}},{valor:0,custo:0,lucroLiquido:0,percentualLucro:0})}ngOnInit(){return h(this,null,function*(){yield this.carregarDadosIniciais(),this.detectarTema(),this.observarMudancasTema()})}detectarTema(){let e=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");this.temaEscuro.set(e==="dark"),document.documentElement.setAttribute("data-theme",e)}observarMudancasTema(){new MutationObserver(r=>{r.forEach(t=>{if(t.type==="attributes"&&t.attributeName==="data-theme"){let l=document.documentElement.getAttribute("data-theme");this.temaEscuro.set(l==="dark")}})}).observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]})}alternarTema(){let e=this.temaEscuro()?"light":"dark";this.temaEscuro.set(!this.temaEscuro()),document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)}carregarDadosIniciais(){return h(this,null,function*(){try{this.carregando.set(!0);let[e,r]=yield Promise.all([this.simularCarregamentoPacientes(),this.simularCarregamentoConvenios()]);this.pacientes.set(e),this.convenios.set(r)}catch(e){console.error("Erro ao carregar dados iniciais:",e)}finally{this.carregando.set(!1)}})}gerarRelatorio(){return h(this,null,function*(){try{this.carregando.set(!0);let e=yield this.buscarAtendimentos(),r=this.agruparAtendimentos(e);this.dadosRelatorio.set(r)}catch(e){console.error("Erro ao gerar relat\xF3rio:",e)}finally{this.carregando.set(!1)}})}agruparAtendimentos(e){let r=this.configuracaoRelatorio();return r.agrupamentoPrimario?this.agruparPorNivel(e,r.agrupamentoPrimario,1,r):[]}agruparPorNivel(e,r,t,l){let c=new Map;return e.forEach(_=>{let E="";switch(r){case"tipo":E=_.tipo;break;case"paciente":E=`${_.pacienteId}-${_.pacienteNome}`;break;case"convenio":E=`${_.convenioId}-${_.convenioNome}`;break}c.has(E)||c.set(E,[]),c.get(E).push(_)}),Array.from(c.entries()).map(([_,E])=>{let K=this.obterLabelGrupo(_,r),Y=this.calcularSubtotal(E),M,O=this.obterProximoAgrupamento(t,l);return O&&E.length>0&&(M=this.agruparPorNivel(E,O,t+1,l)),{chave:_,label:K,items:M?[]:E,subgrupos:M,subtotal:Y,nivel:t}})}obterProximoAgrupamento(e,r){switch(e){case 1:return r.agrupamentoSecundario||null;case 2:return r.agrupamentoTerciario||null;default:return null}}obterLabelGrupo(e,r){switch(r){case"tipo":return e;case"paciente":return e.split("-").slice(1).join("-");case"convenio":return e.split("-").slice(1).join("-");default:return e}}calcularSubtotal(e){let r=e.reduce((t,l)=>({valor:t.valor+l.valor,custo:t.custo+l.custo,lucroLiquido:t.lucroLiquido+l.lucroLiquido,percentualLucro:0}),{valor:0,custo:0,lucroLiquido:0,percentualLucro:0});return r.percentualLucro=r.valor>0?r.lucroLiquido/r.valor*100:0,r}toggleTipo(e){let r=this.filtros(),t=[...r.tipos],l=t.indexOf(e);l>-1?t.splice(l,1):t.push(e),this.filtros.set(w(R({},r),{tipos:t}))}atualizarConfiguracaoRelatorio(){this.configuracaoRelatorio.set(R({},this.configuracaoRelatorio()))}obterOpcoesSecundarias(){let e=this.configuracaoRelatorio().agrupamentoPrimario,r={valor:null,label:"Nenhum"},t=this.opcoesAgrupamento.filter(l=>l.valor!==e).map(l=>({valor:l.valor,label:l.label}));return[r,...t]}obterOpcoesTerciarias(){let e=this.configuracaoRelatorio(),r={valor:null,label:"Nenhum"},t=this.opcoesAgrupamento.filter(l=>l.valor!==e.agrupamentoPrimario&&l.valor!==e.agrupamentoSecundario).map(l=>({valor:l.valor,label:l.label}));return[r,...t]}atualizarFiltros(){this.filtros.set(R({},this.filtros()))}limparFiltros(){this.filtros.set({dataInicio:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],dataFim:new Date().toISOString().split("T")[0],pacienteId:null,convenioId:null,tipos:["PROCEDIMENTO","EQUIPAMENTO","MATERIAL","MEDICAMENTO","DIETA"]}),this.dadosRelatorio.set([])}imprimirRelatorio(){window.print()}exportarPDF(){alert("Funcionalidade de exporta\xE7\xE3o PDF ser\xE1 implementada")}exportarExcel(){alert("Funcionalidade de exporta\xE7\xE3o Excel ser\xE1 implementada")}formatarMoeda(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}formatarData(e){return new Date(e+"T00:00:00").toLocaleDateString("pt-BR")}simularCarregamentoPacientes(){return h(this,null,function*(){return new Promise(e=>{setTimeout(()=>{e([{id:1,nome:"ALICE FINESE VITRO",conta:"67848",prorrogacao:"83420"},{id:2,nome:"MARIA CELIA AUGUSTO RODRIGUES",conta:"67854",prorrogacao:"83424"},{id:3,nome:"JOSE ANTONIO ALVARO LEITE",conta:"67849",prorrogacao:"83421"},{id:4,nome:"RETIRADA DE IMPRESSOS",conta:"67860",prorrogacao:"83947"}])},500)})})}simularCarregamentoConvenios(){return h(this,null,function*(){return new Promise(e=>{setTimeout(()=>{e([{id:1,nome:"SADT Compartilhado"},{id:2,nome:"Particular"},{id:3,nome:"Unimed"},{id:4,nome:"Bradesco Sa\xFAde"}])},300)})})}buscarAtendimentos(){return h(this,null,function*(){return new Promise(e=>{setTimeout(()=>{e([{id:1,pacienteId:1,pacienteNome:"ALICE FINESE VITRO",conta:"67848",prorrogacao:"83420",tipo:"PROCEDIMENTO",descricao:"VISITA FISIOTERAPEUTA 5 X SEMANA - COMPARTILHADO - SADT",valor:688.8,custo:1e3,lucroLiquido:-444.57,percentualLucro:-61.61,data:new Date,convenioId:1,convenioNome:"SADT Compartilhado"},{id:2,pacienteId:2,pacienteNome:"MARIA CELIA AUGUSTO RODRIGUES",conta:"67854",prorrogacao:"83424",tipo:"PROCEDIMENTO",descricao:"VISITA FISIOTERAPEUTA 3 X SEMANA - COMPARTILHADO - SADT",valor:447.72,custo:650,lucroLiquido:-288.97,percentualLucro:-61.61,data:new Date,convenioId:1,convenioNome:"SADT Compartilhado"},{id:3,pacienteId:2,pacienteNome:"MARIA CELIA AUGUSTO RODRIGUES",conta:"67854",prorrogacao:"83424",tipo:"PROCEDIMENTO",descricao:"VISITA FONOAUDIOLOGO(A) 1 X SEMANA - COMPARTILHADO - SADT",valor:192,custo:400,lucroLiquido:-243.51,percentualLucro:-124.76,data:new Date,convenioId:1,convenioNome:"SADT Compartilhado"},{id:4,pacienteId:3,pacienteNome:"JOSE ANTONIO ALVARO LEITE",conta:"67849",prorrogacao:"83421",tipo:"PROCEDIMENTO",descricao:"VISITA FISIOTERAPEUTA - COMPARTILHADO - SADT",valor:1033.2,custo:1500,lucroLiquido:-666.86,percentualLucro:-61.61,data:new Date,convenioId:1,convenioNome:"SADT Compartilhado"},{id:5,pacienteId:4,pacienteNome:"RETIRADA DE IMPRESSOS",conta:"67860",prorrogacao:"83947",tipo:"PROCEDIMENTO",descricao:"AVALIACAO ENFERMEIRO(A)",valor:300,custo:120,lucroLiquido:101.48,percentualLucro:43.57,data:new Date,convenioId:2,convenioNome:"Particular"},{id:6,pacienteId:4,pacienteNome:"RETIRADA DE IMPRESSOS",conta:"67860",prorrogacao:"83947",tipo:"PROCEDIMENTO",descricao:"VISITA FISIOTERAPEUTA 1 X SEMANA - COMPARTILHADO - SADT",valor:137.76,custo:200,lucroLiquido:-88.91,percentualLucro:-61.61,data:new Date,convenioId:1,convenioNome:"SADT Compartilhado"},{id:7,pacienteId:1,pacienteNome:"ALICE FINESE VITRO",conta:"67848",prorrogacao:"83420",tipo:"EQUIPAMENTO",descricao:"Cama Hospitalar Motorizada",valor:850,custo:400,lucroLiquido:450,percentualLucro:52.94,data:new Date,convenioId:1,convenioNome:"SADT Compartilhado"},{id:8,pacienteId:2,pacienteNome:"MARIA CELIA AUGUSTO RODRIGUES",conta:"67854",prorrogacao:"83424",tipo:"MATERIAL",descricao:"Kit Curativo Complexo",valor:120,custo:45,lucroLiquido:75,percentualLucro:62.5,data:new Date,convenioId:1,convenioNome:"SADT Compartilhado"},{id:9,pacienteId:3,pacienteNome:"JOSE ANTONIO ALVARO LEITE",conta:"67849",prorrogacao:"83421",tipo:"MEDICAMENTO",descricao:"Dipirona 500mg - 30 comp",valor:89.9,custo:25.5,lucroLiquido:64.4,percentualLucro:71.64,data:new Date,convenioId:2,convenioNome:"Particular"},{id:10,pacienteId:4,pacienteNome:"RETIRADA DE IMPRESSOS",conta:"67860",prorrogacao:"83947",tipo:"DIETA",descricao:"Dieta Enteral Hipercal\xF3rica 1000ml",valor:45.8,custo:22.9,lucroLiquido:22.9,percentualLucro:50,data:new Date,convenioId:2,convenioNome:"Particular"}])},1e3)})})}static \u0275fac=function(r){return new(r||d)};static \u0275cmp=F({type:d,selectors:[["app-relatorio-atendimentos"]],decls:112,vars:32,consts:[[1,"min-h-screen","bg-base-200","p-4"],[1,"container","mx-auto","max-w-7xl"],[1,"bg-base-100","rounded-lg","shadow-lg","p-6","mb-6"],[1,"flex","justify-between","items-center"],[1,"text-3xl","font-bold","text-primary","mb-2"],[1,"text-base-content/70"],[1,"btn","btn-ghost","btn-circle",3,"click","title"],[1,"text-2xl"],[1,"text-xl","font-semibold","mb-4","flex","items-center","text-base-content"],[1,"mr-2"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"form-control"],[1,"label"],[1,"label-text","font-medium"],["type","date",1,"input","input-bordered","w-full",3,"ngModelChange","change","ngModel"],[1,"select","select-bordered","w-full",3,"ngModelChange","change","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"flex","flex-wrap","gap-3"],["class","cursor-pointer label",4,"ngFor","ngForOf"],[1,"mt-6","p-4","bg-base-200","rounded-lg"],[1,"font-semibold","mb-4","flex","items-center","text-base-content"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"select","select-bordered","w-full",3,"ngModelChange","change","ngModel","disabled"],[1,"mt-4","flex","flex-wrap","gap-4"],[1,"cursor-pointer","label"],["type","checkbox",1,"checkbox","checkbox-primary","mr-2",3,"ngModelChange","change","ngModel"],[1,"label-text"],[1,"flex","gap-3","mt-6"],[1,"btn","btn-primary",3,"click","disabled"],["class","loading loading-spinner loading-sm",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-secondary",3,"click"],["class","bg-white rounded-lg shadow-lg overflow-hidden",4,"ngIf"],["class","bg-white rounded-lg shadow-lg p-12 text-center",4,"ngIf"],["type","checkbox",1,"checkbox","checkbox-primary","mr-2",3,"change","checked"],[1,"loading","loading-spinner","loading-sm"],[1,"bg-white","rounded-lg","shadow-lg","overflow-hidden"],[1,"bg-primary","text-primary-content","p-6"],[1,"text-2xl","font-bold"],[1,"opacity-90"],[1,"flex","gap-2"],[1,"btn","btn-sm","btn-ghost",3,"click"],["id","relatorio-conteudo",1,"p-6"],["class","mb-8",4,"ngFor","ngForOf"],[1,"bg-primary","text-primary-content","p-6","mt-8","rounded-lg"],[1,"text-xl","font-bold","mb-4"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4"],[1,"text-center"],[1,"text-sm","opacity-90"],[1,"mb-8"],[1,"bg-base-100","border-l-4","border-primary","p-4","mb-4"],[1,"text-lg","font-bold","text-primary"],[1,"overflow-x-auto"],[1,"table","table-zebra","w-full"],[1,"bg-base-200"],[1,"font-bold"],[1,"font-bold","text-right"],[4,"ngFor","ngForOf"],[1,"bg-primary/10","p-4","mt-4","rounded-lg"],[1,"text-sm","text-base-content/60"],[1,"text-lg","font-bold"],[1,"font-medium"],[1,"text-sm"],[1,"text-base-content/60"],[1,"text-right","font-mono"],[1,"bg-white","rounded-lg","shadow-lg","p-12","text-center"],[1,"text-6xl","mb-4"],[1,"text-xl","font-semibold","mb-2"]],template:function(r,t){r&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h1",4),n(6," Relat\xF3rio de Atendimentos Domiciliares "),o(),i(7,"p",5),n(8," Gest\xE3o completa de procedimentos, equipamentos, materiais, medicamentos e dietas "),o()(),i(9,"button",6),p("click",function(){return t.alternarTema()}),i(10,"span",7),n(11),o()()()(),i(12,"div",2)(13,"h2",8)(14,"span",9),n(15,"\u{1F50D}"),o(),n(16," Filtros do Relat\xF3rio "),o(),i(17,"div",10)(18,"div",11)(19,"label",12)(20,"span",13),n(21,"Data In\xEDcio"),o()(),i(22,"input",14),b("ngModelChange",function(c){return S(t.filtros().dataInicio,c)||(t.filtros().dataInicio=c),c}),p("change",function(){return t.atualizarFiltros()}),o()(),i(23,"div",11)(24,"label",12)(25,"span",13),n(26,"Data Fim"),o()(),i(27,"input",14),b("ngModelChange",function(c){return S(t.filtros().dataFim,c)||(t.filtros().dataFim=c),c}),p("change",function(){return t.atualizarFiltros()}),o()(),i(28,"div",11)(29,"label",12)(30,"span",13),n(31,"Paciente"),o()(),i(32,"select",15),b("ngModelChange",function(c){return S(t.filtros().pacienteId,c)||(t.filtros().pacienteId=c),c}),p("change",function(){return t.atualizarFiltros()}),i(33,"option",16),n(34,"Todos os pacientes"),o(),g(35,Z,2,2,"option",17),o()(),i(36,"div",11)(37,"label",12)(38,"span",13),n(39,"Conv\xEAnio"),o()(),i(40,"select",15),b("ngModelChange",function(c){return S(t.filtros().convenioId,c)||(t.filtros().convenioId=c),c}),p("change",function(){return t.atualizarFiltros()}),i(41,"option",16),n(42,"Todos os conv\xEAnios"),o(),g(43,$,2,2,"option",17),o()()(),i(44,"div",18)(45,"label",12)(46,"span",13),n(47,"Tipos de Atendimento"),o()(),i(48,"div",19),g(49,ee,4,2,"label",20),o()(),i(50,"div",21)(51,"h3",22)(52,"span",9),n(53,"\u2699\uFE0F"),o(),n(54," Configura\xE7\xF5es de Agrupamento "),o(),i(55,"div",23)(56,"div",11)(57,"label",12)(58,"span",13),n(59,"Agrupar por (1\xBA n\xEDvel)"),o()(),i(60,"select",15),b("ngModelChange",function(c){return S(t.configuracaoRelatorio().agrupamentoPrimario,c)||(t.configuracaoRelatorio().agrupamentoPrimario=c),c}),p("change",function(){return t.atualizarConfiguracaoRelatorio()}),g(61,te,2,2,"option",17),o()(),i(62,"div",11)(63,"label",12)(64,"span",13),n(65,"Depois por (2\xBA n\xEDvel)"),o()(),i(66,"select",15),b("ngModelChange",function(c){return S(t.configuracaoRelatorio().agrupamentoSecundario,c)||(t.configuracaoRelatorio().agrupamentoSecundario=c),c}),p("change",function(){return t.atualizarConfiguracaoRelatorio()}),g(67,oe,2,2,"option",17),o()(),i(68,"div",11)(69,"label",12)(70,"span",13),n(71,"Finalmente por (3\xBA n\xEDvel)"),o()(),i(72,"select",24),b("ngModelChange",function(c){return S(t.configuracaoRelatorio().agrupamentoTerciario,c)||(t.configuracaoRelatorio().agrupamentoTerciario=c),c}),p("change",function(){return t.atualizarConfiguracaoRelatorio()}),g(73,ie,2,2,"option",17),o()()(),i(74,"div",25)(75,"label",26)(76,"input",27),b("ngModelChange",function(c){return S(t.configuracaoRelatorio().mostrarSubtotais,c)||(t.configuracaoRelatorio().mostrarSubtotais=c),c}),p("change",function(){return t.atualizarConfiguracaoRelatorio()}),o(),i(77,"span",28),n(78,"Mostrar subtotais por grupo"),o()(),i(79,"label",26)(80,"input",27),b("ngModelChange",function(c){return S(t.configuracaoRelatorio().mostrarTotalGeral,c)||(t.configuracaoRelatorio().mostrarTotalGeral=c),c}),p("change",function(){return t.atualizarConfiguracaoRelatorio()}),o(),i(81,"span",28),n(82,"Mostrar total geral"),o()()()(),i(83,"div",29)(84,"button",30),p("click",function(){return t.gerarRelatorio()}),g(85,ne,1,0,"span",31)(86,ae,2,0,"span",32),n(87," Gerar Relat\xF3rio "),o(),i(88,"button",33),p("click",function(){return t.limparFiltros()}),n(89," \u{1F504} Limpar Filtros "),o()(),i(90,"div",11)(91,"label",12)(92,"span",13),n(93,"Conv\xEAnio"),o()(),i(94,"select",15),b("ngModelChange",function(c){return S(t.filtros().convenioId,c)||(t.filtros().convenioId=c),c}),p("change",function(){return t.atualizarFiltros()}),i(95,"option",16),n(96,"Todos os conv\xEAnios"),o(),g(97,re,2,2,"option",17),o()(),i(98,"div",18)(99,"label",12)(100,"span",13),n(101,"Tipos de Atendimento"),o()(),i(102,"div",19),g(103,le,4,2,"label",20),o()(),i(104,"div",29)(105,"button",30),p("click",function(){return t.gerarRelatorio()}),g(106,ce,1,0,"span",31),n(107," Gerar Relat\xF3rio "),o(),i(108,"button",33),p("click",function(){return t.limparFiltros()}),n(109," Limpar Filtros "),o()()(),g(110,me,41,8,"div",34)(111,pe,7,0,"div",35),o()()),r&2&&(P("data-theme",t.temaEscuro()?"dark":"light"),a(9),s("title",t.temaEscuro()?"Alternar para tema claro":"Alternar para tema escuro"),a(2),v(t.temaEscuro()?"\u2600\uFE0F":"\u{1F319}"),a(11),A("ngModel",t.filtros().dataInicio),a(5),A("ngModel",t.filtros().dataFim),a(5),A("ngModel",t.filtros().pacienteId),a(),s("value",null),a(2),s("ngForOf",t.pacientes()),a(5),A("ngModel",t.filtros().convenioId),a(),s("value",null),a(2),s("ngForOf",t.convenios()),a(6),s("ngForOf",t.tiposDisponiveis),a(11),A("ngModel",t.configuracaoRelatorio().agrupamentoPrimario),a(),s("ngForOf",t.opcoesAgrupamento),a(5),A("ngModel",t.configuracaoRelatorio().agrupamentoSecundario),a(),s("ngForOf",t.obterOpcoesSecundarias()),a(5),A("ngModel",t.configuracaoRelatorio().agrupamentoTerciario),s("disabled",!t.configuracaoRelatorio().agrupamentoSecundario),a(),s("ngForOf",t.obterOpcoesTerciarias()),a(3),A("ngModel",t.configuracaoRelatorio().mostrarSubtotais),a(4),A("ngModel",t.configuracaoRelatorio().mostrarTotalGeral),a(4),s("disabled",t.carregando()),a(),s("ngIf",t.carregando()),a(),s("ngIf",!t.carregando()),a(8),A("ngModel",t.filtros().convenioId),a(),s("value",null),a(2),s("ngForOf",t.convenios()),a(6),s("ngForOf",t.tiposDisponiveis),a(2),s("disabled",t.carregando()),a(),s("ngIf",t.carregando()),a(4),s("ngIf",t.dadosRelatorio().length>0),a(),s("ngIf",t.dadosRelatorio().length===0&&!t.carregando()))},dependencies:[V,G,q,J,j,Q,B,U,X,z,H],styles:["@media print{.no-print[_ngcontent-%COMP%]{display:none!important}.container[_ngcontent-%COMP%]{max-width:none!important;margin:0!important;padding:0!important}.shadow-lg[_ngcontent-%COMP%]{box-shadow:none!important}.rounded-lg[_ngcontent-%COMP%]{border-radius:0!important}}"]})}return d})();export{be as RelatorioAtendimentosComponent};
