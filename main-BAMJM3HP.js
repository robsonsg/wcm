import{a as P,b as be,e as Ss,f as Fn,m as Je,n as Yt,o as St}from"./chunk-F2X3VGZZ.js";import{b as Cs}from"./chunk-ZNVBVQVV.js";import"./chunk-LDHRJFKR.js";import{a as Ln,b as Qt,c as dt,d as mt,e as bs}from"./chunk-7XIHC7AF.js";import{a as ws}from"./chunk-RIOINNCY.js";import{a as Ae}from"./chunk-H2OULBBG.js";import{a as as,b as ls,c as fs,d as ct,e as gs,f as _s,g as Kt,i as vs,j as ys}from"./chunk-JMGSQSON.js";import{a as at,b as cs}from"./chunk-5267M4YT.js";import{c as Ht,f as Gt,g as ds,h as ms,i as Zt,j as us,o as ps,p as $t,q as Wt,t as lt,u as hs}from"./chunk-EUYLE5IP.js";import{C as os,a as zt,j as ss,k as Be,l as Me,p as rs,w as ce}from"./chunk-RLCM72IK.js";import{$b as We,Ab as Qi,Ba as Hi,Bb as Yi,Ca as E,Db as q,Ec as K,Fc as Ye,G as Li,Ha as Pn,Ib as I,Jb as h,K as Fi,Ka as Gi,Mb as On,N as Bi,Oa as Fe,Pb as he,Qb as fe,Ra as d,Rb as ge,Ua as Zi,Ub as Ut,Va as $i,Vb as p,Wa as Ct,Wb as B,Xb as R,Yb as $e,Zb as Vn,_ as L,_b as Ji,a as G,aa as le,ab as ne,ac as Ke,b as xe,bc as Qe,c as Pi,cb as Wi,e as go,ec as Xi,fa as Ie,g as pe,ga as Z,gb as b,h as Oi,ia as qi,jb as Ki,m as qt,mc as $,n as Nn,na as Ui,nb as Ze,nc as W,oa as x,ob as _,pa as M,qa as y,qb as X,qc as jt,r as Vi,ra as N,sb as U,tb as F,tc as es,uc as ts,va as ji,vb as Re,wb as De,wc as ns,xb as l,xc as is,ya as zi,yb as c,zb as f}from"./chunk-27GLVKKX.js";function Es(){Ae.register("PatientForm",()=>import("./chunk-YJY2YFLS.js").then(i=>i.PatientsPageComponent)),Ae.register("ConfirmationDialog",()=>import("./chunk-GI5ZTPWE.js").then(i=>i.ConfirmationDialogComponent)),Ae.register("FormWizard",()=>import("./chunk-ZGZ5TPPT.js").then(i=>i.FormWizardComponent)),Ae.register("UserProfile",()=>import("./chunk-REAZR6LJ.js").then(i=>i.UserProfileComponent)),Ae.register("ProductList",()=>import("./chunk-BYPK2KRJ.js").then(i=>i.ProductListComponent)),Ae.register("Confirmation",()=>import("./chunk-77UG5FXL.js").then(i=>i.ConfirmationComponent)),Ae.register("BugReport2",()=>import("./chunk-YQF3J6HE.js").then(i=>i.BugReport2Component)),Ae.register("Feedback",()=>import("./chunk-DX42447D.js").then(i=>i.FeedbackComponent)),Ae.register("DynamicForm",()=>import("./chunk-L2FH2API.js").then(i=>i.DynamicFormComponent))}var Jt=(()=>{class i{el;renderer;label="";constructor(e,n){this.el=e,this.renderer=n}ngOnChanges(){this.renderer.setAttribute(this.el.nativeElement,"title",this.label),this.renderer.setAttribute(this.el.nativeElement,"aria-label",this.label)}static \u0275fac=function(n){return new(n||i)(Ct(Hi),Ct($i))};static \u0275dir=Wi({type:i,selectors:[["","appAccessible",""]],inputs:{label:[0,"appAccessible","label"]},features:[Ui]})}return i})();var Ts=(()=>{class i{prefersDark=window.matchMedia("(prefers-color-scheme: dark)");themeSignal=E(this.getStoredTheme());theme=this.themeSignal.asReadonly();isDarkMode=K(()=>this.themeSignal()==="dark"||this.themeSignal()==="auto"&&this.detectSystemTheme());constructor(){Ye(()=>{let e=this.themeSignal();this.applyTheme(e)}),this.prefersDark.addEventListener("change",()=>{this.themeSignal()==="auto"&&this.applyTheme("auto")})}setTheme(e){this.themeSignal.set(e),localStorage.setItem("theme",e)}getStoredTheme(){return localStorage.getItem("theme")||"auto"}applyTheme(e){let n=document.documentElement;n.removeAttribute("data-theme"),e!=="auto"&&n.setAttribute("data-theme",e)}detectSystemTheme(){return window.matchMedia("(prefers-color-scheme: dark)").matches}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function xs(i){return new L(3e3,!1)}function _o(){return new L(3100,!1)}function vo(){return new L(3101,!1)}function yo(i){return new L(3001,!1)}function bo(i){return new L(3003,!1)}function Co(i){return new L(3004,!1)}function As(i,t){return new L(3005,!1)}function ks(){return new L(3006,!1)}function Is(){return new L(3007,!1)}function Rs(i,t){return new L(3008,!1)}function Ds(i){return new L(3002,!1)}function Ns(i,t,e,n,s){return new L(3010,!1)}function Ps(){return new L(3011,!1)}function Os(){return new L(3012,!1)}function Vs(){return new L(3200,!1)}function Ls(){return new L(3202,!1)}function Fs(){return new L(3013,!1)}function Bs(i){return new L(3014,!1)}function qs(i){return new L(3015,!1)}function Us(i){return new L(3016,!1)}function js(i,t){return new L(3404,!1)}function So(i){return new L(3502,!1)}function zs(i){return new L(3503,!1)}function Hs(){return new L(3300,!1)}function Gs(i){return new L(3504,!1)}function Zs(i){return new L(3301,!1)}function $s(i,t){return new L(3302,!1)}function Ws(i){return new L(3303,!1)}function Ks(i,t){return new L(3400,!1)}function Qs(i){return new L(3401,!1)}function Ys(i){return new L(3402,!1)}function Js(i,t){return new L(3505,!1)}function Ne(i){switch(i.length){case 0:return new Je;case 1:return i[0];default:return new Yt(i)}}function jn(i,t,e=new Map,n=new Map){let s=[],r=[],o=-1,a=null;if(t.forEach(m=>{let u=m.get("offset"),g=u==o,v=g&&a||new Map;m.forEach((A,D)=>{let S=D,k=A;if(D!=="offset")switch(S=i.normalizePropertyName(S,s),k){case St:k=e.get(D);break;case be:k=n.get(D);break;default:k=i.normalizeStyleValue(D,S,k,s);break}v.set(S,k)}),g||r.push(v),a=v,o=u}),s.length)throw So(s);return r}function Xt(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&Bn(e,"start",i)));break;case"done":i.onDone(()=>n(e&&Bn(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&Bn(e,"destroy",i)));break}}function Bn(i,t,e){let n=e.totalTime,s=!!e.disabled,r=en(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,n??i.totalTime,s),o=i._data;return o!=null&&(r._data=o),r}function en(i,t,e,n,s="",r=0,o){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:s,totalTime:r,disabled:!!o}}function de(i,t,e){let n=i.get(t);return n||i.set(t,n=e),n}function zn(i){let t=i.indexOf(":"),e=i.substring(1,t),n=i.slice(t+1);return[e,n]}var wo=typeof document>"u"?null:document.documentElement;function tn(i){let t=i.parentNode||i.host||null;return t===wo?null:t}function Eo(i){return i.substring(1,6)=="ebkit"}var Xe=null,Ms=!1;function Xs(i){Xe||(Xe=To()||{},Ms=Xe.style?"WebkitAppearance"in Xe.style:!1);let t=!0;return Xe.style&&!Eo(i)&&(t=i in Xe.style,!t&&Ms&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in Xe.style)),t}function To(){return typeof document<"u"?document.body:null}function Hn(i,t){for(;t;){if(t===i)return!0;t=tn(t)}return!1}function Gn(i,t,e){if(e)return Array.from(i.querySelectorAll(t));let n=i.querySelector(t);return n?[n]:[]}var xo=1e3,Zn="{{",Mo="}}",$n="ng-enter",nn="ng-leave",wt="ng-trigger",Et=".ng-trigger",Wn="ng-animating",sn=".ng-animating";function ke(i){if(typeof i=="number")return i;let t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:qn(parseFloat(t[1]),t[2])}function qn(i,t){switch(t){case"s":return i*xo;default:return i}}function Tt(i,t,e){return i.hasOwnProperty("duration")?i:Ao(i,t,e)}function Ao(i,t,e){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,s,r=0,o="";if(typeof i=="string"){let a=i.match(n);if(a===null)return t.push(xs(i)),{duration:0,delay:0,easing:""};s=qn(parseFloat(a[1]),a[2]);let m=a[3];m!=null&&(r=qn(parseFloat(m),a[4]));let u=a[5];u&&(o=u)}else s=i;if(!e){let a=!1,m=t.length;s<0&&(t.push(_o()),a=!0),r<0&&(t.push(vo()),a=!0),a&&t.splice(m,0,xs(i))}return{duration:s,delay:r,easing:o}}function er(i){return i.length?i[0]instanceof Map?i:i.map(t=>new Map(Object.entries(t))):[]}function Ce(i,t,e){t.forEach((n,s)=>{let r=rn(s);e&&!e.has(s)&&e.set(s,i.style[r]),i.style[r]=n})}function qe(i,t){t.forEach((e,n)=>{let s=rn(n);i.style[s]=""})}function ut(i){return Array.isArray(i)?i.length==1?i[0]:Ss(i):i}function tr(i,t,e){let n=t.params||{},s=Kn(i);s.length&&s.forEach(r=>{n.hasOwnProperty(r)||e.push(yo(r))})}var Un=new RegExp(`${Zn}\\s*(.+?)\\s*${Mo}`,"g");function Kn(i){let t=[];if(typeof i=="string"){let e;for(;e=Un.exec(i);)t.push(e[1]);Un.lastIndex=0}return t}function pt(i,t,e){let n=`${i}`,s=n.replace(Un,(r,o)=>{let a=t[o];return a==null&&(e.push(bo(o)),a=""),a.toString()});return s==n?i:s}var ko=/-+([a-z0-9])/g;function rn(i){return i.replace(ko,(...t)=>t[1].toUpperCase())}function nr(i,t){return i===0||t===0}function ir(i,t,e){if(e.size&&t.length){let n=t[0],s=[];if(e.forEach((r,o)=>{n.has(o)||s.push(o),n.set(o,r)}),s.length)for(let r=1;r<t.length;r++){let o=t[r];s.forEach(a=>o.set(a,on(i,a)))}}return t}function me(i,t,e){switch(t.type){case P.Trigger:return i.visitTrigger(t,e);case P.State:return i.visitState(t,e);case P.Transition:return i.visitTransition(t,e);case P.Sequence:return i.visitSequence(t,e);case P.Group:return i.visitGroup(t,e);case P.Animate:return i.visitAnimate(t,e);case P.Keyframes:return i.visitKeyframes(t,e);case P.Style:return i.visitStyle(t,e);case P.Reference:return i.visitReference(t,e);case P.AnimateChild:return i.visitAnimateChild(t,e);case P.AnimateRef:return i.visitAnimateRef(t,e);case P.Query:return i.visitQuery(t,e);case P.Stagger:return i.visitStagger(t,e);default:throw Co(t.type)}}function on(i,t){return window.getComputedStyle(i)[t]}var ui=(()=>{class i{validateStyleProperty(e){return Xs(e)}containsElement(e,n){return Hn(e,n)}getParentElement(e){return tn(e)}query(e,n,s){return Gn(e,n,s)}computeStyle(e,n,s){return s||""}animate(e,n,s,r,o,a=[],m){return new Je(s,r)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac})}return i})(),tt=class{static NOOP=new ui},nt=class{};var Io=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),mn=class extends nt{normalizePropertyName(t,e){return rn(t)}normalizeStyleValue(t,e,n,s){let r="",o=n.toString().trim();if(Io.has(e)&&n!==0&&n!=="0")if(typeof n=="number")r="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&s.push(As(t,n))}return o+r}};var un="*";function Ro(i,t){let e=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(n=>Do(n,e,t)):e.push(i),e}function Do(i,t,e){if(i[0]==":"){let m=No(i,e);if(typeof m=="function"){t.push(m);return}i=m}let n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return e.push(qs(i)),t;let s=n[1],r=n[2],o=n[3];t.push(sr(s,o));let a=s==un&&o==un;r[0]=="<"&&!a&&t.push(sr(o,s))}function No(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(Us(i)),"* => *"}}var an=new Set(["true","1"]),ln=new Set(["false","0"]);function sr(i,t){let e=an.has(i)||ln.has(i),n=an.has(t)||ln.has(t);return(s,r)=>{let o=i==un||i==s,a=t==un||t==r;return!o&&e&&typeof s=="boolean"&&(o=s?an.has(i):ln.has(i)),!a&&n&&typeof r=="boolean"&&(a=r?an.has(t):ln.has(t)),o&&a}}var hr=":self",Po=new RegExp(`s*${hr}s*,?`,"g");function fr(i,t,e,n){return new ti(i).build(t,e,n)}var rr="",ti=class{_driver;constructor(t){this._driver=t}build(t,e,n){let s=new ni(e);return this._resetContextStyleTimingState(s),me(this,ut(t),s)}_resetContextStyleTimingState(t){t.currentQuerySelector=rr,t.collectedStyles=new Map,t.collectedStyles.set(rr,new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,s=e.depCount=0,r=[],o=[];return t.name.charAt(0)=="@"&&e.errors.push(ks()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==P.State){let m=a,u=m.name;u.toString().split(/\s*,\s*/).forEach(g=>{m.name=g,r.push(this.visitState(m,e))}),m.name=u}else if(a.type==P.Transition){let m=this.visitTransition(a,e);n+=m.queryCount,s+=m.depCount,o.push(m)}else e.errors.push(Is())}),{type:P.Trigger,name:t.name,states:r,transitions:o,queryCount:n,depCount:s,options:null}}visitState(t,e){let n=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(n.containsDynamicStyles){let r=new Set,o=s||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(m=>{Kn(m).forEach(u=>{o.hasOwnProperty(u)||r.add(u)})})}),r.size&&e.errors.push(Rs(t.name,[...r.values()]))}return{type:P.State,name:t.name,style:n,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let n=me(this,ut(t.animation),e),s=Ro(t.expr,e.errors);return{type:P.Transition,matchers:s,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:et(t.options)}}visitSequence(t,e){return{type:P.Sequence,steps:t.steps.map(n=>me(this,n,e)),options:et(t.options)}}visitGroup(t,e){let n=e.currentTime,s=0,r=t.steps.map(o=>{e.currentTime=n;let a=me(this,o,e);return s=Math.max(s,e.currentTime),a});return e.currentTime=s,{type:P.Group,steps:r,options:et(t.options)}}visitAnimate(t,e){let n=Fo(t.timings,e.errors);e.currentAnimateTimings=n;let s,r=t.styles?t.styles:Fn({});if(r.type==P.Keyframes)s=this.visitKeyframes(r,e);else{let o=t.styles,a=!1;if(!o){a=!0;let u={};n.easing&&(u.easing=n.easing),o=Fn(u)}e.currentTime+=n.duration+n.delay;let m=this.visitStyle(o,e);m.isEmptyStep=a,s=m}return e.currentAnimateTimings=null,{type:P.Animate,timings:n,style:s,options:null}}visitStyle(t,e){let n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){let n=[],s=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of s)typeof a=="string"?a===be?n.push(a):e.errors.push(Ds(a)):n.push(new Map(Object.entries(a)));let r=!1,o=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!r)){for(let m of a.values())if(m.toString().indexOf(Zn)>=0){r=!0;break}}}),{type:P.Style,styles:n,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){let n=e.currentAnimateTimings,s=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,m)=>{let u=e.collectedStyles.get(e.currentQuerySelector),g=u.get(m),v=!0;g&&(r!=s&&r>=g.startTime&&s<=g.endTime&&(e.errors.push(Ns(m,g.startTime,g.endTime,r,s)),v=!1),r=g.startTime),v&&u.set(m,{startTime:r,endTime:s}),e.options&&tr(a,e.options,e.errors)})})}visitKeyframes(t,e){let n={type:P.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Ps()),n;let s=1,r=0,o=[],a=!1,m=!1,u=0,g=t.steps.map(Q=>{let Y=this._makeStyleAst(Q,e),ie=Y.offset!=null?Y.offset:Lo(Y.styles),ee=0;return ie!=null&&(r++,ee=Y.offset=ie),m=m||ee<0||ee>1,a=a||ee<u,u=ee,o.push(ee),Y});m&&e.errors.push(Os()),a&&e.errors.push(Vs());let v=t.steps.length,A=0;r>0&&r<v?e.errors.push(Ls()):r==0&&(A=s/(v-1));let D=v-1,S=e.currentTime,k=e.currentAnimateTimings,z=k.duration;return g.forEach((Q,Y)=>{let ie=A>0?Y==D?1:A*Y:o[Y],ee=ie*z;e.currentTime=S+k.delay+ee,k.duration=ee,this._validateStyleAst(Q,e),Q.offset=ie,n.styles.push(Q)}),n}visitReference(t,e){return{type:P.Reference,animation:me(this,ut(t.animation),e),options:et(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:P.AnimateChild,options:et(t.options)}}visitAnimateRef(t,e){return{type:P.AnimateRef,animation:this.visitReference(t.animation,e),options:et(t.options)}}visitQuery(t,e){let n=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;let[r,o]=Oo(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,de(e.collectedStyles,e.currentQuerySelector,new Map);let a=me(this,ut(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:P.Query,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:et(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(Fs());let n=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Tt(t.timings,e.errors,!0);return{type:P.Stagger,animation:me(this,ut(t.animation),e),timings:n,options:null}}};function Oo(i){let t=!!i.split(/\s*,\s*/).find(e=>e==hr);return t&&(i=i.replace(Po,"")),i=i.replace(/@\*/g,Et).replace(/@\w+/g,e=>Et+"-"+e.slice(1)).replace(/:animating/g,sn),[i,t]}function Vo(i){return i?G({},i):null}var ni=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function Lo(i){if(typeof i=="string")return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function Fo(i,t){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let r=Tt(i,t).duration;return Qn(r,0,"")}let e=i;if(e.split(/\s+/).some(r=>r.charAt(0)=="{"&&r.charAt(1)=="{")){let r=Qn(0,0,"");return r.dynamic=!0,r.strValue=e,r}let s=Tt(e,t);return Qn(s.duration,s.delay,s.easing)}function et(i){return i?(i=G({},i),i.params&&(i.params=Vo(i.params))):i={},i}function Qn(i,t,e){return{duration:i,delay:t,easing:e}}function pi(i,t,e,n,s,r,o=null,a=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:s,delay:r,totalTime:s+r,easing:o,subTimeline:a}}var Mt=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},Bo=1,qo=":enter",Uo=new RegExp(qo,"g"),jo=":leave",zo=new RegExp(jo,"g");function gr(i,t,e,n,s,r=new Map,o=new Map,a,m,u=[]){return new ii().buildKeyframes(i,t,e,n,s,r,o,a,m,u)}var ii=class{buildKeyframes(t,e,n,s,r,o,a,m,u,g=[]){u=u||new Mt;let v=new si(t,e,u,s,r,g,[]);v.options=m;let A=m.delay?ke(m.delay):0;v.currentTimeline.delayNextStep(A),v.currentTimeline.setStyles([o],null,v.errors,m),me(this,n,v);let D=v.timelines.filter(S=>S.containsAnimation());if(D.length&&a.size){let S;for(let k=D.length-1;k>=0;k--){let z=D[k];if(z.element===e){S=z;break}}S&&!S.allowOnlyTimelineStyles()&&S.setStyles([a],null,v.errors,m)}return D.length?D.map(S=>S.buildKeyframes()):[pi(e,[],[],[],0,A,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let n=e.subInstructions.get(e.element);if(n){let s=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,s,s.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){let n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(let s of t){let r=s?.delay;if(r){let o=typeof r=="number"?r:ke(pt(r,s?.params??{},e.errors));n.delayNextStep(o)}}}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime,o=n.duration!=null?ke(n.duration):null,a=n.delay!=null?ke(n.delay):null;return o!==0&&t.forEach(m=>{let u=e.appendInstructionToTimeline(m,o,a);r=Math.max(r,u.duration+u.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),me(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let n=e.subContextCount,s=e,r=t.options;if(r&&(r.params||r.delay)&&(s=e.createSubContext(r),s.transformIntoNewTimeline(),r.delay!=null)){s.previousNode.type==P.Style&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=pn);let o=ke(r.delay);s.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>me(this,o,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>n&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let n=[],s=e.currentTimeline.currentTime,r=t.options&&t.options.delay?ke(t.options.delay):0;t.steps.forEach(o=>{let a=e.createSubContext(t.options);r&&a.delayNextStep(r),me(this,o,a),s=Math.max(s,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let n=t.strValue,s=e.params?pt(n,e.params,e.errors):n;return Tt(s,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let n=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),s.snapshotCurrentStyles());let r=t.style;r.type==P.Keyframes?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let n=e.currentTimeline,s=e.currentAnimateTimings;!s&&n.hasCurrentStyleProperties()&&n.forwardFrame();let r=s&&s.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let n=e.currentAnimateTimings,s=e.currentTimeline.duration,r=n.duration,a=e.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(m=>{let u=m.offset||0;a.forwardTime(u*r),a.setStyles(m.styles,m.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(s+r),e.previousNode=t}visitQuery(t,e){let n=e.currentTimeline.currentTime,s=t.options||{},r=s.delay?ke(s.delay):0;r&&(e.previousNode.type===P.Style||n==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=pn);let o=n,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=a.length;let m=null;a.forEach((u,g)=>{e.currentQueryIndex=g;let v=e.createSubContext(t.options,u);r&&v.delayNextStep(r),u===e.element&&(m=v.currentTimeline),me(this,t.animation,v),v.currentTimeline.applyStylesToKeyframe();let A=v.currentTimeline.currentTime;o=Math.max(o,A)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let n=e.parentContext,s=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),a=o*(e.currentQueryTotal-1),m=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":m=a-m;break;case"full":m=n.currentStaggerTime;break}let g=e.currentTimeline;m&&g.delayNextStep(m);let v=g.currentTime;me(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=s.currentTime-v+(s.startTime-n.currentTimeline.startTime)}},pn={},si=class i{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=pn;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,n,s,r,o,a,m){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=s,this._leaveClassName=r,this.errors=o,this.timelines=a,this.currentTimeline=m||new hn(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let n=t,s=this.options;n.duration!=null&&(s.duration=ke(n.duration)),n.delay!=null&&(s.delay=ke(n.delay));let r=n.params;if(r){let o=s.params;o||(o=this.options.params={}),Object.keys(r).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=pt(r[a],o,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let n=t.params={};Object.keys(e).forEach(s=>{n[s]=e[s]})}}return t}createSubContext(t=null,e,n){let s=e||this.element,r=new i(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=pn,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){let s={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},r=new ri(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,s,r,o){let a=[];if(s&&a.push(this.element),t.length>0){t=t.replace(Uo,"."+this._enterClassName),t=t.replace(zo,"."+this._leaveClassName);let m=n!=1,u=this._driver.query(this.element,t,m);n!==0&&(u=n<0?u.slice(u.length+n,u.length):u.slice(0,n)),a.push(...u)}return!r&&a.length==0&&o.push(Bs(e)),a}},hn=class i{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,n,s){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=s,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new i(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Bo,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||be),this._currentKeyframe.set(e,be);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,s){e&&this._previousKeyframe.set("easing",e);let r=s&&s.params||{},o=Ho(t,this._globalTimelineStyles);for(let[a,m]of o){let u=pt(m,r,n);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??be),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{let s=this._styleSummary.get(n);(!s||e.time>s.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,n=this._keyframes.size===1&&this.duration===0,s=[];this._keyframes.forEach((a,m)=>{let u=new Map([...this._backFill,...a]);u.forEach((g,v)=>{g===St?t.add(v):g===be&&e.add(v)}),n||u.set("offset",m/this.duration),s.push(u)});let r=[...t.values()],o=[...e.values()];if(n){let a=s[0],m=new Map(a);a.set("offset",0),m.set("offset",1),s=[a,m]}return pi(this.element,s,r,o,this.duration,this.startTime,this.easing,!1)}},ri=class extends hn{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,n,s,r,o,a=!1){super(t,e,o.delay),this.keyframes=n,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){let r=[],o=n+e,a=e/o,m=new Map(t[0]);m.set("offset",0),r.push(m);let u=new Map(t[0]);u.set("offset",or(a)),r.push(u);let g=t.length-1;for(let v=1;v<=g;v++){let A=new Map(t[v]),D=A.get("offset"),S=e+D*n;A.set("offset",or(S/o)),r.push(A)}n=o,e=0,s="",t=r}return pi(this.element,t,this.preStyleProps,this.postStyleProps,n,e,s,!0)}};function or(i,t=3){let e=Math.pow(10,t-1);return Math.round(i*e)/e}function Ho(i,t){let e=new Map,n;return i.forEach(s=>{if(s==="*"){n??=t.keys();for(let r of n)e.set(r,be)}else for(let[r,o]of s)e.set(r,o)}),e}function ar(i,t,e,n,s,r,o,a,m,u,g,v,A){return{type:0,element:i,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:r,toState:n,toStyles:o,timelines:a,queriedElements:m,preStyleProps:u,postStyleProps:g,totalTime:v,errors:A}}var Yn={},fn=class{_triggerName;ast;_stateStyles;constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,s){return Go(this.ast.matchers,t,e,n,s)}buildStyles(t,e,n){let s=this._stateStyles.get("*");return t!==void 0&&(s=this._stateStyles.get(t?.toString())||s),s?s.buildStyles(e,n):new Map}build(t,e,n,s,r,o,a,m,u,g){let v=[],A=this.ast.options&&this.ast.options.params||Yn,D=a&&a.params||Yn,S=this.buildStyles(n,D,v),k=m&&m.params||Yn,z=this.buildStyles(s,k,v),Q=new Set,Y=new Map,ie=new Map,ee=s==="void",rt={params:_r(k,A),delay:this.ast.options?.delay},Ee=g?[]:gr(t,e,this.ast.animation,r,o,S,z,rt,u,v),se=0;return Ee.forEach(ae=>{se=Math.max(ae.duration+ae.delay,se)}),v.length?ar(e,this._triggerName,n,s,ee,S,z,[],[],Y,ie,se,v):(Ee.forEach(ae=>{let ze=ae.element,ot=de(Y,ze,new Set);ae.preStyleProps.forEach(He=>ot.add(He));let Ii=de(ie,ze,new Set);ae.postStyleProps.forEach(He=>Ii.add(He)),ze!==e&&Q.add(ze)}),ar(e,this._triggerName,n,s,ee,S,z,Ee,[...Q.values()],Y,ie,se))}};function Go(i,t,e,n,s){return i.some(r=>r(t,e,n,s))}function _r(i,t){let e=G({},t);return Object.entries(i).forEach(([n,s])=>{s!=null&&(e[n]=s)}),e}var oi=class{styles;defaultParams;normalizer;constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){let n=new Map,s=_r(t,this.defaultParams);return this.styles.styles.forEach(r=>{typeof r!="string"&&r.forEach((o,a)=>{o&&(o=pt(o,s,e));let m=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,m,o,e),n.set(a,o)})}),n}};function Zo(i,t,e){return new ai(i,t,e)}var ai=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,e.states.forEach(s=>{let r=s.options&&s.options.params||{};this.states.set(s.name,new oi(s.style,r,n))}),lr(this.states,"true","1"),lr(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new fn(t,s,this.states))}),this.fallbackTransition=$o(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,s){return this.transitionFactories.find(o=>o.match(t,e,n,s))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}};function $o(i,t,e){let n=[(o,a)=>!0],s={type:P.Sequence,steps:[],options:null},r={type:P.Transition,animation:s,matchers:n,options:null,queryCount:0,depCount:0};return new fn(i,r,t)}function lr(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}var Wo=new Mt,li=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n}register(t,e){let n=[],s=[],r=fr(this._driver,e,n,s);if(n.length)throw zs(n);this._animations.set(t,r)}_buildPlayer(t,e,n){let s=t.element,r=jn(this._normalizer,t.keyframes,e,n);return this._driver.animate(s,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){let s=[],r=this._animations.get(t),o,a=new Map;if(r?(o=gr(this._driver,e,r,$n,nn,new Map,new Map,n,Wo,s),o.forEach(g=>{let v=de(a,g.element,new Map);g.postStyleProps.forEach(A=>v.set(A,null))})):(s.push(Hs()),o=[]),s.length)throw Gs(s);a.forEach((g,v)=>{g.forEach((A,D)=>{g.set(D,this._driver.computeStyle(v,D,be))})});let m=o.map(g=>{let v=a.get(g.element);return this._buildPlayer(g,new Map,v)}),u=Ne(m);return this._playersById.set(t,u),u.onDestroy(()=>this.destroy(t)),this.players.push(u),u}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw Zs(t);return e}listen(t,e,n,s){let r=en(e,"","","");return Xt(this._getPlayer(t),n,r,s),()=>{}}command(t,e,n,s){if(n=="register"){this.register(t,s[0]);return}if(n=="create"){let o=s[0]||{};this.create(t,e,o);return}let r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t);break}}},cr="ng-animate-queued",Ko=".ng-animate-queued",Jn="ng-animate-disabled",Qo=".ng-animate-disabled",Yo="ng-star-inserted",Jo=".ng-star-inserted",Xo=[],vr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ea={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Se="__ng_removed",At=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let n=t&&t.hasOwnProperty("value"),s=n?t.value:t;if(this.value=na(s),n){let r=t,{value:o}=r,a=Pi(r,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let n=this.options.params;Object.keys(e).forEach(s=>{n[s]==null&&(n[s]=e[s])})}}},xt="void",Xn=new At(xt),ci=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this._hostClassName="ng-tns-"+t,ye(e,this._hostClassName)}listen(t,e,n,s){if(!this._triggers.has(e))throw $s(n,e);if(n==null||n.length==0)throw Ws(e);if(!ia(n))throw Ks(n,e);let r=de(this._elementListeners,t,[]),o={name:e,phase:n,callback:s};r.push(o);let a=de(this._engine.statesByElement,t,new Map);return a.has(e)||(ye(t,wt),ye(t,wt+"-"+e),a.set(e,Xn)),()=>{this._engine.afterFlush(()=>{let m=r.indexOf(o);m>=0&&r.splice(m,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw Qs(t);return e}trigger(t,e,n,s=!0){let r=this._getTrigger(e),o=new kt(this.id,e,t),a=this._engine.statesByElement.get(t);a||(ye(t,wt),ye(t,wt+"-"+e),this._engine.statesByElement.set(t,a=new Map));let m=a.get(e),u=new At(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&m&&u.absorbOptions(m.options),a.set(e,u),m||(m=Xn),!(u.value===xt)&&m.value===u.value){if(!oa(m.params,u.params)){let k=[],z=r.matchStyles(m.value,m.params,k),Q=r.matchStyles(u.value,u.params,k);k.length?this._engine.reportError(k):this._engine.afterFlush(()=>{qe(t,z),Ce(t,Q)})}return}let A=de(this._engine.playersByElement,t,[]);A.forEach(k=>{k.namespaceId==this.id&&k.triggerName==e&&k.queued&&k.destroy()});let D=r.matchTransition(m.value,u.value,t,u.params),S=!1;if(!D){if(!s)return;D=r.fallbackTransition,S=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:D,fromState:m,toState:u,player:o,isFallbackTransition:S}),S||(ye(t,cr),o.onStart(()=>{ht(t,cr)})),o.onDone(()=>{let k=this.players.indexOf(o);k>=0&&this.players.splice(k,1);let z=this._engine.playersByElement.get(t);if(z){let Q=z.indexOf(o);Q>=0&&z.splice(Q,1)}}),this.players.push(o),A.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let n=this._engine.driver.query(t,Et,!0);n.forEach(s=>{if(s[Se])return;let r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(o=>o.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,n,s){let r=this._engine.statesByElement.get(t),o=new Map;if(r){let a=[];if(r.forEach((m,u)=>{if(o.set(u,m.value),this._triggers.has(u)){let g=this.trigger(t,u,xt,s);g&&a.push(g)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),n&&Ne(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){let s=new Set;e.forEach(r=>{let o=r.name;if(s.has(o))return;s.add(o);let m=this._triggers.get(o).fallbackTransition,u=n.get(o)||Xn,g=new At(xt),v=new kt(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:m,fromState:u,toState:g,player:v,isFallbackTransition:!0})})}}removeNode(t,e){let n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(n.totalAnimations){let r=n.players.length?n.playersByQueriedElement.get(t):[];if(r&&r.length)s=!0;else{let o=t;for(;o=o.parentNode;)if(n.statesByElement.get(o)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)n.markElementAsRemoved(this.id,t,!1,e);else{let r=t[Se];(!r||r===vr)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){ye(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(n=>{let s=n.player;if(s.destroyed)return;let r=n.element,o=this._elementListeners.get(r);o&&o.forEach(a=>{if(a.name==n.triggerName){let m=en(r,n.triggerName,n.fromState.value,n.toState.value);m._data=t,Xt(n.player,a.phase,m,a.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(n)}),this._queue=[],e.sort((n,s)=>{let r=n.transition.ast.depCount,o=s.transition.ast.depCount;return r==0||o==0?r-o:this._engine.driver.containsElement(n.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},di=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){let n=new ci(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){let n=this._namespaceList,s=this.namespacesByHostElement;if(n.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){let m=s.get(a);if(m){let u=n.indexOf(m);n.splice(u+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||n.unshift(t)}else n.push(t);return s.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let s=this._namespaceLookup[t];s&&s.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);let s=this._namespaceList.indexOf(n);s>=0&&this._namespaceList.splice(s,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,n=this.statesByElement.get(t);if(n){for(let s of n.values())if(s.namespaceId){let r=this._fetchNamespace(s.namespaceId);r&&e.add(r)}}return e}trigger(t,e,n,s){if(cn(e)){let r=this._fetchNamespace(t);if(r)return r.trigger(e,n,s),!0}return!1}insertNode(t,e,n,s){if(!cn(e))return;let r=e[Se];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;let o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){let o=this._fetchNamespace(t);o&&o.insertNode(e,n)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ye(t,Jn)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ht(t,Jn))}removeNode(t,e,n){if(cn(e)){let s=t?this._fetchNamespace(t):null;s?s.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);let r=this.namespacesByHostElement.get(e);r&&r.id!==t&&r.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,s,r){this.collectedLeaveElements.push(e),e[Se]={namespaceId:t,setForRemoval:s,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:r}}listen(t,e,n,s,r){return cn(e)?this._fetchNamespace(t).listen(e,n,s,r):()=>{}}_buildInstruction(t,e,n,s,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,s,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,Et,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,sn,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ne(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[Se];if(e&&e.setForRemoval){if(t[Se]=vr,e.namespaceId){this.destroyInnerAnimations(t);let n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Jn)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Qo,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,s)=>this._balanceNamespaceList(n,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let s=this.collectedEnterElements[n];ye(s,Yo)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{e=this._flushAnimations(n,t)}finally{for(let s=0;s<n.length;s++)n[s]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let s=this.collectedLeaveElements[n];this.processLeaveNode(s)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],e.length?Ne(e).onDone(()=>{n.forEach(s=>s())}):n.forEach(s=>s())}}reportError(t){throw Ys(t)}_flushAnimations(t,e){let n=new Mt,s=[],r=new Map,o=[],a=new Map,m=new Map,u=new Map,g=new Set;this.disabledNodes.forEach(C=>{g.add(C);let w=this.driver.query(C,Ko,!0);for(let T=0;T<w.length;T++)g.add(w[T])});let v=this.bodyNode,A=Array.from(this.statesByElement.keys()),D=ur(A,this.collectedEnterElements),S=new Map,k=0;D.forEach((C,w)=>{let T=$n+k++;S.set(w,T),C.forEach(V=>ye(V,T))});let z=[],Q=new Set,Y=new Set;for(let C=0;C<this.collectedLeaveElements.length;C++){let w=this.collectedLeaveElements[C],T=w[Se];T&&T.setForRemoval&&(z.push(w),Q.add(w),T.hasAnimation?this.driver.query(w,Jo,!0).forEach(V=>Q.add(V)):Y.add(w))}let ie=new Map,ee=ur(A,Array.from(Q));ee.forEach((C,w)=>{let T=nn+k++;ie.set(w,T),C.forEach(V=>ye(V,T))}),t.push(()=>{D.forEach((C,w)=>{let T=S.get(w);C.forEach(V=>ht(V,T))}),ee.forEach((C,w)=>{let T=ie.get(w);C.forEach(V=>ht(V,T))}),z.forEach(C=>{this.processLeaveNode(C)})});let rt=[],Ee=[];for(let C=this._namespaceList.length-1;C>=0;C--)this._namespaceList[C].drainQueuedTransitions(e).forEach(T=>{let V=T.player,J=T.element;if(rt.push(V),this.collectedEnterElements.length){let te=J[Se];if(te&&te.setForMove){if(te.previousTriggersValues&&te.previousTriggersValues.has(T.triggerName)){let Ge=te.previousTriggersValues.get(T.triggerName),ve=this.statesByElement.get(T.element);if(ve&&ve.has(T.triggerName)){let Bt=ve.get(T.triggerName);Bt.value=Ge,ve.set(T.triggerName,Bt)}}V.destroy();return}}let Te=!v||!this.driver.containsElement(v,J),ue=ie.get(J),Le=S.get(J),H=this._buildInstruction(T,n,Le,ue,Te);if(H.errors&&H.errors.length){Ee.push(H);return}if(Te){V.onStart(()=>qe(J,H.fromStyles)),V.onDestroy(()=>Ce(J,H.toStyles)),s.push(V);return}if(T.isFallbackTransition){V.onStart(()=>qe(J,H.fromStyles)),V.onDestroy(()=>Ce(J,H.toStyles)),s.push(V);return}let Ni=[];H.timelines.forEach(te=>{te.stretchStartingKeyframe=!0,this.disabledNodes.has(te.element)||Ni.push(te)}),H.timelines=Ni,n.append(J,H.timelines);let fo={instruction:H,player:V,element:J};o.push(fo),H.queriedElements.forEach(te=>de(a,te,[]).push(V)),H.preStyleProps.forEach((te,Ge)=>{if(te.size){let ve=m.get(Ge);ve||m.set(Ge,ve=new Set),te.forEach((Bt,Dn)=>ve.add(Dn))}}),H.postStyleProps.forEach((te,Ge)=>{let ve=u.get(Ge);ve||u.set(Ge,ve=new Set),te.forEach((Bt,Dn)=>ve.add(Dn))})});if(Ee.length){let C=[];Ee.forEach(w=>{C.push(Js(w.triggerName,w.errors))}),rt.forEach(w=>w.destroy()),this.reportError(C)}let se=new Map,ae=new Map;o.forEach(C=>{let w=C.element;n.has(w)&&(ae.set(w,w),this._beforeAnimationBuild(C.player.namespaceId,C.instruction,se))}),s.forEach(C=>{let w=C.element;this._getPreviousPlayers(w,!1,C.namespaceId,C.triggerName,null).forEach(V=>{de(se,w,[]).push(V),V.destroy()})});let ze=z.filter(C=>pr(C,m,u)),ot=new Map;mr(ot,this.driver,Y,u,be).forEach(C=>{pr(C,m,u)&&ze.push(C)});let He=new Map;D.forEach((C,w)=>{mr(He,this.driver,new Set(C),m,St)}),ze.forEach(C=>{let w=ot.get(C),T=He.get(C);ot.set(C,new Map([...w?.entries()??[],...T?.entries()??[]]))});let Rn=[],Ri=[],Di={};o.forEach(C=>{let{element:w,player:T,instruction:V}=C;if(n.has(w)){if(g.has(w)){T.onDestroy(()=>Ce(w,V.toStyles)),T.disabled=!0,T.overrideTotalTime(V.totalTime),s.push(T);return}let J=Di;if(ae.size>1){let ue=w,Le=[];for(;ue=ue.parentNode;){let H=ae.get(ue);if(H){J=H;break}Le.push(ue)}Le.forEach(H=>ae.set(H,J))}let Te=this._buildAnimation(T.namespaceId,V,se,r,He,ot);if(T.setRealPlayer(Te),J===Di)Rn.push(T);else{let ue=this.playersByElement.get(J);ue&&ue.length&&(T.parentPlayer=Ne(ue)),s.push(T)}}else qe(w,V.fromStyles),T.onDestroy(()=>Ce(w,V.toStyles)),Ri.push(T),g.has(w)&&s.push(T)}),Ri.forEach(C=>{let w=r.get(C.element);if(w&&w.length){let T=Ne(w);C.setRealPlayer(T)}}),s.forEach(C=>{C.parentPlayer?C.syncPlayerEvents(C.parentPlayer):C.destroy()});for(let C=0;C<z.length;C++){let w=z[C],T=w[Se];if(ht(w,nn),T&&T.hasAnimation)continue;let V=[];if(a.size){let Te=a.get(w);Te&&Te.length&&V.push(...Te);let ue=this.driver.query(w,sn,!0);for(let Le=0;Le<ue.length;Le++){let H=a.get(ue[Le]);H&&H.length&&V.push(...H)}}let J=V.filter(Te=>!Te.destroyed);J.length?sa(this,w,J):this.processLeaveNode(w)}return z.length=0,Rn.forEach(C=>{this.players.push(C),C.onDone(()=>{C.destroy();let w=this.players.indexOf(C);this.players.splice(w,1)}),C.play()}),Rn}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,s,r){let o=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(o=a)}else{let a=this.playersByElement.get(t);if(a){let m=!r||r==xt;a.forEach(u=>{u.queued||!m&&u.triggerName!=s||o.push(u)})}}return(n||s)&&(o=o.filter(a=>!(n&&n!=a.namespaceId||s&&s!=a.triggerName))),o}_beforeAnimationBuild(t,e,n){let s=e.triggerName,r=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:s;for(let m of e.timelines){let u=m.element,g=u!==r,v=de(n,u,[]);this._getPreviousPlayers(u,g,o,a,e.toState).forEach(D=>{let S=D.getRealPlayer();S.beforeDestroy&&S.beforeDestroy(),D.destroy(),v.push(D)})}qe(r,e.fromStyles)}_buildAnimation(t,e,n,s,r,o){let a=e.triggerName,m=e.element,u=[],g=new Set,v=new Set,A=e.timelines.map(S=>{let k=S.element;g.add(k);let z=k[Se];if(z&&z.removedBeforeQueried)return new Je(S.duration,S.delay);let Q=k!==m,Y=ra((n.get(k)||Xo).map(se=>se.getRealPlayer())).filter(se=>{let ae=se;return ae.element?ae.element===k:!1}),ie=r.get(k),ee=o.get(k),rt=jn(this._normalizer,S.keyframes,ie,ee),Ee=this._buildPlayer(S,rt,Y);if(S.subTimeline&&s&&v.add(k),Q){let se=new kt(t,a,k);se.setRealPlayer(Ee),u.push(se)}return Ee});u.forEach(S=>{de(this.playersByQueriedElement,S.element,[]).push(S),S.onDone(()=>ta(this.playersByQueriedElement,S.element,S))}),g.forEach(S=>ye(S,Wn));let D=Ne(A);return D.onDestroy(()=>{g.forEach(S=>ht(S,Wn)),Ce(m,e.toStyles)}),v.forEach(S=>{de(s,S,[]).push(D)}),D}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Je(t.duration,t.delay)}},kt=class{namespaceId;triggerName;element;_player=new Je;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(s=>Xt(t,n,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){de(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function ta(i,t,e){let n=i.get(t);if(n){if(n.length){let s=n.indexOf(e);n.splice(s,1)}n.length==0&&i.delete(t)}return n}function na(i){return i??null}function cn(i){return i&&i.nodeType===1}function ia(i){return i=="start"||i=="done"}function dr(i,t){let e=i.style.display;return i.style.display=t??"none",e}function mr(i,t,e,n,s){let r=[];e.forEach(m=>r.push(dr(m)));let o=[];n.forEach((m,u)=>{let g=new Map;m.forEach(v=>{let A=t.computeStyle(u,v,s);g.set(v,A),(!A||A.length==0)&&(u[Se]=ea,o.push(u))}),i.set(u,g)});let a=0;return e.forEach(m=>dr(m,r[a++])),o}function ur(i,t){let e=new Map;if(i.forEach(a=>e.set(a,[])),t.length==0)return e;let n=1,s=new Set(t),r=new Map;function o(a){if(!a)return n;let m=r.get(a);if(m)return m;let u=a.parentNode;return e.has(u)?m=u:s.has(u)?m=n:m=o(u),r.set(a,m),m}return t.forEach(a=>{let m=o(a);m!==n&&e.get(m).push(a)}),e}function ye(i,t){i.classList?.add(t)}function ht(i,t){i.classList?.remove(t)}function sa(i,t,e){Ne(e).onDone(()=>i.processLeaveNode(t))}function ra(i){let t=[];return yr(i,t),t}function yr(i,t){for(let e=0;e<i.length;e++){let n=i[e];n instanceof Yt?yr(n.players,t):t.push(n)}}function oa(i,t){let e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let s=0;s<e.length;s++){let r=e[s];if(!t.hasOwnProperty(r)||i[r]!==t[r])return!1}return!0}function pr(i,t,e){let n=e.get(i);if(!n)return!1;let s=t.get(i);return s?n.forEach(r=>s.add(r)):t.set(i,n),e.delete(i),!0}var ft=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,n){this._driver=e,this._normalizer=n,this._transitionEngine=new di(t.body,e,n),this._timelineEngine=new li(t.body,e,n),this._transitionEngine.onRemovalComplete=(s,r)=>this.onRemovalComplete(s,r)}registerTrigger(t,e,n,s,r){let o=t+"-"+s,a=this._triggerCache[o];if(!a){let m=[],u=[],g=fr(this._driver,r,m,u);if(m.length)throw js(s,m);a=Zo(s,g,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,s,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,s){this._transitionEngine.insertNode(t,e,n,s)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,s){if(n.charAt(0)=="@"){let[r,o]=zn(n),a=s;this._timelineEngine.command(r,e,o,a)}else this._transitionEngine.trigger(t,e,n,s)}listen(t,e,n,s,r){if(n.charAt(0)=="@"){let[o,a]=zn(n);return this._timelineEngine.listen(o,e,a,r)}return this._transitionEngine.listen(t,e,n,s,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function aa(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=ei(t[0]),t.length>1&&(n=ei(t[t.length-1]))):t instanceof Map&&(e=ei(t)),e||n?new la(i,e,n):null}var la=(()=>{class i{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,n,s){this._element=e,this._startStyles=n,this._endStyles=s;let r=i.initialStylesByElement.get(e);r||i.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ce(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ce(this._element,this._initialStyles),this._endStyles&&(Ce(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(qe(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qe(this._element,this._endStyles),this._endStyles=null),Ce(this._element,this._initialStyles),this._state=3)}}return i})();function ei(i){let t=null;return i.forEach((e,n)=>{ca(n)&&(t=t||new Map,t.set(n,e))}),t}function ca(i){return i==="display"||i==="position"}var gn=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,n,s){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=s,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,s)=>{s!=="offset"&&t.set(s,this._finished?n:on(this.element,s))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},_n=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return Hn(t,e)}getParentElement(t){return tn(t)}query(t,e,n){return Gn(t,e,n)}computeStyle(t,e,n){return on(t,e)}animate(t,e,n,s,r,o=[]){let a=s==0?"both":"forwards",m={duration:n,delay:s,fill:a};r&&(m.easing=r);let u=new Map,g=o.filter(D=>D instanceof gn);nr(n,s)&&g.forEach(D=>{D.currentSnapshot.forEach((S,k)=>u.set(k,S))});let v=er(e).map(D=>new Map(D));v=ir(t,v,u);let A=aa(t,v);return new gn(t,v,m,A)}};var dn="@",br="@.disabled",vn=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,n,s){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=s}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,s=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,n){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,s){this.delegate.setAttribute(t,e,n,s)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,s){this.delegate.setStyle(t,e,n,s)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==dn&&e==br?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,s){return this.delegate.listen(t,e,n,s)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},mi=class extends vn{factory;constructor(t,e,n,s,r){super(e,n,s,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==dn?e.charAt(1)=="."&&e==br?(n=n===void 0?!0:!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n,s){if(e.charAt(0)==dn){let r=da(t),o=e.slice(1),a="";return o.charAt(0)!=dn&&([o,a]=ma(o)),this.engine.listen(this.namespaceId,r,o,a,m=>{let u=m._data||-1;this.factory.scheduleListenerCallback(u,n,m)})}return this.delegate.listen(t,e,n,s)}};function da(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function ma(i){let t=i.indexOf("."),e=i.substring(0,t),n=i.slice(t+1);return[e,n]}var yn=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,e.onRemovalComplete=(s,r)=>{r?.removeChild(null,s)}}createRenderer(t,e){let n="",s=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let u=this._rendererCache,g=u.get(s);if(!g){let v=()=>u.delete(s);g=new vn(n,s,this.engine,v),u.set(s,g)}return g}let r=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(r,o,t,u.name,u)};return e.data.animation.forEach(a),new mi(this,o,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(n));return}let s=this._animationCallbacksBuffer;s.length==0&&queueMicrotask(()=>{this._zone.run(()=>{s.forEach(r=>{let[o,a]=r;o(a)}),this._animationCallbacksBuffer=[]})}),s.push([e,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var pa=(()=>{class i extends ft{constructor(e,n,s){super(e,n,s)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||i)(Ie(zt),Ie(tt),Ie(nt))};static \u0275prov=le({token:i,factory:i.\u0275fac})}return i})();function ha(){return new mn}function fa(i,t,e){return new yn(i,t,e)}var Cr=[{provide:nt,useFactory:ha},{provide:ft,useClass:pa},{provide:Zi,useFactory:fa,deps:[as,ft,zi]}],vd=[{provide:tt,useClass:ui},{provide:Pn,useValue:"NoopAnimations"},...Cr],ga=[{provide:tt,useFactory:()=>new _n},{provide:Pn,useFactory:()=>"BrowserAnimations"},...Cr];function Sr(){return Gi("NgEagerAnimations"),[...ga]}function _a(i){let t=i,e=Math.floor(Math.abs(i)),n=i.toString().replace(/^[^.]*\.?/,"").length,s=parseInt(i.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return e===Math.floor(e)&&e>=0&&e<=1?1:s===0&&e!==0&&e%1e6===0&&n===0||!(s>=0&&s<=5)?4:5}var wr=["pt",[["AM","PM"],void 0,void 0],void 0,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xE1b."],["domingo","segunda-feira","ter\xE7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xE1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xE1b."]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],void 0,[["a.C.","d.C."],void 0,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",void 0,void 0,void 0],[",",".",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4\xA0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[void 0,"\u0440."],JPY:["JP\xA5","\xA5"],PHP:[void 0,"\u20B1"],PTE:["Esc."],RON:[void 0,"L"],SYP:[void 0,"S\xA3"],THB:["\u0E3F"],TWD:["NT$"],USD:["US$","$"]},"ltr",_a];var Er=(()=>{class i{http;document;iconsLoaded=!1;constructor(e,n){this.http=e,this.document=n}loadSvgIcons(){return pe(this,null,function*(){this.iconsLoaded||this.http.get("icons.svg",{responseType:"text"}).subscribe({next:e=>{this.iconsLoaded=!0},error:e=>{console.error("Erro ao carregar \xEDcones SVG:",e)}})})}injectSvgIntoBody(e){let n=e.replace(/<\?xml[^>]*\?>/,""),s=this.document.createElement("div");s.style.display="none",s.innerHTML=n,this.document.body.insertBefore(s,this.document.body.firstChild)}static \u0275fac=function(n){return new(n||i)(Ie(at),Ie(zt))};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Tr=(()=>{class i{http=Z(at);getTranslation(e){return this.http.get(`i18n/${e}.json`)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var we=Object.create(null);we.open="0";we.close="1";we.ping="2";we.pong="3";we.message="4";we.upgrade="5";we.noop="6";var It=Object.create(null);Object.keys(we).forEach(i=>{It[we[i]]=i});var Rt={type:"error",data:"parser error"};var Ar=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",kr=typeof ArrayBuffer=="function",Ir=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer,Dt=({type:i,data:t},e,n)=>Ar&&t instanceof Blob?e?n(t):xr(t,n):kr&&(t instanceof ArrayBuffer||Ir(t))?e?n(t):xr(new Blob([t]),n):n(we[i]+(t||"")),xr=(i,t)=>{let e=new FileReader;return e.onload=function(){let n=e.result.split(",")[1];t("b"+(n||""))},e.readAsDataURL(i)};function Mr(i){return i instanceof Uint8Array?i:i instanceof ArrayBuffer?new Uint8Array(i):new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}var hi;function Rr(i,t){if(Ar&&i.data instanceof Blob)return i.data.arrayBuffer().then(Mr).then(t);if(kr&&(i.data instanceof ArrayBuffer||Ir(i.data)))return t(Mr(i.data));Dt(i,!1,e=>{hi||(hi=new TextEncoder),t(hi.encode(e))})}var Dr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let i=0;i<Dr.length;i++)Nt[Dr.charCodeAt(i)]=i;var Nr=i=>{let t=i.length*.75,e=i.length,n,s=0,r,o,a,m;i[i.length-1]==="="&&(t--,i[i.length-2]==="="&&t--);let u=new ArrayBuffer(t),g=new Uint8Array(u);for(n=0;n<e;n+=4)r=Nt[i.charCodeAt(n)],o=Nt[i.charCodeAt(n+1)],a=Nt[i.charCodeAt(n+2)],m=Nt[i.charCodeAt(n+3)],g[s++]=r<<2|o>>4,g[s++]=(o&15)<<4|a>>2,g[s++]=(a&3)<<6|m&63;return u};var ya=typeof ArrayBuffer=="function",Pt=(i,t)=>{if(typeof i!="string")return{type:"message",data:Pr(i,t)};let e=i.charAt(0);return e==="b"?{type:"message",data:ba(i.substring(1),t)}:It[e]?i.length>1?{type:It[e],data:i.substring(1)}:{type:It[e]}:Rt},ba=(i,t)=>{if(ya){let e=Nr(i);return Pr(e,t)}else return{base64:!0,data:i}},Pr=(i,t)=>{switch(t){case"blob":return i instanceof Blob?i:new Blob([i]);case"arraybuffer":default:return i instanceof ArrayBuffer?i:i.buffer}};var Or="",Vr=(i,t)=>{let e=i.length,n=new Array(e),s=0;i.forEach((r,o)=>{Dt(r,!1,a=>{n[o]=a,++s===e&&t(n.join(Or))})})},Lr=(i,t)=>{let e=i.split(Or),n=[];for(let s=0;s<e.length;s++){let r=Pt(e[s],t);if(n.push(r),r.type==="error")break}return n};function Fr(){return new TransformStream({transform(i,t){Rr(i,e=>{let n=e.length,s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);let r=new DataView(s.buffer);r.setUint8(0,126),r.setUint16(1,n)}else{s=new Uint8Array(9);let r=new DataView(s.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(n))}i.data&&typeof i.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(e)})}})}var fi;function bn(i){return i.reduce((t,e)=>t+e.length,0)}function Cn(i,t){if(i[0].length===t)return i.shift();let e=new Uint8Array(t),n=0;for(let s=0;s<t;s++)e[s]=i[0][n++],n===i[0].length&&(i.shift(),n=0);return i.length&&n<i[0].length&&(i[0]=i[0].slice(n)),e}function Br(i,t){fi||(fi=new TextDecoder);let e=[],n=0,s=-1,r=!1;return new TransformStream({transform(o,a){for(e.push(o);;){if(n===0){if(bn(e)<1)break;let m=Cn(e,1);r=(m[0]&128)===128,s=m[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(bn(e)<2)break;let m=Cn(e,2);s=new DataView(m.buffer,m.byteOffset,m.length).getUint16(0),n=3}else if(n===2){if(bn(e)<8)break;let m=Cn(e,8),u=new DataView(m.buffer,m.byteOffset,m.length),g=u.getUint32(0);if(g>Math.pow(2,21)-1){a.enqueue(Rt);break}s=g*Math.pow(2,32)+u.getUint32(4),n=3}else{if(bn(e)<s)break;let m=Cn(e,s);a.enqueue(Pt(r?m:fi.decode(m),t)),n=0}if(s===0||s>i){a.enqueue(Rt);break}}}})}var gi=4;function j(i){if(i)return Ca(i)}function Ca(i){for(var t in j.prototype)i[t]=j.prototype[t];return i}j.prototype.on=j.prototype.addEventListener=function(i,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(t),this};j.prototype.once=function(i,t){function e(){this.off(i,e),t.apply(this,arguments)}return e.fn=t,this.on(i,e),this};j.prototype.off=j.prototype.removeListener=j.prototype.removeAllListeners=j.prototype.removeEventListener=function(i,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+i];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var n,s=0;s<e.length;s++)if(n=e[s],n===t||n.fn===t){e.splice(s,1);break}return e.length===0&&delete this._callbacks["$"+i],this};j.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),e=this._callbacks["$"+i],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e){e=e.slice(0);for(var n=0,s=e.length;n<s;++n)e[n].apply(this,t)}return this};j.prototype.emitReserved=j.prototype.emit;j.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};j.prototype.hasListeners=function(i){return!!this.listeners(i).length};var Pe=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,e)=>e(t,0),oe=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),qr="arraybuffer";function Sn(i,...t){return t.reduce((e,n)=>(i.hasOwnProperty(n)&&(e[n]=i[n]),e),{})}var Sa=oe.setTimeout,wa=oe.clearTimeout;function Oe(i,t){t.useNativeTimers?(i.setTimeoutFn=Sa.bind(oe),i.clearTimeoutFn=wa.bind(oe)):(i.setTimeoutFn=oe.setTimeout.bind(oe),i.clearTimeoutFn=oe.clearTimeout.bind(oe))}var Ea=1.33;function Ur(i){return typeof i=="string"?Ta(i):Math.ceil((i.byteLength||i.size)*Ea)}function Ta(i){let t=0,e=0;for(let n=0,s=i.length;n<s;n++)t=i.charCodeAt(n),t<128?e+=1:t<2048?e+=2:t<55296||t>=57344?e+=3:(n++,e+=4);return e}function wn(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function jr(i){let t="";for(let e in i)i.hasOwnProperty(e)&&(t.length&&(t+="&"),t+=encodeURIComponent(e)+"="+encodeURIComponent(i[e]));return t}function zr(i){let t={},e=i.split("&");for(let n=0,s=e.length;n<s;n++){let r=e[n].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}var En=class extends Error{constructor(t,e,n){super(t),this.description=e,this.context=n,this.type="TransportError"}},Ve=class extends j{constructor(t){super(),this.writable=!1,Oe(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,e,n){return super.emitReserved("error",new En(t,e,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){let e=Pt(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){let t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){let e=jr(t);return e.length?"?"+e:""}};var Ot=class extends Ve{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";let e=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||e()})),this.writable||(n++,this.once("drain",function(){--n||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){let e=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Lr(t,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Vr(t,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=wn()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(t,e)}};var Hr=!1;try{Hr=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var Gr=Hr;function xa(){}var _i=class extends Ot{constructor(t){if(super(t),typeof location<"u"){let e=location.protocol==="https:",n=location.port;n||(n=e?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,e){let n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",(s,r)=>{this.onError("xhr post error",s,r)})}doPoll(){let t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(e,n)=>{this.onError("xhr poll error",e,n)}),this.pollXhr=t}},Tn=(()=>{class i extends j{constructor(e,n,s){super(),this.createRequest=e,Oe(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;let n=Sn(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;let s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&s.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var r;s.readyState===3&&((r=this._opts.cookieJar)===null||r===void 0||r.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(r){this.setTimeoutFn(()=>{this._onError(r)},0);return}typeof document<"u"&&(this._index=i.requestsCount++,i.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=xa,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete i.requests[this._index],this._xhr=null}}_onLoad(){let e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return i.requestsCount=0,i.requests={},i})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Zr);else if(typeof addEventListener=="function"){let i="onpagehide"in oe?"pagehide":"unload";addEventListener(i,Zr,!1)}}function Zr(){for(let i in Tn.requests)Tn.requests.hasOwnProperty(i)&&Tn.requests[i].abort()}var Ma=function(){let i=$r({xdomain:!1});return i&&i.responseType!==null}(),Ue=class extends _i{constructor(t){super(t);let e=t&&t.forceBase64;this.supportsBinary=Ma&&!e}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Tn($r,this.uri(),t)}};function $r(i){let t=i.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Gr))return new XMLHttpRequest}catch{}if(!t)try{return new oe[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var Wr=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",yi=class extends Ve{get name(){return"websocket"}doOpen(){let t=this.uri(),e=this.opts.protocols,n=Wr?{}:Sn(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,e,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){let n=t[e],s=e===t.length-1;Dt(n,this.supportsBinary,r=>{try{this.doWrite(n,r)}catch{}s&&Pe(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=wn()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}},vi=oe.WebSocket||oe.MozWebSocket,je=class extends yi{createSocket(t,e,n){return Wr?new vi(t,e,n):e?new vi(t,e):new vi(t)}doWrite(t,e){this.ws.send(e)}};var gt=class extends Ve{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{let e=Br(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(e).getReader(),s=Fr();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();let r=()=>{n.read().then(({done:a,value:m})=>{a||(this.onPacket(m),r())}).catch(a=>{})};r();let o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let e=0;e<t.length;e++){let n=t[e],s=e===t.length-1;this._writer.write(n).then(()=>{s&&Pe(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}};var bi={websocket:je,webtransport:gt,polling:Ue};var Aa=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ka=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function _t(i){if(i.length>8e3)throw"URI too long";let t=i,e=i.indexOf("["),n=i.indexOf("]");e!=-1&&n!=-1&&(i=i.substring(0,e)+i.substring(e,n).replace(/:/g,";")+i.substring(n,i.length));let s=Aa.exec(i||""),r={},o=14;for(;o--;)r[ka[o]]=s[o]||"";return e!=-1&&n!=-1&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=Ia(r,r.path),r.queryKey=Ra(r,r.query),r}function Ia(i,t){let e=/\/{2,9}/g,n=t.replace(e,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Ra(i,t){let e={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,r){s&&(e[s]=r)}),e}var Ci=typeof addEventListener=="function"&&typeof removeEventListener=="function",xn=[];Ci&&addEventListener("offline",()=>{xn.forEach(i=>i())},!1);var Mn=(()=>{class i extends j{constructor(e,n){if(super(),this.binaryType=qr,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){let s=_t(e);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=_t(n.host).host);Oe(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{let r=s.prototype.name;this.transports.push(r),this._transportsByName[r]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=zr(this.opts.query)),Ci&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},xn.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){let n=Object.assign({},this.opts.query);n.EIO=gi,n.transport=e,this.id&&(n.sid=this.id);let s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let e=this.opts.rememberUpgrade&&i.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",i.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){let r=this.writeBuffer[s].data;if(r&&(n+=Ur(r)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Pe(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,s){return this._sendPacket("message",e,n,s),this}send(e,n,s){return this._sendPacket("message",e,n,s),this}_sendPacket(e,n,s,r){if(typeof n=="function"&&(r=n,n=void 0),typeof s=="function"&&(r=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;let o={type:e,data:n,options:s};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}close(){let e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(i.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ci&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let s=xn.indexOf(this._offlineEventListener);s!==-1&&xn.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}return i.protocol=gi,i})(),An=class extends Mn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let e=this.createTransport(t),n=!1;Mn.priorWebsocketSuccess=!1;let s=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",v=>{if(!n)if(v.type==="pong"&&v.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;Mn.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(g(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{let A=new Error("probe error");A.transport=e.name,this.emitReserved("upgradeError",A)}}))};function r(){n||(n=!0,g(),e.close(),e=null)}let o=v=>{let A=new Error("probe error: "+v);A.transport=e.name,r(),this.emitReserved("upgradeError",A)};function a(){o("transport closed")}function m(){o("socket closed")}function u(v){e&&v.name!==e.name&&r()}let g=()=>{e.removeListener("open",s),e.removeListener("error",o),e.removeListener("close",a),this.off("close",m),this.off("upgrading",u)};e.once("open",s),e.once("error",o),e.once("close",a),this.once("close",m),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||e.open()},200):e.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){let e=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}},vt=class extends An{constructor(t,e={}){let n=typeof t=="object"?t:e;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>bi[s]).filter(s=>!!s)),super(t,n)}};var Dm=vt.protocol;function Kr(i,t="",e){let n=i;e=e||typeof location<"u"&&location,i==null&&(i=e.protocol+"//"+e.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=e.protocol+i:i=e.host+i),/^(https?|wss?):\/\//.test(i)||(typeof e<"u"?i=e.protocol+"//"+i:i="https://"+i),n=_t(i)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";let r=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port+t,n.href=n.protocol+"://"+r+(e&&e.port===n.port?"":":"+n.port),n}var Mi={};go(Mi,{Decoder:()=>Ti,Encoder:()=>Ei,PacketType:()=>O,protocol:()=>eo});var Na=typeof ArrayBuffer=="function",Pa=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,Qr=Object.prototype.toString,Oa=typeof Blob=="function"||typeof Blob<"u"&&Qr.call(Blob)==="[object BlobConstructor]",Va=typeof File=="function"||typeof File<"u"&&Qr.call(File)==="[object FileConstructor]";function Lt(i){return Na&&(i instanceof ArrayBuffer||Pa(i))||Oa&&i instanceof Blob||Va&&i instanceof File}function Vt(i,t){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let e=0,n=i.length;e<n;e++)if(Vt(i[e]))return!0;return!1}if(Lt(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return Vt(i.toJSON(),!0);for(let e in i)if(Object.prototype.hasOwnProperty.call(i,e)&&Vt(i[e]))return!0;return!1}function Yr(i){let t=[],e=i.data,n=i;return n.data=Si(e,t),n.attachments=t.length,{packet:n,buffers:t}}function Si(i,t){if(!i)return i;if(Lt(i)){let e={_placeholder:!0,num:t.length};return t.push(i),e}else if(Array.isArray(i)){let e=new Array(i.length);for(let n=0;n<i.length;n++)e[n]=Si(i[n],t);return e}else if(typeof i=="object"&&!(i instanceof Date)){let e={};for(let n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=Si(i[n],t));return e}return i}function Jr(i,t){return i.data=wi(i.data,t),delete i.attachments,i}function wi(i,t){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<t.length)return t[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let e=0;e<i.length;e++)i[e]=wi(i[e],t);else if(typeof i=="object")for(let e in i)Object.prototype.hasOwnProperty.call(i,e)&&(i[e]=wi(i[e],t));return i}var La=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],eo=5,O=function(i){return i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK",i}(O||{}),Ei=class{constructor(t){this.replacer=t}encode(t){return(t.type===O.EVENT||t.type===O.ACK)&&Vt(t)?this.encodeAsBinary({type:t.type===O.EVENT?O.BINARY_EVENT:O.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let e=""+t.type;return(t.type===O.BINARY_EVENT||t.type===O.BINARY_ACK)&&(e+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(e+=t.nsp+","),t.id!=null&&(e+=t.id),t.data!=null&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){let e=Yr(t),n=this.encodeAsString(e.packet),s=e.buffers;return s.unshift(n),s}};function Xr(i){return Object.prototype.toString.call(i)==="[object Object]"}var Ti=class i extends j{constructor(t){super(),this.reviver=t}add(t){let e;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);let n=e.type===O.BINARY_EVENT;n||e.type===O.BINARY_ACK?(e.type=n?O.EVENT:O.ACK,this.reconstructor=new xi(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(Lt(t)||t.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let e=0,n={type:Number(t.charAt(0))};if(O[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===O.BINARY_EVENT||n.type===O.BINARY_ACK){let r=e+1;for(;t.charAt(++e)!=="-"&&e!=t.length;);let o=t.substring(r,e);if(o!=Number(o)||t.charAt(e)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(e+1)==="/"){let r=e+1;for(;++e&&!(t.charAt(e)===","||e===t.length););n.nsp=t.substring(r,e)}else n.nsp="/";let s=t.charAt(e+1);if(s!==""&&Number(s)==s){let r=e+1;for(;++e;){let o=t.charAt(e);if(o==null||Number(o)!=o){--e;break}if(e===t.length)break}n.id=Number(t.substring(r,e+1))}if(t.charAt(++e)){let r=this.tryParse(t.substr(e));if(i.isPayloadValid(n.type,r))n.data=r;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,e){switch(t){case O.CONNECT:return Xr(e);case O.DISCONNECT:return e===void 0;case O.CONNECT_ERROR:return typeof e=="string"||Xr(e);case O.EVENT:case O.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&La.indexOf(e[0])===-1);case O.ACK:case O.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},xi=class{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){let e=Jr(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function _e(i,t,e){return i.on(t,e),function(){i.off(t,e)}}var Fa=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),yt=class extends j{constructor(t,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let t=this.io;this.subs=[_e(t,"open",this.onopen.bind(this)),_e(t,"packet",this.onpacket.bind(this)),_e(t,"error",this.onerror.bind(this)),_e(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){var n,s,r;if(Fa.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;let o={type:O.EVENT,data:e};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){let g=this.ids++,v=e.pop();this._registerAckCallback(g,v),o.id=g}let a=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,m=this.connected&&!(!((r=this.io.engine)===null||r===void 0)&&r._hasPingExpired());return this.flags.volatile&&!a||(m?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,e){var n;let s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[t]=e;return}let r=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);e.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(r),e.apply(this,a)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...e){return new Promise((n,s)=>{let r=(o,a)=>o?s(o):n(a);r.withError=!0,e.push(r),this.emit(t,...e)})}_addToQueue(t){let e;typeof t[t.length-1]=="function"&&(e=t.pop());let n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...r)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(s)):(this._queue.shift(),e&&e(null,...r)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;let e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:O.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){let n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case O.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case O.EVENT:case O.BINARY_EVENT:this.onevent(t);break;case O.ACK:case O.BINARY_ACK:this.onack(t);break;case O.DISCONNECT:this.ondisconnect();break;case O.CONNECT_ERROR:this.destroy();let n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){let e=t.data||[];t.id!=null&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){let e=this._anyListeners.slice();for(let n of e)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){let e=this,n=!1;return function(...s){n||(n=!0,e.packet({type:O.ACK,id:t,data:s}))}}onack(t){let e=this.acks[t.id];typeof e=="function"&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:O.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){let e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){let e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let e=this._anyOutgoingListeners.slice();for(let n of e)n.apply(this,t.data)}}};function it(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}it.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),e=Math.floor(t*this.jitter*i);i=(Math.floor(t*10)&1)==0?i-e:i+e}return Math.min(i,this.max)|0};it.prototype.reset=function(){this.attempts=0};it.prototype.setMin=function(i){this.ms=i};it.prototype.setMax=function(i){this.max=i};it.prototype.setJitter=function(i){this.jitter=i};var bt=class extends j{constructor(t,e){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,Oe(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((n=e.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new it({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=t;let s=e.parser||Mi;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(e=this.backoff)===null||e===void 0||e.setMin(t),this)}randomizationFactor(t){var e;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(e=this.backoff)===null||e===void 0||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(e=this.backoff)===null||e===void 0||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new vt(this.uri,this.opts);let e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;let s=_e(e,"open",function(){n.onopen(),t&&t()}),r=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=_e(e,"error",r);if(this._timeout!==!1){let a=this._timeout,m=this.setTimeoutFn(()=>{s(),r(new Error("timeout")),e.close()},a);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let t=this.engine;this.subs.push(_e(t,"ping",this.onping.bind(this)),_e(t,"data",this.ondata.bind(this)),_e(t,"error",this.onerror.bind(this)),_e(t,"close",this.onclose.bind(this)),_e(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(e){this.onclose("parse error",e)}}ondecoded(t){Pe(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new yt(this,t,e),this.nsps[t]=n),n}_destroy(t){let e=Object.keys(this.nsps);for(let n of e)if(this.nsps[n].active)return;this._close()}_packet(t){let e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,e){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let e=this.backoff.duration();this._reconnecting=!0;let n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){let t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}};var Ft={};function st(i,t){typeof i=="object"&&(t=i,i=void 0),t=t||{};let e=Kr(i,t.path||"/socket.io"),n=e.source,s=e.id,r=e.path,o=Ft[s]&&r in Ft[s].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o,m;return a?m=new bt(n,t):(Ft[s]||(Ft[s]=new bt(n,t)),m=Ft[s]),e.query&&!t.query&&(t.query=e.queryKey),m.socket(e.path,t)}Object.assign(st,{Manager:bt,Socket:yt,io:st,connect:st});var to=(()=>{class i{http;route=Z(ct);socket=null;SIGNAL_SERVER="wss://192.168.1.5:3000/messages";constructor(e){this.http=e,this.route.queryParamMap.subscribe(n=>{let s=n.get("user");s&&this.initializeUser("user-"+s)})}_currentUserId=E("");_messages=E([]);_users1=E([{id:"user-1",name:"Ana Silva",isOnline:!0},{id:"user-2",name:"Bruno Costa",isOnline:!0},{id:"user-3",name:"Carla Santos",isOnline:!1,lastSeen:new Date("2025-06-10T07:30:00Z")},{id:"user-4",name:"Diego Lima",isOnline:!0},{id:"user-5",name:"Elena Rocha",isOnline:!1,lastSeen:new Date("2025-06-09T22:15:00Z")},{id:"user-6",name:"Felipe Nunes",isOnline:!0},{id:"user-7",name:"Gabriela Pires",isOnline:!1,lastSeen:new Date("2025-06-10T06:45:00Z")},{id:"user-8",name:"Hugo Martins",isOnline:!0},{id:"user-9",name:"Isabela Freitas",isOnline:!1,lastSeen:new Date("2025-06-10T08:20:00Z")}]);_users=E([]);_hasNewMessages=E(!1);_isConnected=E(!1);_conversationsUpdated=new qt;messageReceivedSubject=new Nn(null);connectionStatusSubject=new Nn(!1);_c2onversations=E([]);_conversations=K(()=>{let e=new Map,n=this._messages(),s=this._users(),r=this._currentUserId();s.forEach(a=>{a.id!==r&&e.set(a.id,{user:a,messages:[],unreadCount:0,lastMessage:void 0})}),n.forEach(a=>{let m=a.senderId===r,u=m?a.receiverId:a.senderId;if(e.has(u)){let g=e.get(u);g.messages.push(a),(!g.lastMessage||a.timestamp>g.lastMessage.timestamp)&&(g.lastMessage=a),!m&&!a.isRead&&g.unreadCount++}});let o=new Map(Array.from(e.entries()).filter(([a,m])=>m.messages.length>0));return this._conversationsUpdated.next(),Array.from(o.values())});notifyUpdate(){setTimeout(()=>{this._conversationsUpdated.next()},0)}unreadUsersCount=K(()=>this._conversations().filter(e=>e.unreadCount>0).length);currentUserId=this._currentUserId.asReadonly();messages=this._messages.asReadonly();users=this._users.asReadonly();hasNewMessages=this._hasNewMessages.asReadonly();isConnected=this._isConnected.asReadonly();conversations=this._conversations;conversationsUpdated$=this._conversationsUpdated.asObservable();messageReceived$=this.messageReceivedSubject.asObservable();connectionStatus$=this.connectionStatusSubject.asObservable();initializeUser(e){this._currentUserId.set(e),this.initializeSocket()}initializeSocket(){this.socket&&this.socket.disconnect(),this.socket=st(this.SIGNAL_SERVER,{transports:["websocket"],auth:{userId:this._currentUserId()}}),this.setupSocketListeners()}convertDatesInConversations(e){return e.map(n=>{let s=G({},n);return s.user?.lastSeen&&typeof s.user.lastSeen=="string"&&(s.user.lastSeen=new Date(s.user.lastSeen)),s.messages&&Array.isArray(s.messages)&&(s.messages=s.messages.map(r=>xe(G({},r),{timestamp:typeof r.timestamp=="string"?new Date(r.timestamp):r.timestamp}))),s.lastMessage?.timestamp&&typeof s.lastMessage.timestamp=="string"&&(s.lastMessage.timestamp=new Date(s.lastMessage.timestamp)),s})}setupSocketListeners(){this.socket&&(this.socket.on("connect",()=>{this._isConnected.set(!0),this.connectionStatusSubject.next(!0)}),this.socket.on("disconnect",()=>{console.log("Desconectado do servidor"),this._isConnected.set(!1),this.connectionStatusSubject.next(!1)}),this.socket.on("users:init",e=>{this._users.set(e.map(n=>n.lastSeen?xe(G({},n),{lastSeen:new Date(n.lastSeen)}):n))}),this.socket.on("messages:init",e=>{this._messages.set(e.map(n=>xe(G({},n),{timestamp:new Date(n.timestamp)})))}),this.socket.on("message",e=>{this.handleIncomingMessage(xe(G({},e),{timestamp:new Date(e.timestamp)}))}),this.socket.on("messageRead",e=>{console.log("Recebendo confirma\xE7\xE3o de leitura:",e),this.markMessageAsReadLocally(e.messageId)}),this.socket.on("messageUpdated",e=>{console.log("(messageUpdated) - Recebido Mensagem atualizada:",e),this.updateMessage(e.messageId,e.changes),console.log("(messageUpdated) - Ap\xF3s Mensagem atualizada:",this._messages())}),this.socket.on("userOnline",e=>{console.log("Usu\xE1rio online:",e),this.updateUserOnlineStatus(e,!0)}),this.socket.on("userOffline",e=>{console.log("Usu\xE1rio offline:",e),this.updateUserOnlineStatus(e,!1)}),this.socket.on("connect_error",e=>{console.error("Erro de conex\xE3o:",e)}))}sendMessage(e,n){if(!e.trim()||!this.socket)return;let s={id:`msg-${Date.now()}-${Math.random()}`,senderId:this._currentUserId(),receiverId:n,content:e.trim(),timestamp:new Date,isRead:!1},r=this._messages();this._messages.set([...r,s]),this.socket.emit("sendMessage",s)}sendMarkMessageAsRead(e){console.log("sendMarkMessageAsRead - messageId:",e),this.socket&&this.socket.emit("markAsRead",{messageId:e})}markMessageAsReadLocally(e){console.log("markMessageAsReadLocally - messageId:",e);let n=this._messages().map(s=>s.id===e?xe(G({},s),{isRead:!0}):s);this._messages.set(n)}handleIncomingMessage(e){let n=this._messages();this._messages.set([...n,e]),this.messageReceivedSubject.next(e),this._hasNewMessages.set(!0)}updateUserOnlineStatus(e,n){let s=this._users().map(r=>r.id===e?xe(G({},r),{isOnline:n,lastSeen:n?void 0:new Date}):r);this._users.set(s)}updateMessage(e,n){return console.log("Before updateMessage - messageId:",e,"changes:",n,"messages:",this._messages()),this._messages.update(s=>{let r=s.findIndex(a=>a.id===e);if(r===-1)return console.log(`Mensagem com ID ${e} n\xE3o encontrada`),s;let o=[...s];return o[r]=G(G({},s[r]),n),console.log(`Mensagem ${e} atualizada com:`,n),console.log("After updateMessage - messageId:",e,"changes:",n,"messages:",this._messages()),o}),this._messages().some(s=>s.id===e)}u2pdateMessage(e,n){let s=this._messages().find(r=>r.id===e);if(s){for(let[o,a]of Object.entries(n))o in s&&(s[o]=a);let r=this._messages().map(o=>o.id===e?s:o);return this._messages.set(r),console.log(`Mensagem ${e} atualizada com:`,n),!0}return console.log(`Mensagem com ID ${e} n\xE3o encontrada`),!1}markConversationAsRead(e){if(e.unreadCount===0)return;console.log("Marking conversation as read:",e.user.id);let n=this._messages().map(s=>s.senderId===e.user.id&&s.receiverId===this._currentUserId()&&!s.isRead?xe(G({},s),{isRead:!0}):s);this._messages.set(n),this.socket&&e.messages.filter(s=>s.senderId!==this._currentUserId()&&!s.isRead).forEach(s=>{this.socket.emit("markAsRead",{messageId:s.id,userId:s.senderId})})}markNotificationsAsViewed(){this._hasNewMessages.set(!1)}getCurrentUserName(){return this._users().find(n=>n.id===this._currentUserId())?.name||"Usu\xE1rio Desconhecido"}reset(){this._messages.set([]),this._hasNewMessages.set(!1),this._currentUserId.set(""),this.socket&&(this.socket.disconnect(),this.socket=null),this._isConnected.set(!1),this.connectionStatusSubject.next(!1)}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null),this._isConnected.set(!1),this.connectionStatusSubject.next(!1)}markAsRead(e){return Vi({success:!0}).pipe(Bi(300))}static \u0275fac=function(n){return new(n||i)(Ie(at))};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Ba=["messageBubble"],qa=i=>({width:i}),Ua=(i,t)=>t.id;function ja(i,t){i&1&&f(0,"div",30)}function za(i,t){if(i&1&&(l(0,"span",35),p(1),c()),i&2){let e=h().$implicit,n=h();d(),R(" ",n.formatTime(e.lastMessage.timestamp)," ")}}function Ha(i,t){if(i&1&&(l(0,"p",37),p(1),c()),i&2){let e=h().$implicit;d(),R(" ",e.lastMessage.content," ")}}function Ga(i,t){if(i&1&&(l(0,"span",38),p(1),c()),i&2){let e=h().$implicit;d(),R(" ",e.unreadCount," ")}}function Za(i,t){if(i&1&&(l(0,"p",39),p(1),c()),i&2){let e=h().$implicit,n=h();d(),R(" Visto ",n.formatTime(e.user.lastSeen)," ")}}function $a(i,t){if(i&1){let e=q();l(0,"div",25),I("click",function(){let s=x(e).$implicit,r=h();return M(r.selectConversation(s))}),l(1,"div",26)(2,"div",27)(3,"div",28)(4,"span",29),p(5),c()(),b(6,ja,1,0,"div",30),c(),l(7,"div",31)(8,"div",32)(9,"h3",33),p(10),c(),l(11,"div",34),b(12,za,2,1,"span",35),c()(),l(13,"div",36),b(14,Ha,2,1,"p",37)(15,Ga,2,1,"span",38),c(),b(16,Za,2,1,"p",39),c()()()}if(i&2){let e=t.$implicit,n=h();U(n.getConversationClasses(e)),Ze("data-conversation-id",e.user.id),d(2),X("online",e.user.isOnline),d(3),B(n.getInitials(e.user.name)),d(),F(e.user.isOnline?6:-1),d(4),B(e.user.name),d(2),F(e.lastMessage?12:-1),d(2),F(e.lastMessage?14:-1),d(),F(e.unreadCount>0?15:-1),d(),F(!e.user.isOnline&&e.user.lastSeen?16:-1)}}function Wa(i,t){if(i&1&&(l(0,"p"),p(1),c()),i&2){let e=h(2);d(),R('Nenhuma conversa encontrada para "',e.searchTerm(),'"')}}function Ka(i,t){i&1&&(l(0,"p"),p(1,"Nenhuma conversa n\xE3o lida"),c())}function Qa(i,t){i&1&&(l(0,"p"),p(1,"Nenhuma conversa dispon\xEDvel"),c())}function Ya(i,t){if(i&1&&(l(0,"div",22),b(1,Wa,2,1,"p")(2,Ka,2,0,"p")(3,Qa,2,0,"p"),c()),i&2){let e=h();d(),F(e.searchTerm()?1:e.filterUnread()?2:3)}}function Ja(i,t){if(i&1){let e=q();l(0,"button",53),I("click",function(){x(e);let s=h(2);return M(s.showUserDetails())}),y(),l(1,"svg",54),f(2,"path",55),c()()}}function Xa(i,t){if(i&1&&(l(0,"div",56)(1,"div",62),p(2),c()()),i&2){let e=h().$implicit,n=h(2);d(2),R(" ",n.formatTime(e.timestamp,"contextual")," ")}}function el(i,t){if(i&1&&(l(0,"p",59,1),p(2),c()),i&2){let e=h().$implicit;Ze("data-code",e.id),d(2),Vn(" >>>>",e.id," - ",e.content," - (",e.isRead,") ")}}function tl(i,t){if(i&1&&(l(0,"p",59),p(1),c()),i&2){let e=h().$implicit;Ze("data-code",e.id),d(),Vn(" ",e.id," - ",e.content," - (",e.isRead,") ")}}function nl(i,t){i&1&&(y(),l(0,"svg",63),f(1,"path",65)(2,"path",66),c())}function il(i,t){i&1&&(y(),l(0,"svg",64),f(1,"path",65)(2,"path",66),c())}function sl(i,t){if(i&1&&(l(0,"div",61),b(1,nl,3,0,":svg:svg",63)(2,il,3,0,":svg:svg",64),c()),i&2){let e=h().$implicit;d(),F(e.isRead?1:2)}}function rl(i,t){if(i&1&&(b(0,Xa,3,1,"div",56),l(1,"div",57)(2,"div",58),b(3,el,3,4,"p",59)(4,tl,2,4,"p",59),l(5,"div",60)(6,"span",35),p(7),c(),b(8,sl,3,1,"div",61),c()()()),i&2){let e=t.$implicit,n=t.$index,s=h(),r=h();F(r.shouldShowDivider(n,s.messages)?0:-1),d(),U(r.getChatClasses(e)),d(2),F(e.senderId!==r.currentUserId()&&!e.isRead?3:4),d(4),R(" ",r.formatTime(e.timestamp,"relative-DataTime")," "),d(),F(e.senderId===r.currentUserId()?8:-1)}}function ol(i,t){i&1&&(l(0,"div",46)(1,"div",67)(2,"div",68),f(3,"div",69)(4,"div",70)(5,"div",71),c()()())}function al(i,t){if(i&1){let e=q();l(0,"main",40)(1,"header",41),b(2,Ja,3,0,"button",42),l(3,"div",27)(4,"div",43)(5,"span",29),p(6),c()()(),l(7,"div")(8,"h3",29),p(9),c(),l(10,"p",44),p(11),c()()(),l(12,"div",45,0),Re(14,rl,9,6,null,null,Ua),b(16,ol,6,0,"div",46),c(),l(17,"footer",47)(18,"form",48),I("ngSubmit",function(){x(e);let s=h();return M(s.sendMessage())}),l(19,"input",49),I("input",function(s){x(e);let r=h();return r.onTypingDebounced(),M(r.onMessageInput(s))}),c(),l(20,"button",50),y(),l(21,"svg",51),f(22,"path",52),c()()()()()}if(i&2){let e=t,n=h();U(n.mainClasses()),d(2),F(n.isMobile()?2:-1),d(),X("online",e.user.isOnline),d(3),B(n.getInitials(e.user.name)),d(3),B(e.user.name),d(2),R(" ",e.user.isOnline?"Online":"Offline"," "),d(3),De(e.messages),d(2),F(n.isTyping()?16:-1),d(3),_("value",n.newMessage()),d(),_("disabled",!n.newMessage().trim())}}function ll(i,t){if(i&1&&(l(0,"div",72)(1,"div",73),y(),l(2,"svg",74),f(3,"path",75),c(),N(),l(4,"h3",76),p(5,"Selecione uma conversa"),c(),l(6,"p",77),p(7,"Escolha uma conversa da lista para come\xE7ar a conversar."),c()()()),i&2){let e=h();U(e.noSelectionClasses())}}var io=(()=>{class i{destroyRef=Z(ji);changeDetectorRef=Z(is);messageElements;screenSizeService=Z(ws);messageService=Z(to);subscriptions=new Oi;socket=null;typingSubject=new qt;notified=new Set;intersectionObservers=new Map;isTypingSignal=E(!1);filterUnread=E(!1);sortBy=E("recent");searchTerm=E("");newMessage=E("");currentUserId=E("");currentUserName=E("");selectedConversation=E(null);isMobile=E(!1);screenWidth=E(window.innerWidth);showDetails=E(!1);users=K(()=>this.messageService.users());forceUpdate=E(0);conversations=K(()=>this.messageService.conversations());filteredConversations=K(()=>{let e=this.conversations(),n=this.searchTerm(),s=this.filterUnread(),r=this.sortBy(),o=e.filter(a=>{let m=a.user.name.toLowerCase().includes(n.toLowerCase()),u=!s||a.unreadCount>0;return m&&u});return o.sort((a,m)=>{switch(r){case"name":return a.user.name.localeCompare(m.user.name);case"unread":return m.unreadCount-a.unreadCount;case"recent":default:let u=a.lastMessage?.timestamp||new Date(0);return(m.lastMessage?.timestamp||new Date(0)).getTime()-u.getTime()}}),o.map(a=>xe(G({},a),{user:G({},a.user),messages:[...a.messages],lastMessage:a.lastMessage?G({},a.lastMessage):void 0}))});constructor(){Ye(()=>{let e=this.messageService.currentUserId();this.currentUserId.set(e);let n=this.messageService.users().find(s=>s.id===e);this.currentUserName.set(n?.name||"")}),Ye(()=>{let e=this.messageService.conversations()}),this.messageService.conversationsUpdated$.pipe(Ln(this.destroyRef)).subscribe(()=>{})}triggerUpdate(){this.forceUpdate.update(e=>e+1),this.changeDetectorRef.detectChanges(),console.log("Update triggered - forceUpdate:",this.forceUpdate())}trackByConversation(e,n){return`${n.user.id}-${n.unreadCount}-${n.lastMessage?.timestamp.getTime()||0}-${n.messages.length}`}ngOnInit(){this.subscriptions.add(this.screenSizeService.isMobile$.subscribe(e=>{this.isMobile.set(e)})),this.subscriptions.add(this.screenSizeService.deviceInfo$.subscribe(e=>{this.screenWidth.set(e.screenWidth)})),this.subscriptions.add(this.typingSubject.pipe(Fi(1e3),Ln(this.destroyRef)).subscribe(()=>{this.isTypingSignal.set(!1)}))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.intersectionObservers.forEach(e=>e.disconnect()),this.intersectionObservers.clear(),this.socket&&this.socket.disconnect()}ngAfterViewChecked(){this.messageElements.forEach(e=>{let n=e.nativeElement,s=n.getAttribute("data-code");if(s&&!this.notified.has(s)&&!this.intersectionObservers.has(s)){let r=new IntersectionObserver(([o])=>{o.isIntersecting&&(console.log("Mensagem "+s+" vis\xEDvel"),this.messageService.sendMarkMessageAsRead(s),this.notified.add(s),r.disconnect(),this.intersectionObservers.delete(s))},{threshold:.5});r.observe(n),this.intersectionObservers.set(s,r)}})}sidebarClasses=K(()=>{let e=this.isMobile(),n=this.showDetails();return{"w-full":e&&!n,"w-2/6":!e,hidden:e&&n}});mainClasses=K(()=>{let e=this.isMobile(),n=this.showDetails();return{"w-full":e&&n,"w-3/4":!e,hidden:e&&!n}});noSelectionClasses=K(()=>{let e=this.isMobile(),n=this.showDetails();return{"w-full":e,"w-4/6":!e,hidden:e&&!n}});filterButtonClasses=K(()=>`relative rounded m-1 p-1 border cursor-pointer focus:ring-2 focus:ring-blue-500 hover:bg-base-300 ${this.filterUnread()?"bg-cyan-300":"bg-base-100"}`);selectConversation(e){console.log("Selecting conversation:",e.user.name),this.selectedConversation.set(e),this.showUserDetails(),this.triggerUpdate()}toggleFilterUnread(){this.filterUnread.set(!this.filterUnread()),this.triggerUpdate()}onSortChange(e){let n=e.target;this.sortBy.set(n.value),this.triggerUpdate()}onMessageInput(e){let n=e.target;this.newMessage.set(n.value)}onTypingDebounced(){this.isTypingSignal.set(!0),this.typingSubject.next()}sendMessage(){let e=this.newMessage().trim(),n=this.selectedConversation();e&&n&&(this.messageService.sendMessage(e,n.user.id),this.newMessage.set(""),this.triggerUpdate())}showUserDetails(){this.showDetails.update(e=>!e)}isTyping(){return this.isTypingSignal()}getConversationClasses(e){return this.selectedConversation()?.user.id===e.user.id?"bg-primary text-primary-content":""}getChatClasses(e){return e.senderId===this.currentUserId()?"chat-end":"chat-start"}shouldShowDivider(e,n){if(e===0)return!0;let s=n[e],r=n[e-1],o=new Date(s.timestamp).toDateString(),a=new Date(r.timestamp).toDateString();return o!==a}formatTime(e,n="relative"){let s=new Date(e),r=new Date,o=new Date(r.getFullYear(),r.getMonth(),r.getDate()),a=new Date(s.getFullYear(),s.getMonth(),s.getDate()),m=new Date(o);if(m.setDate(o.getDate()-1),n==="relative"||n==="relative-DataTime"){let u=r.getTime()-s.getTime(),g=Math.floor(u/(1e3*60)),v=Math.floor(u/(1e3*60*60)),A=Math.floor(u/(1e3*60*60*24));return g<1?"agora":g<60?`${g}min`:v<24?`${v}h`:A<7&&n==="relative"?`${A}d`:n==="relative-DataTime"?s.toLocaleDateString("pt-BR")+" "+this.formatTimeOnly(e):s.toLocaleDateString("pt-BR")}if(n==="contextual"){if(a.getTime()===o.getTime())return"Hoje";if(a.getTime()===m.getTime())return"Ontem";let u=Math.floor((o.getTime()-a.getTime())/(1e3*60*60*24));if(u>=2&&u<=7)return["domingo","segunda-feira","ter\xE7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xE1bado"][s.getDay()];let g=["janeiro","fevereiro","mar\xE7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"];if(s.getFullYear()===r.getFullYear()&&u>7)return`${s.getDate()} de ${g[s.getMonth()]}`;if(s.getFullYear()<r.getFullYear())return`${s.getDate()} de ${g[s.getMonth()]} de ${s.getFullYear()}`}return s.toLocaleDateString("pt-BR")}formatTimeOnly(e){return e.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",hour12:!1})}getInitials(e){if(!e)return"";let n=e.trim().split(/\s+/);if(n.length===1)return n[0][0].toUpperCase();let s=n[0][0].toUpperCase(),r=n[n.length-1][0].toUpperCase();return s+r}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["app-chat-interface"]],viewQuery:function(n,s){if(n&1&&he(Ba,5),n&2){let r;fe(r=ge())&&(s.messageElements=r)}},decls:29,vars:12,consts:[["messagesContainer",""],["messageBubble",""],[1,"h-screen","bg-base-100","flex","flex-col"],[1,"flex","flex-1","overflow-hidden"],[1,"bg-base-200","border-r","border-base-300","flex","flex-col",3,"ngStyle"],[1,"p-4","border-b","border-base-300"],[1,"text-lg","font-semibold"],[1,"flex","relative","mb-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","text-gray-400","w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Buscar conversas...",1,"w-full","pl-8","pr-4","py-2","m-1","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"input","value"],["data-tip","Filtra conversas n\xE3o lidas",1,"tooltip"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","currentcolor",1,"w-6","h-6","mt-1"],["d","M400-240v-80h160v80H400ZM240-440v-80h480v80H240ZM120-640v-80h720v80H120Z"],[1,"flex","gap-2"],[1,"bg-base-100","px-3","py-1","text-sm","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"change","value"],["value","recent"],["value","name"],["value","unread"],[1,"flex-1","overflow-y-auto"],[1,"p-4","hover:bg-base-300","cursor-pointer","border-b","border-base-300","transition-colors",3,"class"],[1,"p-8","text-center","text-gray-500"],[1,"flex","flex-col",3,"class"],[1,"flex","items-center","justify-center","bg-base-100",3,"class"],[1,"p-4","hover:bg-base-300","cursor-pointer","border-b","border-base-300","transition-colors",3,"click"],[1,"flex","items-center","space-x-3"],[1,"avatar"],[1,"w-12","h-12","rounded-full","bg-neutral","text-neutral-content","flex","items-center","justify-center","p-3"],[1,"font-medium"],[1,"absolute","-bottom-0","-right-0","w-3","h-3","bg-green-500","border-2","border-white","rounded-full"],[1,"flex-1","min-w-0"],[1,"flex","justify-between","items-center"],[1,"font-medium","truncate"],["data-tip","\xFAltima mensagem",1,"tooltip","tooltip-left"],[1,"text-xs","opacity-70"],[1,"flex","justify-between","items-center","mt-1"],[1,"text-sm","opacity-70","truncate"],[1,"badge","badge-secondary","badge-sm"],[1,"text-xs","text-gray-400","mt-1"],[1,"flex","flex-col"],[1,"p-4","bg-base-200","border-b","border-base-300","flex","items-center","space-x-3"],[1,"btn","btn-ghost","btn-sm","btn-circle","mr-2"],[1,"w-10","h-10","rounded-full","bg-neutral","text-neutral-content","flex","items-center","justify-center","p-3"],[1,"text-sm","opacity-70"],[1,"flex-1","overflow-y-auto","p-4","space-y-4"],[1,"chat","chat-start"],[1,"p-4","bg-base-200","border-t","border-base-300"],[1,"flex","space-x-2",3,"ngSubmit"],["type","text","placeholder","Digite sua mensagem...",1,"input","input-bordered","flex-1","focus:ring-2","focus:ring-blue-500",3,"input","value"],["type","submit",1,"btn","btn-primary",3,"disabled"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5"],["d","M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"],[1,"btn","btn-ghost","btn-sm","btn-circle","mr-2",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"flex","w-full","flex-col","justify-center"],[1,"chat"],[1,"chat-bubble"],[1,"text-sm"],[1,"flex","items-center","justify-end","mt-1","space-x-1"],[1,"text-xs"],[1,"divider"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-info"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","opacity-50"],["fill-rule","evenodd","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["fill-rule","evenodd","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7","transform","translate(4,0)"],[1,"chat-bubble","chat-bubble-ghost","animate-pulse"],[1,"flex","space-x-1","items-center"],[1,"w-2","h-2","bg-current","rounded-full","animate-bounce"],[1,"w-2","h-2","bg-current","rounded-full","animate-bounce",2,"animation-delay","0.1s"],[1,"w-2","h-2","bg-current","rounded-full","animate-bounce",2,"animation-delay","0.2s"],[1,"flex","items-center","justify-center","bg-base-100"],[1,"text-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-gray-400","mx-auto","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],[1,"text-lg","font-medium","opacity-70"],[1,"opacity-50"]],template:function(n,s){if(n&1&&(l(0,"div",2)(1,"div",3)(2,"aside",4)(3,"div",5)(4,"h2",6),p(5),c(),l(6,"div",7),y(),l(7,"svg",8),f(8,"path",9),c(),N(),l(9,"input",10),I("input",function(o){return s.searchTerm.set(o.target.value)}),c(),l(10,"div",11)(11,"button",12),I("click",function(){return s.toggleFilterUnread()}),y(),l(12,"svg",13),f(13,"path",14),c()()()(),N(),l(14,"div",15),p(15," Ordenar por: "),l(16,"select",16),I("change",function(o){return s.onSortChange(o)}),l(17,"option",17),p(18,"Recentes"),c(),l(19,"option",18),p(20,"Nome"),c(),l(21,"option",19),p(22,"N\xE3o lidas"),c()()()(),l(23,"div",20),Re(24,$a,17,12,"div",21,s.trackByConversation,!0),b(26,Ya,4,1,"div",22),c()(),b(27,al,23,11,"main",23)(28,ll,8,2,"div",24),c()()),n&2){let r;d(2),U(s.sidebarClasses()),_("ngStyle",Xi(10,qa,s.screenWidth()<415?"90%":"")),d(3),R("Conversas ",s.currentUserName()+"("+s.currentUserId()+")",""),d(4),_("value",s.searchTerm()),d(2),U(s.filterButtonClasses()),d(5),_("value",s.sortBy()),d(8),De(s.filteredConversations()),d(2),F(s.filteredConversations().length===0?26:-1),d(),F((r=s.selectedConversation())?27:28,r)}},dependencies:[ce,rs,lt,us,$t,Wt,ds,ms],encapsulation:2})}return i})();function cl(i,t){i&1&&f(0,"div",32)}function dl(i,t){if(i&1&&(l(0,"span",33),p(1),c()),i&2){let e=h().$implicit,n=h();d(),R(" ",n.formatTime(e.lastMessage.timestamp)," ")}}function ml(i,t){if(i&1&&(l(0,"span",39),p(1),c()),i&2){let e=h(2).$implicit;d(),R(" ",e.unreadCount," ")}}function ul(i,t){i&1&&(y(),l(0,"svg",43),f(1,"path",44)(2,"path",45),c())}function pl(i,t){i&1&&(y(),l(0,"svg",46),f(1,"path",44),c())}function hl(i,t){if(i&1&&(l(0,"div",40),b(1,ul,3,0,"svg",41)(2,pl,2,0,"svg",42),c()),i&2){let e=h(2).$implicit;d(),_("ngIf",e.lastMessage.isRead),d(),_("ngIf",!e.lastMessage.isRead)}}function fl(i,t){if(i&1&&(l(0,"div",34)(1,"p",35),p(2),c(),l(3,"div",36),b(4,ml,2,1,"span",37)(5,hl,3,2,"div",38),c()()),i&2){let e=h().$implicit;d(2),$e(" ",e.lastMessage.senderId==="user-1"?"Voc\xEA: ":""," ",e.lastMessage.content," "),d(2),_("ngIf",e.unreadCount>0),d(),_("ngIf",e.lastMessage.senderId==="user-1")}}function gl(i,t){if(i&1&&(l(0,"p",47),p(1),c()),i&2){let e=h().$implicit,n=h();d(),R(" Visto ",n.formatTime(e.user.lastSeen)," ")}}function _l(i,t){if(i&1){let e=q();l(0,"div",11),I("click",function(){let s=x(e).$implicit,r=h();return M(r.selectConversation(s.user.id))}),l(1,"div",22)(2,"div",23)(3,"div",24),p(4),c(),b(5,cl,1,0,"div",25),c(),l(6,"div",26)(7,"div",27)(8,"h3",28),p(9),c(),b(10,dl,2,1,"span",29),c(),b(11,fl,6,4,"div",30)(12,gl,2,1,"p",31),c()()()}if(i&2){let e=t.$implicit,n=h();U("p-4 cursor-pointer hover:bg-gray-50 border-b border-gray-100 "+(n.selectedConversationId()===e.user.id?"bg-blue-50 border-blue-200":"")),d(4),R(" ",e.user.name.charAt(0)," "),d(),_("ngIf",e.user.isOnline),d(4),R(" ",e.user.name," "),d(),_("ngIf",e.lastMessage),d(),_("ngIf",e.lastMessage),d(),_("ngIf",!e.user.isOnline&&e.user.lastSeen)}}function vl(i,t){i&1&&f(0,"div",60)}function yl(i,t){i&1&&(y(),l(0,"svg",12),f(1,"path",44)(2,"path",45),c())}function bl(i,t){i&1&&(y(),l(0,"svg",12),f(1,"path",44),c())}function Cl(i,t){if(i&1&&(l(0,"div",64),b(1,yl,3,0,"svg",65)(2,bl,2,0,"svg",65),c()),i&2){let e=h().$implicit;d(),_("ngIf",e.isRead),d(),_("ngIf",!e.isRead)}}function Sl(i,t){if(i&1&&(l(0,"div")(1,"div")(2,"p",61),p(3),c(),l(4,"div",62)(5,"span"),p(6),c(),b(7,Cl,3,2,"div",63),c()()()),i&2){let e=t.$implicit,n=h(2);U("flex "+(e.senderId==="user-1"?"justify-end":"justify-start")),d(),U("max-w-xs lg:max-w-md px-4 py-2 rounded-lg "+(e.senderId==="user-1"?"bg-blue-500 text-white":"bg-gray-200 text-gray-900")),d(2),B(e.content),d(2),U("text-xs "+(e.senderId==="user-1"?"text-blue-100":"text-gray-500")),d(),R(" ",n.formatTime(e.timestamp)," "),d(),_("ngIf",e.senderId==="user-1")}}function wl(i,t){if(i&1){let e=q();l(0,"div")(1,"div",48)(2,"div",49)(3,"div",50)(4,"div",51),p(5),c(),b(6,vl,1,0,"div",52),c(),l(7,"div")(8,"h2",53),p(9),c(),l(10,"p",54),p(11),c()()()(),l(12,"div",55),b(13,Sl,8,9,"div",56),c(),l(14,"div",57)(15,"div",10)(16,"input",58),Qe("ngModelChange",function(s){x(e);let r=h();return Ke(r.newMessage,s)||(r.newMessage=s),M(s)}),I("keyup.enter",function(){x(e);let s=h();return M(s.sendMessage())}),c(),l(17,"button",59),I("click",function(){x(e);let s=h();return M(s.sendMessage())}),p(18," Enviar "),c()()()()}if(i&2){let e=h();d(5),R(" ",e.selectedConversation().user.name.charAt(0)," "),d(),_("ngIf",e.selectedConversation().user.isOnline),d(3),B(e.selectedConversation().user.name),d(2),R(" ",e.selectedConversation().user.isOnline?"Online":"Visto "+e.formatTime(e.selectedConversation().user.lastSeen)," "),d(2),_("ngForOf",e.sortedMessages()),d(3),We("ngModel",e.newMessage)}}function El(i,t){i&1&&(l(0,"div",66)(1,"div",67),y(),l(2,"svg",68),f(3,"path",69),c(),N(),l(4,"h2",70),p(5,"Selecione uma conversa"),c(),l(6,"p",71),p(7,"Escolha uma conversa da lista para come\xE7ar a conversar."),c()()())}var so=(()=>{class i{route=Z(ct);searchTerm=E("");filterUnread=E(!1);sortBy=E("recent");selectedConversationId=E(null);newMessage=E("");currentUser=E({id:"",name:"",isOnline:!1});ngOnInit(){this.route.queryParamMap.subscribe(e=>{let n=e.get("user");n&&this.currentUser.set({id:"user-"+n,name:this.users.filter(s=>s.id==="user-"+n)[0].name,isOnline:!0})})}users=[{id:"user-1",name:"Ana Silva",isOnline:!0},{id:"user-2",name:"Bruno Costa",isOnline:!0},{id:"user-3",name:"Carla Santos",isOnline:!1,lastSeen:new Date("2025-06-10T07:30:00Z")},{id:"user-4",name:"Diego Lima",isOnline:!0},{id:"user-5",name:"Elena Rocha",isOnline:!1,lastSeen:new Date("2025-06-09T22:15:00Z")},{id:"user-6",name:"Felipe Nunes",isOnline:!0},{id:"user-7",name:"Gabriela Pires",isOnline:!1,lastSeen:new Date("2025-06-10T06:45:00Z")},{id:"user-8",name:"Hugo Martins",isOnline:!0},{id:"user-9",name:"Isabela Freitas",isOnline:!1,lastSeen:new Date("2025-06-10T08:20:00Z")}];messages=E([{id:"m1",senderId:"user-1",receiverId:"user-2",content:"Bruno, vamos come\xE7ar aquele projeto novo?",timestamp:new Date("2025-05-01T09:00:00Z"),isRead:!0},{id:"m2",senderId:"user-2",receiverId:"user-1",content:"Perfeito! J\xE1 preparei o ambiente de desenvolvimento.",timestamp:new Date("2025-05-01T09:30:00Z"),isRead:!0},{id:"m3",senderId:"user-1",receiverId:"user-2",content:"\xD3timo! Que tal marcarmos uma reuni\xE3o para alinhar tudo?",timestamp:new Date("2025-05-01T10:15:00Z"),isRead:!0},{id:"m4",senderId:"user-2",receiverId:"user-1",content:"Fechado! Segunda \xE0s 14h te serve?",timestamp:new Date("2025-05-01T11:00:00Z"),isRead:!0},{id:"m5",senderId:"user-3",receiverId:"user-1",content:"Ana, muito prazer! Me disseram que voc\xEA tamb\xE9m gosta de cinema.",timestamp:new Date("2025-05-03T19:30:00Z"),isRead:!0},{id:"m6",senderId:"user-1",receiverId:"user-3",content:"Oi Carla! Sim, adoro! Qual foi o \xFAltimo filme que voc\xEA assistiu?",timestamp:new Date("2025-05-03T20:00:00Z"),isRead:!0},{id:"m7",senderId:"user-3",receiverId:"user-1",content:"Acabei de ver 'Oppenheimer'. Impressionante a cinematografia!",timestamp:new Date("2025-05-03T20:15:00Z"),isRead:!0},{id:"m8",senderId:"user-1",receiverId:"user-3",content:"Ainda n\xE3o vi! Voc\xEA recomenda?",timestamp:new Date("2025-05-03T20:30:00Z"),isRead:!0},{id:"m9",senderId:"user-3",receiverId:"user-1",content:"Recomendo muito! \xC9 longo mas vale cada minuto.",timestamp:new Date("2025-05-03T20:45:00Z"),isRead:!0},{id:"m10",senderId:"user-4",receiverId:"user-8",content:"Hugo, a temporada de futebol vai come\xE7ar!",timestamp:new Date("2025-05-05T08:00:00Z"),isRead:!0},{id:"m11",senderId:"user-8",receiverId:"user-4",content:"Finalmente! J\xE1 estava com saudades de jogar.",timestamp:new Date("2025-05-05T08:30:00Z"),isRead:!0},{id:"m12",senderId:"user-4",receiverId:"user-8",content:"Vou organizar um grupo. Voc\xEA topa jogar toda quinta?",timestamp:new Date("2025-05-05T09:00:00Z"),isRead:!0},{id:"m13",senderId:"user-8",receiverId:"user-4",content:"Claro! S\xF3 n\xE3o posso na primeira quinta do m\xEAs.",timestamp:new Date("2025-05-05T09:15:00Z"),isRead:!0},{id:"m14",senderId:"user-5",receiverId:"user-9",content:"Isa, voc\xEA trabalha com design gr\xE1fico?",timestamp:new Date("2025-05-07T14:20:00Z"),isRead:!0},{id:"m15",senderId:"user-9",receiverId:"user-5",content:"Trabalho sim! Precisa de alguma coisa?",timestamp:new Date("2025-05-07T15:00:00Z"),isRead:!0},{id:"m16",senderId:"user-5",receiverId:"user-9",content:"Tenho um projeto freelance, ser\xE1 que voc\xEA teria interesse?",timestamp:new Date("2025-05-07T15:30:00Z"),isRead:!0},{id:"m17",senderId:"user-9",receiverId:"user-5",content:"Com certeza! Me manda os detalhes por favor.",timestamp:new Date("2025-05-07T16:00:00Z"),isRead:!0},{id:"m18",senderId:"user-6",receiverId:"user-7",content:"Gabi, voc\xEA ouviu o novo \xE1lbum da Pabllo Vittar?",timestamp:new Date("2025-05-10T21:00:00Z"),isRead:!0},{id:"m19",senderId:"user-7",receiverId:"user-6",content:"Ouvi! 'Disk me' est\xE1 incr\xEDvel \u{1F3B5}",timestamp:new Date("2025-05-10T21:30:00Z"),isRead:!0},{id:"m20",senderId:"user-6",receiverId:"user-7",content:"Demais! Vamos no show dela quando vier para SP?",timestamp:new Date("2025-05-10T22:00:00Z"),isRead:!0},{id:"m21",senderId:"user-7",receiverId:"user-6",content:"\xD3bvio! J\xE1 vou ficar de olho na venda dos ingressos.",timestamp:new Date("2025-05-10T22:15:00Z"),isRead:!0},{id:"m22",senderId:"user-2",receiverId:"user-3",content:"Carla, voc\xEA j\xE1 foi ao novo restaurante da Vila Madalena?",timestamp:new Date("2025-05-15T19:45:00Z"),isRead:!0},{id:"m23",senderId:"user-3",receiverId:"user-2",content:"Ainda n\xE3o! \xC9 bom?",timestamp:new Date("2025-05-15T20:00:00Z"),isRead:!0},{id:"m24",senderId:"user-2",receiverId:"user-3",content:"Muito bom! O risotto de camar\xE3o \xE9 imperd\xEDvel.",timestamp:new Date("2025-05-15T20:15:00Z"),isRead:!0},{id:"m25",senderId:"user-8",receiverId:"user-9",content:"Isa, voc\xEA leu 'Klara e o Sol'?",timestamp:new Date("2025-05-18T16:30:00Z"),isRead:!0},{id:"m26",senderId:"user-9",receiverId:"user-8",content:"Li sim! Kazuo Ishiguro \xE9 genial.",timestamp:new Date("2025-05-18T17:00:00Z"),isRead:!0},{id:"m27",senderId:"user-8",receiverId:"user-9",content:"Concordo! A forma como ele aborda IA \xE9 fascinante.",timestamp:new Date("2025-05-18T17:30:00Z"),isRead:!0},{id:"m28",senderId:"user-1",receiverId:"user-4",content:"Diego, como est\xE1 o projeto da empresa?",timestamp:new Date("2025-05-20T10:00:00Z"),isRead:!0},{id:"m29",senderId:"user-4",receiverId:"user-1",content:"Bem complexo, mas estamos avan\xE7ando. Preciso de ajuda com o frontend.",timestamp:new Date("2025-05-20T10:30:00Z"),isRead:!0},{id:"m30",senderId:"user-1",receiverId:"user-4",content:"Posso te ajudar! Que tal conversarmos amanh\xE3?",timestamp:new Date("2025-05-20T11:00:00Z"),isRead:!0},{id:"m31",senderId:"user-3",receiverId:"user-7",content:"Gabi, o almo\xE7o de domingo foi cancelado.",timestamp:new Date("2025-05-25T08:00:00Z"),isRead:!0},{id:"m32",senderId:"user-7",receiverId:"user-3",content:"Por qu\xEA? Aconteceu alguma coisa?",timestamp:new Date("2025-05-25T08:15:00Z"),isRead:!0},{id:"m33",senderId:"user-3",receiverId:"user-7",content:"A vov\xF3 est\xE1 meio resfriada, melhor reagendar.",timestamp:new Date("2025-05-25T08:30:00Z"),isRead:!0},{id:"m34",senderId:"user-5",receiverId:"user-6",content:"Felipe, voc\xEA sabe editar v\xEDdeos?",timestamp:new Date("2025-05-28T13:20:00Z"),isRead:!0},{id:"m35",senderId:"user-6",receiverId:"user-5",content:"Sei o b\xE1sico no Premiere. Precisa de ajuda?",timestamp:new Date("2025-05-28T14:00:00Z"),isRead:!0},{id:"m36",senderId:"user-5",receiverId:"user-6",content:"Tenho uns v\xEDdeos da festa que preciso editar.",timestamp:new Date("2025-05-28T14:30:00Z"),isRead:!0},{id:"m37",senderId:"user-2",receiverId:"user-6",content:"Felipe, o que voc\xEA achou do React 18?",timestamp:new Date("2025-05-30T16:00:00Z"),isRead:!0},{id:"m38",senderId:"user-6",receiverId:"user-2",content:"As melhorias de performance s\xE3o impressionantes!",timestamp:new Date("2025-05-30T16:30:00Z"),isRead:!0},{id:"m39",senderId:"user-2",receiverId:"user-6",content:"Sim! O Concurrent Features mudou tudo.",timestamp:new Date("2025-05-30T17:00:00Z"),isRead:!0},{id:"m40",senderId:"user-1",receiverId:"user-5",content:"Elena, como foi o final de semana?",timestamp:new Date("2025-06-02T09:00:00Z"),isRead:!0},{id:"m41",senderId:"user-5",receiverId:"user-1",content:"\xD3timo! Fui na exposi\xE7\xE3o do MASP. Voc\xEA precisa ir!",timestamp:new Date("2025-06-02T09:30:00Z"),isRead:!0},{id:"m42",senderId:"user-1",receiverId:"user-5",content:"Que legal! Qual exposi\xE7\xE3o est\xE1 rolando?",timestamp:new Date("2025-06-02T10:00:00Z"),isRead:!0},{id:"m43",senderId:"user-5",receiverId:"user-1",content:"Arte contempor\xE2nea brasileira. Muito inspirador!",timestamp:new Date("2025-06-02T10:15:00Z"),isRead:!0},{id:"m44",senderId:"user-4",receiverId:"user-8",content:"Hugo, quinta-feira vamos jogar no mesmo hor\xE1rio?",timestamp:new Date("2025-06-03T07:00:00Z"),isRead:!0},{id:"m45",senderId:"user-8",receiverId:"user-4",content:"Sim! J\xE1 confirmei com o pessoal.",timestamp:new Date("2025-06-03T07:30:00Z"),isRead:!0},{id:"m46",senderId:"user-4",receiverId:"user-8",content:"Perfeito! Desta vez vou levar chuteira nova.",timestamp:new Date("2025-06-03T08:00:00Z"),isRead:!0},{id:"m47",senderId:"user-7",receiverId:"user-3",content:"Carla, a vov\xF3 j\xE1 est\xE1 melhor!",timestamp:new Date("2025-06-04T18:00:00Z"),isRead:!0},{id:"m48",senderId:"user-3",receiverId:"user-7",content:"Que bom! Podemos remarcar o almo\xE7o ent\xE3o?",timestamp:new Date("2025-06-04T18:30:00Z"),isRead:!0},{id:"m49",senderId:"user-7",receiverId:"user-3",content:"Sim! Que tal domingo que vem?",timestamp:new Date("2025-06-04T19:00:00Z"),isRead:!0},{id:"m50",senderId:"user-3",receiverId:"user-7",content:"Perfeito! Vou fazer aquele bolo de chocolate.",timestamp:new Date("2025-06-04T19:15:00Z"),isRead:!0},{id:"m51",senderId:"user-9",receiverId:"user-5",content:"Elena, terminei a primeira vers\xE3o do design!",timestamp:new Date("2025-06-05T11:00:00Z"),isRead:!0},{id:"m52",senderId:"user-5",receiverId:"user-9",content:"Que r\xE1pido! Vou dar uma olhada agora.",timestamp:new Date("2025-06-05T11:30:00Z"),isRead:!0},{id:"m53",senderId:"user-5",receiverId:"user-9",content:"Ficou lindo! S\xF3 pequenos ajustes na tipografia.",timestamp:new Date("2025-06-05T12:00:00Z"),isRead:!0},{id:"m54",senderId:"user-9",receiverId:"user-5",content:"\xD3timo! Fa\xE7o os ajustes hoje \xE0 tarde.",timestamp:new Date("2025-06-05T12:15:00Z"),isRead:!0},{id:"m55",senderId:"user-6",receiverId:"user-2",content:"Bruno, voc\xEA viu o novo framework que foi lan\xE7ado?",timestamp:new Date("2025-06-06T14:20:00Z"),isRead:!0},{id:"m56",senderId:"user-2",receiverId:"user-6",content:"Qual? Tem tantos ultimamente \u{1F605}",timestamp:new Date("2025-06-06T14:45:00Z"),isRead:!0},{id:"m57",senderId:"user-6",receiverId:"user-2",content:"O Astro 2.0! Parece muito promissor.",timestamp:new Date("2025-06-06T15:00:00Z"),isRead:!0},{id:"m58",senderId:"user-2",receiverId:"user-6",content:"Ah sim! Li sobre ele. Vou testar no pr\xF3ximo projeto.",timestamp:new Date("2025-06-06T15:30:00Z"),isRead:!0},{id:"m59",senderId:"user-1",receiverId:"user-3",content:"Carla, voc\xEA viu o filme que recomendei?",timestamp:new Date("2025-06-08T20:30:00Z"),isRead:!0},{id:"m60",senderId:"user-3",receiverId:"user-1",content:"Vi sim! Adorei a trilha sonora. Muito obrigada pela dica!",timestamp:new Date("2025-06-08T21:15:00Z"),isRead:!0},{id:"m61",senderId:"user-1",receiverId:"user-3",content:"Que bom! Tem outros filmes do mesmo diretor que s\xE3o incr\xEDveis.",timestamp:new Date("2025-06-08T21:45:00Z"),isRead:!1},{id:"m62",senderId:"user-3",receiverId:"user-1",content:"Me manda a lista! Estou precisando de boas indica\xE7\xF5es.",timestamp:new Date("2025-06-08T22:00:00Z"),isRead:!0},{id:"m63",senderId:"user-8",receiverId:"user-9",content:"Isa, conseguiu terminar 'Duna'?",timestamp:new Date("2025-06-08T19:00:00Z"),isRead:!0},{id:"m64",senderId:"user-9",receiverId:"user-8",content:"Terminei! Que livro incr\xEDvel. J\xE1 comecei o segundo.",timestamp:new Date("2025-06-08T19:30:00Z"),isRead:!0},{id:"m65",senderId:"user-8",receiverId:"user-9",content:"O Herbert criou um universo fascinante mesmo.",timestamp:new Date("2025-06-08T20:00:00Z"),isRead:!0},{id:"m66",senderId:"user-9",receiverId:"user-8",content:"Concordo! A pol\xEDtica e ecologia s\xE3o muito bem constru\xEDdas.",timestamp:new Date("2025-06-08T20:30:00Z"),isRead:!0},{id:"m67",senderId:"user-1",receiverId:"user-2",content:"Oi, bom dia! Queria confirmar se vamos ter a reuni\xE3o hoje \xE0s 10h?",timestamp:new Date("2025-06-09T08:00:00Z"),isRead:!0},{id:"m68",senderId:"user-2",receiverId:"user-1",content:"Sim, est\xE1 confirmada. A sala j\xE1 foi reservada.",timestamp:new Date("2025-06-09T08:01:00Z"),isRead:!1},{id:"m69",senderId:"user-1",receiverId:"user-2",content:"Perfeito. Vou preparar os documentos antes.",timestamp:new Date("2025-06-09T08:02:00Z"),isRead:!0},{id:"m70",senderId:"user-2",receiverId:"user-1",content:"\xD3timo! Nos vemos l\xE1 ent\xE3o.",timestamp:new Date("2025-06-09T08:03:00Z"),isRead:!1},{id:"m71",senderId:"user-3",receiverId:"user-1",content:"Ana, voc\xEA viu o novo filme do Christopher Nolan?",timestamp:new Date("2025-06-10T09:00:00Z"),isRead:!1},{id:"m72",senderId:"user-4",receiverId:"user-1",content:"Consegui resolver aquele bug do projeto!",timestamp:new Date("2025-06-10T10:30:00Z"),isRead:!1},{id:"m73",senderId:"user-5",receiverId:"user-1",content:"Obrigada pela ajuda com o design!",timestamp:new Date("2025-06-10T11:15:00Z"),isRead:!1}]);conversations=K(()=>{let e="user-1",n=new Map;return this.users.forEach(s=>{s.id!==e&&n.set(s.id,{user:s,messages:[],unreadCount:0,lastMessage:void 0})}),this.messages().forEach(s=>{let r=s.senderId===e,o=r?s.receiverId:s.senderId;if(n.has(o)){let a=n.get(o);a.messages.push(s),(!a.lastMessage||s.timestamp>a.lastMessage.timestamp)&&(a.lastMessage=s),!r&&!s.isRead&&a.unreadCount++}}),Array.from(n.values())});filteredConversations=K(()=>{let e=this.conversations().filter(n=>{let s=n.user.name.toLowerCase().includes(this.searchTerm().toLowerCase()),r=!this.filterUnread()||n.unreadCount>0;return s&&r});return e.sort((n,s)=>{switch(this.sortBy()){case"name":return n.user.name.localeCompare(s.user.name);case"unread":return s.unreadCount-n.unreadCount;case"recent":default:let r=n.lastMessage?.timestamp||new Date(0);return(s.lastMessage?.timestamp||new Date(0)).getTime()-r.getTime()}}),e});selectedConversation=K(()=>{let e=this.selectedConversationId();return e?this.conversations().find(n=>n.user.id===e):null});sortedMessages=K(()=>{let e=this.selectedConversation();return e?e.messages.sort((n,s)=>n.timestamp.getTime()-s.timestamp.getTime()):[]});toggleFilterUnread(){this.filterUnread.set(!this.filterUnread())}selectConversation(e){this.selectedConversationId.set(e)}sendMessage(){let e=this.newMessage().trim(),n=this.selectedConversationId();if(e&&n){let s={id:`m${Date.now()}`,senderId:"user-1",receiverId:n,content:e,timestamp:new Date,isRead:!1};this.messages.update(r=>[...r,s]),this.newMessage.set("")}}formatTime(e){let s=new Date().getTime()-e.getTime(),r=Math.floor(s/(1e3*60)),o=Math.floor(s/(1e3*60*60)),a=Math.floor(s/(1e3*60*60*24));return r<1?"agora":r<60?`${r}min`:o<24?`${o}h`:a<7?`${a}d`:e.toLocaleDateString("pt-BR")}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["app-chat-interface"]],decls:29,vars:8,consts:[["noConversation",""],[1,"flex","h-screen","bg-gray-100"],[1,"w-1/3","bg-white","border-r","border-gray-200","flex","flex-col"],[1,"p-4","border-b","border-gray-200"],[1,"text-xl","font-semibold","text-gray-800","/*mb-3*/"],[1,"text-sm","text-gray-500","pt-0"],[1,"relative","mb-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","text-gray-400","w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Buscar conversas...",1,"w-full","pl-10","pr-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"flex","gap-2"],[3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3"],["cx","12","cy","12","r","10"],[1,"px-3","py-1","text-sm","border","border-gray-300","rounded-full","focus:outline-none",3,"ngModelChange","ngModel"],["value","recent"],["value","name"],["value","unread"],[1,"flex-1","overflow-y-auto"],[3,"class","click",4,"ngFor","ngForOf"],[1,"flex-1","flex","flex-col","h-full"],[4,"ngIf","ngIfElse"],[1,"flex","items-start","gap-3"],[1,"relative","flex-shrink-0"],[1,"w-12","h-12","bg-gradient-to-br","from-blue-400","to-purple-500","rounded-full","flex","items-center","justify-center","text-white","font-semibold"],["class","absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-white rounded-full",4,"ngIf"],[1,"flex-1","min-w-0"],[1,"flex","items-center","justify-between","mb-1"],[1,"font-medium","text-gray-900","truncate"],["class","text-xs text-gray-500",4,"ngIf"],["class","flex items-center justify-between",4,"ngIf"],["class","text-xs text-gray-400 mt-1",4,"ngIf"],[1,"absolute","-bottom-1","-right-1","w-4","h-4","bg-green-500","border-2","border-white","rounded-full"],[1,"text-xs","text-gray-500"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-600","truncate"],[1,"flex","items-center","gap-1"],["class","bg-blue-500 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center",4,"ngIf"],["class","text-gray-400",4,"ngIf"],[1,"bg-blue-500","text-white","text-xs","rounded-full","px-2","py-1","min-w-[20px]","text-center"],[1,"text-gray-400"],["class","w-4 h-4 text-blue-500","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","w-4 h-4","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-blue-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7","transform","translate(4,0)"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],[1,"text-xs","text-gray-400","mt-1"],[1,"p-4","bg-white","border-b","border-gray-200"],[1,"flex","items-center","gap-3"],[1,"relative"],[1,"w-10","h-10","bg-gradient-to-br","from-blue-400","to-purple-500","rounded-full","flex","items-center","justify-center","text-white","font-semibold"],["class","absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 border-2 border-white rounded-full",4,"ngIf"],[1,"font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"flex-1","overflow-y-auto","p-4","space-y-4"],[3,"class",4,"ngFor","ngForOf"],[1,"p-4","bg-white","border-t","border-gray-200"],["type","text","placeholder","Digite sua mensagem...",1,"flex-1","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","keyup.enter","ngModel"],[1,"px-6","py-2","bg-blue-500","text-white","rounded-lg","hover:bg-blue-600","transition-colors",3,"click"],[1,"absolute","-bottom-1","-right-1","w-3","h-3","bg-green-500","border-2","border-white","rounded-full"],[1,"text-sm"],[1,"flex","items-center","justify-end","gap-1","mt-1"],["class","text-blue-100",4,"ngIf"],[1,"text-blue-100"],["class","w-3 h-3","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"flex-1","flex","items-center","justify-center","bg-gray-50"],[1,"text-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-gray-400","mx-auto","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],[1,"text-xl","font-semibold","text-gray-600","mb-2"],[1,"text-gray-500"]],template:function(n,s){if(n&1){let r=q();l(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),p(4,"Conversas"),c(),l(5,"h5",5),p(6),c(),l(7,"div",6),y(),l(8,"svg",7),f(9,"path",8),c(),N(),l(10,"input",9),Qe("ngModelChange",function(a){return x(r),Ke(s.searchTerm,a)||(s.searchTerm=a),M(a)}),c()(),l(11,"div",10)(12,"button",11),I("click",function(){return x(r),M(s.toggleFilterUnread())}),y(),l(13,"svg",12),f(14,"circle",13),c(),p(15," N\xE3o lidas "),c(),N(),l(16,"select",14),Qe("ngModelChange",function(a){return x(r),Ke(s.sortBy,a)||(s.sortBy=a),M(a)}),l(17,"option",15),p(18,"Recentes"),c(),l(19,"option",16),p(20,"Nome"),c(),l(21,"option",17),p(22,"N\xE3o lidas"),c()()()(),l(23,"div",18),b(24,_l,13,8,"div",19),c()(),l(25,"div",20),b(26,wl,19,6,"div",21)(27,El,8,0,"ng-template",null,0,jt),c()()}if(n&2){let r=Ut(28);d(6),B(s.currentUser().name+" ("+s.currentUser().id+")"),d(4),We("ngModel",s.searchTerm),d(2),U("flex items-center gap-1 px-3 py-1 rounded-full text-sm "+(s.filterUnread()?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600")),d(4),We("ngModel",s.sortBy),d(8),_("ngForOf",s.filteredConversations()),d(2),_("ngIf",s.selectedConversation())("ngIfElse",r)}},dependencies:[ce,Be,Me,lt,$t,Wt,Ht,ps,Gt,Zt],styles:["[_nghost-%COMP%]{height:100vh;display:block}"]})}return i})();var Tl=["localVideo"],xl=["remoteVideo"],Ml=["canvas"];function Al(i,t){i&1&&(l(0,"div",32),y(),l(1,"svg",33),f(2,"path",34)(3,"path",35),c(),p(4," Detec\xE7\xE3o Facial Ativa "),c())}function kl(i,t){i&1&&(l(0,"div",36),y(),l(1,"svg",37),f(2,"path",38),c()())}function Il(i,t){i&1&&(l(0,"div",36),y(),l(1,"svg",37),f(2,"path",39),c()())}function Rl(i,t){if(i&1){let e=q();l(0,"button",40),I("click",function(){x(e);let s=h();return M(s.startCall())}),y(),l(1,"svg",14),f(2,"path",41),c(),p(3),c()}if(i&2){let e=h();X("loading",e.connectionStatus()==="connecting"),d(3),R(" ",e.connectionStatus()==="connecting"?"Conectando...":"Iniciar Chamada"," ")}}function Dl(i,t){i&1&&(y(),f(0,"path",15))}function Nl(i,t){i&1&&(y(),f(0,"path",49))}function Pl(i,t){i&1&&(y(),f(0,"path",50))}function Ol(i,t){i&1&&(y(),f(0,"path",51))}function Vl(i,t){if(i&1){let e=q();Qi(0),l(1,"button",42),I("click",function(){x(e);let s=h();return M(s.toggleVideo())}),y(),l(2,"svg",14),b(3,Dl,1,0,"path",43)(4,Nl,1,0,"path",44),c()(),N(),l(5,"button",42),I("click",function(){x(e);let s=h();return M(s.toggleAudio())}),y(),l(6,"svg",14),b(7,Pl,1,0,"path",45)(8,Ol,1,0,"path",46),c()(),N(),l(9,"button",47),I("click",function(){x(e);let s=h();return M(s.endCall())}),y(),l(10,"svg",14),f(11,"path",48),c()(),Yi()}if(i&2){let e=h();d(),U(e.isVideoEnabled()?"btn-primary":"btn-error"),d(2),_("ngIf",e.isVideoEnabled()),d(),_("ngIf",!e.isVideoEnabled()),d(),U(e.isAudioEnabled()?"btn-primary":"btn-error"),d(2),_("ngIf",e.isAudioEnabled()),d(),_("ngIf",!e.isAudioEnabled())}}function Ll(i,t){if(i&1&&(l(0,"div",63)(1,"div",64)(2,"span"),p(3),c(),l(4,"span"),p(5),c()(),f(6,"progress",65),c()),i&2){let e=t.$implicit,n=h(2);d(3),B(n.getExpressionText(e.emotion)),d(2),R("",(e.confidence*100).toFixed(1),"%"),d(),U(n.getExpressionProgressClass(e.emotion)),_("value",e.confidence*100)}}function Fl(i,t){if(i&1&&(l(0,"div",52)(1,"div",53)(2,"h4",54),p(3,"Demografia do Paciente"),c(),l(4,"div",55)(5,"p"),p(6),c(),l(7,"p"),p(8),c()()(),l(9,"div",53)(10,"h4",54),p(11,"Express\xE3o Dominante"),c(),l(12,"div",56),p(13),c()(),l(14,"div",53)(15,"h4",54),p(16,"An\xE1lise de Express\xF5es"),c(),l(17,"div",53),b(18,Ll,7,5,"div",57),c()(),l(19,"div",58),y(),l(20,"svg",59),f(21,"path",60),c(),N(),l(22,"div")(23,"h3",61),p(24,"Nota Cl\xEDnica:"),c(),l(25,"div",62),p(26),c()()()()),i&2){let e=h();d(6),R("Idade: ~",e.faceData().age," anos"),d(2),R("G\xEAnero: ",e.faceData().gender==="male"?"Masculino":"Feminino",""),d(4),U(e.getExpressionBadgeClass(e.getDominantExpression())),d(),R(" ",e.getExpressionText(e.getDominantExpression())," "),d(5),_("ngForOf",e.getExpressionsArray()),d(8),R(" Paciente apresenta estado ",e.getExpressionText(e.getDominantExpression()).toLowerCase(),". Monitorar estado emocional durante a consulta. ")}}function Bl(i,t){if(i&1&&(l(0,"div",66),y(),l(1,"svg",67),f(2,"path",34)(3,"path",35),c(),N(),l(4,"p",68),p(5),c()()),i&2){let e=h();d(5),R(" ",e.isCallActive()?"Analisando express\xF5es faciais...":"Inicie uma chamada para come\xE7ar a an\xE1lise facial"," ")}}var ro=(()=>{class i{localVideoRef;remoteVideoRef;canvasRef;isCallActive=E(!1);isVideoEnabled=E(!0);isAudioEnabled=E(!0);faceData=E(null);isDetecting=E(!1);connectionStatus=E("disconnected");stream=null;detectionInterval=null;startCall(){return pe(this,null,function*(){try{this.connectionStatus.set("connecting");let e=yield navigator.mediaDevices.getUserMedia({video:{width:640,height:480},audio:!0});this.localVideoRef?.nativeElement&&(this.localVideoRef.nativeElement.srcObject=e),this.stream=e,this.isCallActive.set(!0),this.connectionStatus.set("connected"),setTimeout(()=>{this.remoteVideoRef?.nativeElement&&(this.remoteVideoRef.nativeElement.srcObject=e)},1e3),this.startFaceDetection()}catch(e){console.error("Erro ao iniciar chamada:",e),this.connectionStatus.set("disconnected")}})}endCall(){this.stopLocalVideo(),this.stopFaceDetection(),this.isCallActive.set(!1),this.connectionStatus.set("disconnected"),this.faceData.set(null),this.remoteVideoRef?.nativeElement&&(this.remoteVideoRef.nativeElement.srcObject=null)}toggleVideo(){if(this.stream){let e=this.stream.getVideoTracks()[0];e&&(e.enabled=!e.enabled,this.isVideoEnabled.set(e.enabled))}}toggleAudio(){if(this.stream){let e=this.stream.getAudioTracks()[0];e&&(e.enabled=!e.enabled,this.isAudioEnabled.set(e.enabled))}}stopLocalVideo(){this.stream&&(this.stream.getTracks().forEach(e=>e.stop()),this.stream=null),this.localVideoRef?.nativeElement&&(this.localVideoRef.nativeElement.srcObject=null)}startFaceDetection(){this.isDetecting.set(!0),this.detectionInterval=setInterval(()=>{let e={expressions:{happy:Math.random()*.8+.1,sad:Math.random()*.3,angry:Math.random()*.2,fearful:Math.random()*.1,disgusted:Math.random()*.1,surprised:Math.random()*.3,neutral:Math.random()*.5+.2},age:Math.floor(Math.random()*40)+25,gender:Math.random()>.5?"male":"female"};this.faceData.set(e)},2e3)}stopFaceDetection(){this.isDetecting.set(!1),this.detectionInterval&&(clearInterval(this.detectionInterval),this.detectionInterval=null)}getDominantExpression(){let e=this.faceData()?.expressions;return e?Object.entries(e).reduce((n,s)=>e[n[0]]>e[s[0]]?n:s)[0]:"neutral"}getExpressionsArray(){let e=this.faceData()?.expressions;return e?Object.entries(e).map(([n,s])=>({emotion:n,confidence:s})):[]}getConnectionStatusClass(){let e=this.connectionStatus();return e==="connected"?"badge-success":e==="connecting"?"badge-warning":"badge-ghost"}getConnectionStatusText(){let e=this.connectionStatus();return e==="connected"?"Conectado":e==="connecting"?"Conectando...":"Desconectado"}getExpressionBadgeClass(e){return{happy:"badge-success",sad:"badge-info",angry:"badge-error",fearful:"badge-secondary",disgusted:"badge-warning",surprised:"badge-accent",neutral:"badge-ghost"}[e]||"badge-ghost"}getExpressionProgressClass(e){return{happy:"progress-success",sad:"progress-info",angry:"progress-error",fearful:"progress-secondary",disgusted:"progress-warning",surprised:"progress-accent",neutral:"progress-ghost"}[e]||"progress-ghost"}getExpressionText(e){return{happy:"FELIZ",sad:"TRISTE",angry:"IRRITADO",fearful:"TEMEROSO",disgusted:"DESGOSTOSO",surprised:"SURPRESO",neutral:"NEUTRO"}[e]||"NEUTRO"}ngOnDestroy(){this.endCall()}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["app-video-call"]],viewQuery:function(n,s){if(n&1&&(he(Tl,5),he(xl,5),he(Ml,5)),n&2){let r;fe(r=ge())&&(s.localVideoRef=r.first),fe(r=ge())&&(s.remoteVideoRef=r.first),fe(r=ge())&&(s.canvasRef=r.first)}},decls:45,vars:10,consts:[["localVideo",""],["remoteVideo",""],["noFaceData",""],["canvas",""],[1,"container","mx-auto","p-4"],[1,"text-center","mb-8"],[1,"text-4xl","font-bold","mb-2"],[1,"text-lg","text-base-content/70"],[1,"grid","grid-cols-1","lg:grid-cols-4","gap-6"],[1,"lg:col-span-3"],[1,"card","bg-base-100","shadow-xl","h-full"],[1,"card-body"],[1,"flex","items-center","justify-between","mb-4"],[1,"card-title"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"],[1,"flex","items-center","gap-2"],[1,"badge"],["class","badge badge-secondary",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-6"],[1,"relative"],["autoplay","","muted","","playsinline","",1,"w-full","h-64","bg-base-300","rounded-lg","object-cover"],[1,"absolute","bottom-2","left-2","bg-black","bg-opacity-50","text-white","px-2","py-1","rounded","text-sm"],["class","absolute inset-0 bg-base-300 rounded-lg flex items-center justify-center",4,"ngIf"],["autoplay","","playsinline","",1,"w-full","h-64","bg-base-300","rounded-lg","object-cover"],[1,"flex","justify-center","gap-4"],["class","btn btn-success btn-lg",3,"loading","click",4,"ngIf"],[4,"ngIf"],[1,"lg:col-span-1"],[1,"card-title","text-lg"],["class","space-y-4",4,"ngIf","ngIfElse"],[1,"hidden"],[1,"badge","badge-secondary"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 13a3 3 0 11-6 0 3 3 0 016 0z"],[1,"absolute","inset-0","bg-base-300","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","text-base-content/30"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18 21l-4.64-4.64m0 0a9 9 0 01-12.728 0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"],[1,"btn","btn-success","btn-lg",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"],[1,"btn","btn-circle",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z",4,"ngIf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5.586 5.586A2 2 0 015 6v6a3 3 0 003 3h.5M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z",4,"ngIf"],[1,"btn","btn-circle","btn-error",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 8l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M3 3l1.664 1.664M21 21l-1.5-1.5m-5.485-1.242L12 17l-1.5-1.5m-2.242-5.485L6.5 8.5 3 3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5.586 5.586A2 2 0 015 6v6a3 3 0 003 3h.5M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"],[1,"space-y-4"],[1,"space-y-2"],[1,"font-semibold","text-sm"],[1,"text-sm","space-y-1"],[1,"badge","badge-lg"],["class","space-y-1",4,"ngFor","ngForOf"],[1,"alert","alert-info"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"font-bold"],[1,"text-xs"],[1,"space-y-1"],[1,"flex","justify-between","text-xs"],["max","100",1,"progress",3,"value"],[1,"text-center","text-base-content/50","py-8"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","mx-auto","mb-2","opacity-50"],[1,"text-sm"]],template:function(n,s){if(n&1&&(l(0,"div",4)(1,"div",5)(2,"h1",6),p(3,"Sistema de Video Chat M\xE9dico"),c(),l(4,"p",7),p(5," Consulta por v\xEDdeo em tempo real com an\xE1lise de express\xE3o facial por IA "),c()(),l(6,"div",8)(7,"div",9)(8,"div",10)(9,"div",11)(10,"div",12)(11,"h2",13),y(),l(12,"svg",14),f(13,"path",15),c(),p(14," Consulta por V\xEDdeo "),c(),N(),l(15,"div",16)(16,"div",17),p(17),c(),b(18,Al,5,0,"div",18),c()(),l(19,"div",19)(20,"div",20),f(21,"video",21,0),l(23,"div",22),p(24," Voc\xEA (M\xE9dico) "),c(),b(25,kl,3,0,"div",23),c(),l(26,"div",20),f(27,"video",24,1),l(29,"div",22),p(30," Paciente "),c(),b(31,Il,3,0,"div",23),c()(),l(32,"div",25),b(33,Rl,4,3,"button",26)(34,Vl,12,8,"ng-container",27),c()()()(),l(35,"div",28)(36,"div",10)(37,"div",11)(38,"h3",29),p(39,"An\xE1lise Facial IA"),c(),b(40,Fl,27,7,"div",30)(41,Bl,6,1,"ng-template",null,2,jt),c()()()(),f(43,"canvas",31,3),c()),n&2){let r=Ut(42);d(16),U(s.getConnectionStatusClass()),d(),R(" ",s.getConnectionStatusText()," "),d(),_("ngIf",s.isDetecting()),d(7),_("ngIf",!s.isVideoEnabled()),d(6),_("ngIf",!s.isCallActive()),d(2),_("ngIf",!s.isCallActive()),d(),_("ngIf",s.isCallActive()),d(6),_("ngIf",s.faceData())("ngIfElse",r)}},dependencies:[ce,Be,Me],encapsulation:2})}return i})();var Ai=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["app-dashboard"]],decls:15,vars:3,consts:[[1,"min-h-[60vh]","flex","items-center","justify-center","p-8"],[1,"hero"],[1,"hero-content","text-center"],[1,"max-w-md"],[1,"text-4xl","font-bold","text-base-content","mb-4"],[1,"mt-12","grid"],[1,"card","bg-base-200","shadow-sm","cursor-pointer"],["routerLink","/AnaliseRemuneracao",1,"card-body","items-center","text-center","p-4"],[1,"w-8","h-8","rounded-full","bg-success/20","flex","items-center","justify-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","mr-1","group-hover:rotate-12","transition-transform","duration-300"],["d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"card-title","text-sm"]],template:function(n,s){n&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),p(5," WebCareManager "),c(),l(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),y(),l(10,"svg",9),f(11,"path",10),c()(),N(),l(12,"h3",11),p(13),$(14,"transloco"),c()()()()()()()()),n&2&&(d(13),B(W(14,1,"REPORTS.PROFESSIONAL_COMPENSATION_ANALYSIS.TITLE")))},dependencies:[ce,ys,Kt,mt,dt],encapsulation:2})}return i})();var Ul=["messagesContainer"],jl=["fileInput"],zl=["messageInput"],ao=(i,t)=>t.id,Hl=(i,t)=>t.emoji;function Gl(i,t){if(i&1&&(l(0,"span",35),p(1),c()),i&2){let e=h().$implicit,n=h();d(),B(n.getTypingText(e.isTyping))}}function Zl(i,t){if(i&1&&p(0),i&2){let e=h().$implicit,n=h();R(" ",n.getLastMessagePreview(e.lastMessage)," ")}}function $l(i,t){if(i&1&&(l(0,"span",36),p(1),c()),i&2){let e=h().$implicit;d(),B(e.unreadCount)}}function Wl(i,t){if(i&1){let e=q();l(0,"div",28),I("click",function(){let s=x(e).$implicit,r=h();return M(r.selectChat(s))}),l(1,"div",7)(2,"div",29)(3,"div",30),f(4,"img",10),c()(),l(5,"div",31)(6,"div",6)(7,"h3",32),p(8),c(),l(9,"span",33),p(10),c()(),l(11,"div",6)(12,"p",34),b(13,Gl,2,1,"span",35)(14,Zl,1,1),c(),b(15,$l,2,1,"span",36),c()()()()}if(i&2){let e,n=t.$implicit,s=h();X("bg-primary-10",((e=s.selectedChat())==null?null:e.id)===n.id),d(2),X("online",n.type==="individual"),d(2),_("src",n.avatar,Fe)("alt",n.name),d(4),B(n.name),d(2),R(" ",s.formatTime(n.lastMessage==null?null:n.lastMessage.timestamp)," "),d(3),F(n.isTyping&&n.isTyping.length>0?13:14),d(2),F(n.unreadCount>0?15:-1)}}function Kl(i,t){if(i&1&&p(0),i&2){let e=h(2);R(" ",e.getOnlineStatus(e.selectedChat().participants[0])," ")}}function Ql(i,t){if(i&1&&p(0),i&2){let e=h(2);R(" ",e.selectedChat().participants.length," participantes ")}}function Yl(i,t){if(i&1&&(l(0,"p",57),p(1),c()),i&2){let e=h().$implicit;d(),B(e.content)}}function Jl(i,t){if(i&1&&(l(0,"p",61),p(1),c()),i&2){let e=h(2).$implicit;d(),B(e.fileName)}}function Xl(i,t){if(i&1&&(l(0,"div",58),f(1,"img",64),b(2,Jl,2,1,"p",61),c()),i&2){let e=h().$implicit;d(),_("src",e.content,Fe)("alt",e.fileName),d(),F(e.fileName?2:-1)}}function ec(i,t){if(i&1&&(l(0,"div",59)(1,"div",65),y(),l(2,"svg",14),f(3,"path",66),c()(),N(),l(4,"div",48)(5,"p",67),p(6),c(),l(7,"p",61),p(8),c()()()),i&2){let e=h().$implicit;d(6),B(e.fileName),d(2),B(e.fileSize)}}function tc(i,t){if(i&1&&(y(),l(0,"svg",68),f(1,"path",69),c()),i&2){let e=h().$implicit;X("text-primary",e.isRead)}}function nc(i,t){if(i&1&&(l(0,"span",70),p(1),c()),i&2){let e=t.$implicit;d(),$e(" ",e.emoji," ",e.count," ")}}function ic(i,t){if(i&1&&(l(0,"div",63),Re(1,nc,2,2,"span",70,Hl),c()),i&2){let e=h().$implicit,n=h(2);d(),De(n.getUniqueReactions(e.reactions))}}function sc(i,t){if(i&1&&(l(0,"div",54)(1,"div",55)(2,"div",56),b(3,Yl,2,1,"p",57)(4,Xl,3,3,"div",58)(5,ec,9,2,"div",59),l(6,"div",60)(7,"span",61),p(8),c(),b(9,tc,2,2,":svg:svg",62),c()(),b(10,ic,3,0,"div",63),c()()),i&2){let e=t.$implicit,n=h(2);X("justify-end",e.senderId===n.currentUser().id),d(2),U(e.senderId===n.currentUser().id?"bg-primary text-primary-content":"bg-base-300"),d(),F(e.type==="text"?3:-1),d(),F(e.type==="image"?4:-1),d(),F(e.type==="document"?5:-1),d(3),B(n.formatTime(e.timestamp)),d(),F(e.senderId===n.currentUser().id?9:-1),d(),F(e.reactions&&e.reactions.length>0?10:-1)}}function rc(i,t){if(i&1){let e=q();l(0,"button",71),I("click",function(){x(e);let s=h(2);return M(s.sendMessage())}),y(),l(1,"svg",14),f(2,"path",72),c()()}}function oc(i,t){if(i&1){let e=q();l(0,"button",73),I("click",function(){x(e);let s=h(2);return M(s.startVoiceRecording())}),y(),l(1,"svg",14),f(2,"path",74),c()()}}function ac(i,t){if(i&1){let e=q();l(0,"div",53)(1,"div",75)(2,"button",76),I("click",function(){x(e);let s=h(2);return M(s.selectFile("image"))}),l(3,"div",77),y(),l(4,"svg",14),f(5,"path",78),c()(),N(),l(6,"span",79),p(7,"Foto"),c()(),l(8,"button",76),I("click",function(){x(e);let s=h(2);return M(s.selectFile("document"))}),l(9,"div",80),y(),l(10,"svg",14),f(11,"path",66),c()(),N(),l(12,"span",79),p(13,"Documento"),c()(),l(14,"button",76),I("click",function(){x(e);let s=h(2);return M(s.startCamera())}),l(15,"div",81),y(),l(16,"svg",14),f(17,"path",82),c()(),N(),l(18,"span",79),p(19,"C\xE2mera"),c()(),l(20,"button",76),I("click",function(){x(e);let s=h(2);return M(s.selectContact())}),l(21,"div",83),y(),l(22,"svg",14),f(23,"path",84),c()(),N(),l(24,"span",79),p(25,"Contato"),c()()()()}}function lc(i,t){if(i&1){let e=q();l(0,"div",37)(1,"div",6)(2,"div",7)(3,"div",29)(4,"div",9),f(5,"img",10),c()(),l(6,"div")(7,"h3",11),p(8),c(),l(9,"p",38),b(10,Kl,1,1)(11,Ql,1,1),c()()(),l(12,"div",12)(13,"button",39),I("click",function(){x(e);let s=h();return M(s.startVideoCall())}),y(),l(14,"svg",14),f(15,"path",40),c()(),N(),l(16,"button",39),I("click",function(){x(e);let s=h();return M(s.startVoiceCall())}),y(),l(17,"svg",14),f(18,"path",41),c()(),N(),l(19,"button",13),y(),l(20,"svg",14),f(21,"path",42),c()()()()(),N(),l(22,"div",43,1),Re(24,sc,11,10,"div",44,ao),c(),l(26,"div",45)(27,"div",46)(28,"button",39),I("click",function(){x(e);let s=h();return M(s.toggleAttachmentMenu())}),y(),l(29,"svg",14),f(30,"path",47),c()(),N(),l(31,"div",48)(32,"textarea",49,2),Qe("ngModelChange",function(s){x(e);let r=h();return Ke(r.newMessage,s)||(r.newMessage=s),M(s)}),I("keydown",function(s){x(e);let r=h();return M(r.handleEnterKey(s))})("input",function(){x(e);let s=h();return M(s.handleTyping())}),c()(),l(34,"button",13),y(),l(35,"svg",14),f(36,"path",50),c()(),b(37,rc,3,0,"button",51)(38,oc,3,0,"button",52),c(),b(39,ac,26,0,"div",53),c()}if(i&2){let e=h();d(3),X("online",e.selectedChat().type==="individual"),d(2),_("src",e.selectedChat().avatar,Fe)("alt",e.selectedChat().name),d(3),B(e.selectedChat().name),d(2),F(e.selectedChat().type==="individual"?10:11),d(14),De(e.selectedChat().messages),d(8),We("ngModel",e.newMessage),d(5),F(e.newMessage.trim()?37:38),d(2),F(e.showAttachmentMenu()?39:-1)}}function cc(i,t){i&1&&(l(0,"div",25)(1,"div",85)(2,"div",86),y(),l(3,"svg",87),f(4,"path",88),c()(),N(),l(5,"h2",89),p(6,"Bem-vindo ao Chat"),c(),l(7,"p",90),p(8,"Selecione uma conversa para come\xE7ar a conversar"),c()()())}function dc(i,t){i&1&&p(0," Chamada de v\xEDdeo... ")}function mc(i,t){i&1&&p(0," Liga\xE7\xE3o... ")}function uc(i,t){if(i&1){let e=q();l(0,"button",100),I("click",function(){x(e);let s=h(2);return M(s.acceptCall())}),y(),l(1,"svg",98),f(2,"path",40),c()()}}function pc(i,t){if(i&1){let e=q();l(0,"div",26)(1,"div",91)(2,"div",85)(3,"div",92)(4,"div",93),f(5,"img",10),c()(),l(6,"h3",94),p(7),c(),l(8,"p",95),b(9,dc,1,0)(10,mc,1,0),c(),l(11,"div",96)(12,"button",97),I("click",function(){x(e);let s=h();return M(s.endCall())}),y(),l(13,"svg",98),f(14,"path",41),c()(),b(15,uc,3,0,"button",99),c()()()()}if(i&2){let e=h();d(5),_("src",e.activeCall().avatar,Fe)("alt",e.activeCall().name),d(2),B(e.activeCall().name),d(2),F(e.activeCall().type==="video"?9:10),d(6),F(e.activeCall().type==="video"?15:-1)}}var lo=(()=>{class i{messagesContainer;fileInput;messageInput;currentUser=E({id:"1",name:"Voc\xEA",avatar:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=150&h=150&fit=crop&crop=face",isOnline:!0});searchTerm="";newMessage="";showAttachmentMenu=E(!1);selectedChat=E(null);activeCall=E(null);chats=E([{id:"1",type:"individual",name:"Maria Silva",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b5b0?w=150&h=150&fit=crop&crop=face",participants:[{id:"2",name:"Maria Silva",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b5b0?w=150&h=150&fit=crop&crop=face",isOnline:!0}],messages:[{id:"1",senderId:"2",content:"Oi! Como voc\xEA est\xE1?",timestamp:new Date(Date.now()-3e5),type:"text",isRead:!0},{id:"2",senderId:"1",content:"Estou bem, obrigado! E voc\xEA?",timestamp:new Date(Date.now()-24e4),type:"text",isRead:!0},{id:"3",senderId:"2",content:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",timestamp:new Date(Date.now()-18e4),type:"image",fileName:"paisagem.jpg",isRead:!0}],unreadCount:0,isTyping:[]},{id:"2",type:"group",name:"Fam\xEDlia \u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",avatar:"https://images.unsplash.com/photo-1511632765486-a01980e01a18?w=150&h=150&fit=crop&crop=face",participants:[{id:"3",name:"Jo\xE3o",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",isOnline:!1,lastSeen:new Date(Date.now()-36e5)},{id:"4",name:"Ana",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",isOnline:!0}],messages:[{id:"4",senderId:"3",content:"Pessoal, que tal um almo\xE7o domingo?",timestamp:new Date(Date.now()-72e5),type:"text",isRead:!1}],unreadCount:1,isTyping:["Ana"]},{id:"3",type:"individual",name:"Pedro Santos",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",participants:[{id:"5",name:"Pedro Santos",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",isOnline:!1,lastSeen:new Date(Date.now()-18e5)}],messages:[{id:"5",senderId:"5",content:"Apresenta\xE7\xE3o_Projeto.pdf",timestamp:new Date(Date.now()-36e5),type:"document",fileName:"Apresenta\xE7\xE3o_Projeto.pdf",fileSize:"2.3 MB",isRead:!1}],unreadCount:1,isTyping:[]}]);filteredChats=K(()=>{let e=this.searchTerm.toLowerCase();return e?this.chats().filter(n=>n.name.toLowerCase().includes(e)||n.participants.some(s=>s.name.toLowerCase().includes(e))):this.chats()});selectChat(e){this.selectedChat.set(e),e.unreadCount=0,e.messages.forEach(n=>{n.senderId!==this.currentUser().id&&(n.isRead=!0)}),this.showAttachmentMenu.set(!1),setTimeout(()=>this.scrollToBottom(),100)}sendMessage(){if(!this.newMessage.trim()||!this.selectedChat())return;let e={id:Date.now().toString(),senderId:this.currentUser().id,content:this.newMessage.trim(),timestamp:new Date,type:"text",isRead:!1},n=this.selectedChat();n.messages.push(e),n.lastMessage=e,this.chats.update(s=>[...s]),this.newMessage="",setTimeout(()=>this.scrollToBottom(),100),n.type==="individual"&&setTimeout(()=>this.simulateResponse(n),2e3)}simulateResponse(e){let n=["Entendi! \u{1F44D}","Que legal!","Obrigado pela mensagem!","Vou verificar isso","Perfeito! \u{1F60A}","Combinado ent\xE3o!"],s={id:Date.now().toString(),senderId:e.participants[0].id,content:n[Math.floor(Math.random()*n.length)],timestamp:new Date,type:"text",isRead:!1};e.messages.push(s),e.lastMessage=s,e.unreadCount++,this.chats.update(r=>[...r]),setTimeout(()=>this.scrollToBottom(),100)}handleEnterKey(e){e.key==="Enter"&&!e.shiftKey&&(e.preventDefault(),this.sendMessage())}handleTyping(){console.log("User is typing...")}toggleAttachmentMenu(){this.showAttachmentMenu.update(e=>!e)}selectFile(e){let n=this.fileInput.nativeElement;e==="image"?n.accept="image/*":e==="document"&&(n.accept=".pdf,.doc,.docx,.txt,.xlsx,.pptx"),n.click(),this.showAttachmentMenu.set(!1)}handleFileSelection(e){let n=e.target.files;!n||n.length===0||!this.selectedChat()||(Array.from(n).forEach(s=>{let r=new FileReader;if(r.onload=o=>{let a={id:Date.now().toString()+Math.random(),senderId:this.currentUser().id,content:o.target?.result,timestamp:new Date,type:s.type.startsWith("image/")?"image":"document",fileName:s.name,fileSize:this.formatFileSize(s.size),isRead:!1},m=this.selectedChat();m.messages.push(a),m.lastMessage=a,this.chats.update(u=>[...u]),setTimeout(()=>this.scrollToBottom(),100)},s.type.startsWith("image/"))r.readAsDataURL(s);else{let o={id:Date.now().toString()+Math.random(),senderId:this.currentUser().id,content:"",timestamp:new Date,type:"document",fileName:s.name,fileSize:this.formatFileSize(s.size),isRead:!1},a=this.selectedChat();a.messages.push(o),a.lastMessage=o,this.chats.update(m=>[...m]),setTimeout(()=>this.scrollToBottom(),100)}}),e.target.value="")}startCamera(){alert("Funcionalidade de c\xE2mera seria implementada aqui"),this.showAttachmentMenu.set(!1)}selectContact(){alert("Sele\xE7\xE3o de contato seria implementada aqui"),this.showAttachmentMenu.set(!1)}startVoiceRecording(){alert("Grava\xE7\xE3o de \xE1udio seria implementada aqui")}startVideoCall(){this.selectedChat()&&this.activeCall.set({name:this.selectedChat().name,avatar:this.selectedChat().avatar,type:"video"})}startVoiceCall(){this.selectedChat()&&this.activeCall.set({name:this.selectedChat().name,avatar:this.selectedChat().avatar,type:"voice"})}acceptCall(){alert("Chamada aceita! Interface de chamada seria exibida aqui."),this.endCall()}endCall(){this.activeCall.set(null)}formatTime(e){if(!e)return"";let s=new Date().getTime()-e.getTime(),r=Math.floor(s/(1e3*60*60)),o=Math.floor(s/(1e3*60));return o<1?"agora":o<60?`${o}m`:r<24?`${r}h`:e.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}formatFileSize(e){if(e===0)return"0 Bytes";let n=1024,s=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,r)).toFixed(2))+" "+s[r]}getOnlineStatus(e){if(!e)return"";if(e.isOnline)return"online";if(e.lastSeen){let n=Date.now()-e.lastSeen.getTime(),s=Math.floor(n/(1e3*60*60)),r=Math.floor(n/(1e3*60));return r<60?`visto por \xFAltimo h\xE1 ${r}m`:s<24?`visto por \xFAltimo h\xE1 ${s}h`:`visto por \xFAltimo ${e.lastSeen.toLocaleDateString("pt-BR")}`}return"offline"}getLastMessagePreview(e){if(!e)return"";switch(e.type){case"text":return e.content;case"image":return"\u{1F4F7} Foto";case"document":return`\u{1F4C4} ${e.fileName}`;case"audio":return"\u{1F3B5} \xC1udio";case"video":return"\u{1F3A5} V\xEDdeo";default:return e.content}}getTypingText(e){return e.length===1?`${e[0]} est\xE1 digitando...`:e.length===2?`${e[0]} e ${e[1]} est\xE3o digitando...`:`${e.length} pessoas est\xE3o digitando...`}getUniqueReactions(e){let n=new Map;return e.forEach(s=>{let r=n.get(s.emoji)||0;n.set(s.emoji,r+1)}),Array.from(n.entries()).map(([s,r])=>({emoji:s,count:r}))}scrollToBottom(){if(this.messagesContainer){let e=this.messagesContainer.nativeElement;e.scrollTop=e.scrollHeight}}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["app-whatsapp-chat"]],viewQuery:function(n,s){if(n&1&&(he(Ul,5),he(jl,5),he(zl,5)),n&2){let r;fe(r=ge())&&(s.messagesContainer=r.first),fe(r=ge())&&(s.fileInput=r.first),fe(r=ge())&&(s.messageInput=r.first)}},decls:31,vars:6,consts:[["fileInput",""],["messagesContainer",""],["messageInput",""],["data-theme","light",1,"flex","h-screen","bg-base-100"],[1,"w-80","bg-base-200","border-r","border-base-300","flex","flex-col"],[1,"p-4","bg-primary","text-primary-content"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-3"],[1,"avatar","online"],[1,"w-10","rounded-full"],[3,"src","alt"],[1,"font-semibold"],[1,"flex","space-x-2"],[1,"btn","btn-ghost","btn-sm","btn-circle"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],[1,"p-4"],[1,"relative"],["type","text","placeholder","Pesquisar conversas...",1,"input","input-bordered","w-full","pl-10",3,"ngModelChange","ngModel"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","absolute","left-3","top-4","text-base-content/50"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"flex-1","overflow-y-auto"],[1,"p-4","hover:bg-base-300","cursor-pointer","transition-colors","border-b","border-base-300/50",3,"bg-primary-10"],[1,"flex-1","flex","flex-col"],[1,"flex-1","flex","items-center","justify-center","bg-base-100"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],["type","file","multiple","",1,"hidden",3,"change"],[1,"p-4","hover:bg-base-300","cursor-pointer","transition-colors","border-b","border-base-300/50",3,"click"],[1,"avatar"],[1,"w-12","rounded-full"],[1,"flex-1","min-w-0"],[1,"font-semibold","text-sm","truncate"],[1,"text-xs","text-base-content/60"],[1,"text-sm","text-base-content/60","truncate"],[1,"text-primary","italic"],[1,"badge","badge-primary","badge-sm"],[1,"p-4","bg-base-200","border-b","border-base-300"],[1,"text-sm","text-base-content/60"],[1,"btn","btn-ghost","btn-sm","btn-circle",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"],[1,"flex-1","overflow-y-auto","p-4","space-y-4"],[1,"flex",3,"justify-end"],[1,"p-4","bg-base-200","border-t","border-base-300"],[1,"flex","items-end","space-x-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"],[1,"flex-1"],["placeholder","Digite uma mensagem...","rows","1",1,"textarea","textarea-bordered","w-full","resize-none",3,"ngModelChange","keydown","input","ngModel"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M14.828 14.828a4 4 0 01-5.656 0M9 10h1.01M15 10h1.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"btn","btn-primary","btn-sm"],[1,"btn","btn-primary","btn-sm","btn-circle"],[1,"mt-3","p-3","bg-base-100","rounded-lg","shadow-lg","border"],[1,"flex"],[1,"max-w-xs","lg:max-w-md","xl:max-w-lg"],[1,"px-4","py-2","rounded-2xl"],[1,"text-sm"],[1,"space-y-2"],[1,"flex","items-center","space-x-3","p-2","bg-base-100/20","rounded-lg"],[1,"flex","items-center","justify-end","mt-1","space-x-1"],[1,"text-xs","opacity-70"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","opacity-70",3,"text-primary"],[1,"flex","space-x-1","mt-1","ml-4"],[1,"rounded-lg","max-w-full","h-auto",3,"src","alt"],[1,"w-10","h-10","bg-base-100/30","rounded-lg","flex","items-center","justify-center"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"],[1,"text-sm","font-medium"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","opacity-70"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-xs","bg-base-200","px-2","py-1","rounded-full"],[1,"btn","btn-primary","btn-sm",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 19l9 2-9-18-9 18 9-2zm0 0v-8"],[1,"btn","btn-primary","btn-sm","btn-circle",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"],[1,"grid","grid-cols-4","gap-4"],[1,"flex","flex-col","items-center","space-y-2","p-3","hover:bg-base-200","rounded-lg",3,"click"],[1,"w-10","h-10","bg-purple-500","rounded-full","flex","items-center","justify-center","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"text-xs"],[1,"w-10","h-10","bg-blue-500","rounded-full","flex","items-center","justify-center","text-white"],[1,"w-10","h-10","bg-green-500","rounded-full","flex","items-center","justify-center","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"],[1,"w-10","h-10","bg-orange-500","rounded-full","flex","items-center","justify-center","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"text-center"],[1,"w-32","h-32","mx-auto","mb-6","bg-primary/10","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-primary"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],[1,"text-2xl","font-bold","text-base-content","mb-2"],[1,"text-base-content/60"],[1,"bg-base-100","rounded-lg","p-6","w-96"],[1,"avatar","mb-4"],[1,"w-20","rounded-full"],[1,"text-xl","font-bold","mb-2"],[1,"text-base-content/60","mb-6"],[1,"flex","justify-center","space-x-4"],[1,"btn","btn-error","btn-circle",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],[1,"btn","btn-success","btn-circle"],[1,"btn","btn-success","btn-circle",3,"click"]],template:function(n,s){if(n&1){let r=q();l(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9),f(7,"img",10),c()(),l(8,"span",11),p(9),c()(),l(10,"div",12)(11,"button",13),y(),l(12,"svg",14),f(13,"path",15),c()(),N(),l(14,"button",13),y(),l(15,"svg",14),f(16,"path",16),c()()()()(),N(),l(17,"div",17)(18,"div",18)(19,"input",19),Qe("ngModelChange",function(a){return x(r),Ke(s.searchTerm,a)||(s.searchTerm=a),M(a)}),c(),y(),l(20,"svg",20),f(21,"path",21),c()()(),N(),l(22,"div",22),Re(23,Wl,16,10,"div",23,ao),c()(),l(25,"div",24),b(26,lc,40,9)(27,cc,9,0,"div",25),c(),b(28,pc,16,5,"div",26),l(29,"input",27,0),I("change",function(a){return x(r),M(s.handleFileSelection(a))}),c()()}n&2&&(d(7),_("src",s.currentUser().avatar,Fe)("alt",s.currentUser().name),d(2),B(s.currentUser().name),d(10),We("ngModel",s.searchTerm),d(4),De(s.filteredChats()),d(3),F(s.selectedChat()?26:27),d(2),F(s.activeCall()?28:-1))},dependencies:[ce,lt,Ht,Gt,Zt,hs],encapsulation:2})}return i})();var hc=["doctorVideo"],fc=["patientVideo"];function gc(i,t){if(i&1&&(l(0,"div",23)(1,"div",24),f(2,"div",25),l(3,"p"),p(4),c()()()),i&2){let e=h();d(),_("ngClass",e.callEnded?"hidden":""),d(3),B(e.role==="medico"?"Preparando c\xE2mera...":"Aguardando m\xE9dico...")}}function _c(i,t){if(i&1&&(l(0,"div",23)(1,"div",24),f(2,"div",25),l(3,"p"),p(4),c()()()),i&2){let e=h();d(),_("ngClass",e.callEnded?"hidden":""),d(3),B(e.role==="paciente"?"Preparando c\xE2mera...":"Aguardando paciente...")}}function vc(i,t){if(i&1&&(l(0,"div",26)(1,"div",27)(2,"p",28),p(3),c()()()),i&2){let e=h();d(3),Ji(" Socket: ",e.socketConnected()?"Conectado":"Desconectado"," | Peer: ",e.peerState()," | Local: ",!!e.localStream," | Remote: ",!!e.remoteStream," ")}}function yc(i,t){i&1&&(y(),l(0,"svg",38),f(1,"path",39),c())}function bc(i,t){i&1&&(y(),l(0,"svg",40),f(1,"path",41),c())}function Cc(i,t){i&1&&(y(),l(0,"svg",40),f(1,"path",42),c())}function Sc(i,t){i&1&&(y(),l(0,"svg",40),f(1,"path",43),c())}function wc(i,t){if(i&1){let e=q();l(0,"button",44),I("click",function(){x(e);let s=h(2);return M(s.reconnect())}),y(),l(1,"svg",40),f(2,"path",45),c()()}}function Ec(i,t){if(i&1){let e=q();l(0,"div",22)(1,"div",29)(2,"button",30),I("click",function(){x(e);let s=h();return M(s.endCall())}),y(),l(3,"svg",31),f(4,"path",32),c()(),N(),l(5,"button",33),I("click",function(){x(e);let s=h();return M(s.toggleAudio())}),b(6,yc,2,0,"svg",34)(7,bc,2,0,"svg",35),c(),l(8,"button",36),I("click",function(){x(e);let s=h();return M(s.toggleVideo())}),b(9,Cc,2,0,"svg",35)(10,Sc,2,0,"svg",35),c(),b(11,wc,3,0,"button",37),c()()}if(i&2){let e=h();d(5),X("btn-active",!e.isAudioMuted()),On("title",e.isAudioMuted()?"Ligar \xE1udio":"Desligar \xE1udio"),_("disabled",!e.localStream),d(),_("ngIf",!e.isAudioMuted()),d(),_("ngIf",e.isAudioMuted()),d(),X("btn-active",!e.isVideoMuted()),On("title",e.isVideoMuted()?"Ligar v\xEDdeo":"Desligar v\xEDdeo"),_("disabled",!e.localStream),d(),_("ngIf",!e.isVideoMuted()),d(),_("ngIf",e.isVideoMuted()),d(),_("ngIf",e.connectionStatus()==="disconnected")}}var co=(()=>{class i{doctorVideo;patientVideo;SIGNAL_SERVER="wss://192.168.1.5:3000/videocall";RECONNECT_ATTEMPTS=5;RECONNECT_DELAY=3e3;socket;peer;localStream;remoteStream=null;reconnectAttempts=0;reconnectTimer;callEnded=!1;role="paciente";roomId="1";connectionStatus=E("disconnected");socketConnected=E(!1);peerState=E("new");participantCount=E(0);audioMuted=E(!1);videoMuted=E(!1);mediaReady=E(!1);route=Z(ct);constructor(){Ye(()=>{console.log("Status da conex\xE3o:",this.connectionStatus()),console.log("Socket conectado:",this.socketConnected()),console.log("Estado do peer:",this.peerState())})}ngOnInit(){this.route.queryParams.subscribe(e=>{e.role==="medico"?this.role="medico":this.role="paciente",this.roomId=e.room||"1",this.initializeConnection()})}ngOnDestroy(){this.cleanup()}initializeConnection(){return pe(this,null,function*(){try{this.connectionStatus.set("connecting"),yield this.setupMedia(),this.setupWebSocket()}catch(e){console.error("Erro na inicializa\xE7\xE3o:",e),this.connectionStatus.set("disconnected")}})}setupMedia(){return pe(this,null,function*(){try{this.localStream=yield navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720}},audio:!0}),this.mediaReady.set(!0),this.assignVideoStreams()}catch(e){throw console.error("Erro ao acessar m\xEDdia:",e),e}})}setupWebSocket(){this.socket=st(this.SIGNAL_SERVER,{transports:["websocket"],reconnection:!0,reconnectionAttempts:this.RECONNECT_ATTEMPTS,reconnectionDelay:this.RECONNECT_DELAY,auth:{userId:this.role,roomId:this.roomId}}),this.setupSocketEvents()}setupSocketEvents(){this.socket.on("connect",()=>{console.log(">>Socket conectado"),this.socketConnected.set(!0),this.reconnectAttempts=0,this.connectionStatus.set("connected"),this.socket.emit("joinRoom",this.roomId,this.role)}),this.socket.on("disconnect",e=>{console.log(">>Socket disconnected:",e),this.socketConnected.set(!1),this.connectionStatus.set("disconnected"),this.callEnded||this.attemptReconnection()}),this.socket.on("room-info",e=>{console.log(">>room-info"),this.participantCount.set(e.userCount),e.userCount>=2&&this.role==="medico"&&!this.callEnded&&this.initiateCall()}),this.socket.on("user-joined",()=>{console.log(">>user-joined"),this.role==="medico"&&!this.callEnded&&this.initiateCall()}),this.socket.on("offer",e=>pe(this,null,function*(){console.log(">>offer recebido"),this.role==="paciente"&&!this.callEnded&&(yield this.handleOffer(e))})),this.socket.on("answer",e=>pe(this,null,function*(){console.log(">>answer recebido"),this.role==="medico"&&!this.callEnded&&(yield this.handleAnswer(e))})),this.socket.on("ice-candidate",e=>pe(this,null,function*(){if(console.log(">>ICE candidate recebido"),this.peer&&!this.callEnded)try{yield this.peer.addIceCandidate(new RTCIceCandidate(e))}catch(n){console.error("Erro ICE:",n)}})),this.socket.on("call-ended",()=>{console.log(">>Chamada encerrada pelo outro participante"),this.callEnded=!0,this.cleanup(),this.resetVideoElements()})}initiateCall(){return pe(this,null,function*(){if(!this.mediaReady()||!this.socketConnected()||this.callEnded)return;this.initPeerConnection(),this.localStream.getTracks().forEach(n=>{this.peer.addTrack(n,this.localStream)});let e=yield this.peer.createOffer();yield this.peer.setLocalDescription(e),this.socket.emit("offer",e)})}handleOffer(e){return pe(this,null,function*(){if(this.callEnded)return;this.initPeerConnection(),this.localStream.getTracks().forEach(s=>{this.peer.addTrack(s,this.localStream)}),yield this.peer.setRemoteDescription(new RTCSessionDescription(e));let n=yield this.peer.createAnswer();yield this.peer.setLocalDescription(n),this.socket.emit("answer",n)})}handleAnswer(e){return pe(this,null,function*(){this.callEnded||this.peer.signalingState==="have-local-offer"&&(yield this.peer.setRemoteDescription(new RTCSessionDescription(e)))})}initPeerConnection(){this.peer?.close(),this.peer=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]}),this.peer.ontrack=e=>{this.remoteStream=e.streams[0],this.assignVideoStreams()},this.peer.onicecandidate=e=>{e.candidate&&this.socketConnected()&&this.socket.emit("ice-candidate",e.candidate)},this.peer.onconnectionstatechange=()=>{let e=this.peer.connectionState;this.peerState.set(e),["disconnected","failed"].includes(e)&&!this.callEnded&&(this.connectionStatus.set("disconnected"),this.attemptReconnection())}}showDoctorVideo(){return this.role==="medico"?!!this.localStream&&this.mediaReady():!!this.remoteStream}showPatientVideo(){return this.role==="paciente"?!!this.localStream&&this.mediaReady():!!this.remoteStream}isAudioMuted(){return this.audioMuted()}isVideoMuted(){return this.videoMuted()}assignVideoStreams(){setTimeout(()=>{this.role==="medico"?(this.doctorVideo?.nativeElement&&this.localStream&&(this.doctorVideo.nativeElement.srcObject=this.localStream),this.patientVideo?.nativeElement&&this.remoteStream&&(this.patientVideo.nativeElement.srcObject=this.remoteStream)):(this.patientVideo?.nativeElement&&this.localStream&&(this.patientVideo.nativeElement.srcObject=this.localStream),this.doctorVideo?.nativeElement&&this.remoteStream&&(this.doctorVideo.nativeElement.srcObject=this.remoteStream))},100)}attemptReconnection(){this.reconnectAttempts>=this.RECONNECT_ATTEMPTS||this.callEnded||(this.reconnectAttempts++,this.connectionStatus.set("reconnecting"),this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout(()=>this.reconnect(),this.RECONNECT_DELAY))}reconnect(){this.callEnded||(this.cleanup(),this.initializeConnection())}toggleAudio(){let e=this.localStream?.getAudioTracks()[0];e&&(e.enabled=!e.enabled,this.audioMuted.set(!e.enabled))}toggleVideo(){let e=this.localStream?.getVideoTracks()[0];e&&(e.enabled=!e.enabled,this.videoMuted.set(!e.enabled))}getConnectionStatusText(){switch(this.connectionStatus()){case"connected":return"Conectado";case"connecting":return"Conectando...";case"reconnecting":return"Reconectando...";default:return"Desconectado"}}getConnectionStatusClass(){switch(this.connectionStatus()){case"connected":return"badge-success";case"connecting":case"reconnecting":return"badge-warning";default:return"badge-error"}}showDebugInfo(){return this.connectionStatus()!=="connected"}endCall(){window.confirm("Encerrar chamada?")&&(this.callEnded=!0,this.socketConnected()&&this.socket.emit("end-call",this.roomId),this.cleanup(),this.resetVideoElements())}resetVideoElements(){setTimeout(()=>{this.doctorVideo?.nativeElement&&(this.doctorVideo.nativeElement.srcObject=null,this.doctorVideo.nativeElement.load()),this.patientVideo?.nativeElement&&(this.patientVideo.nativeElement.srcObject=null,this.patientVideo.nativeElement.load())},100)}cleanup(){this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=void 0),this.socket?.disconnect(),this.peer?.close(),this.localStream?.getTracks().forEach(e=>{e.stop()}),this.remoteStream?.getTracks().forEach(e=>{e.stop()}),this.peer=null,this.remoteStream=null,this.socketConnected.set(!1),this.connectionStatus.set("disconnected"),this.mediaReady.set(!1),this.audioMuted.set(!1),this.videoMuted.set(!1),this.participantCount.set(0),this.peerState.set("new"),this.reconnectAttempts=0}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["app-video-call"]],viewQuery:function(n,s){if(n&1&&(he(hc,5),he(fc,5)),n&2){let r;fe(r=ge())&&(s.doctorVideo=r.first),fe(r=ge())&&(s.patientVideo=r.first)}},decls:37,vars:16,consts:[["doctorVideo",""],["patientVideo",""],[1,"min-h-screen","bg-base-200","p-4"],[1,"navbar","bg-base-100","rounded-lg","mb-4","shadow-lg"],[1,"w-full","mx-auto"],[1,"flex","justify-between"],[1,"badge","badge-outline","mt-2"],[1,"flex","text-center","px-2"],[1,"text-xl","font-bold"],[1,"badge","badge-lg","mt-2"],[1,"flex-col","navbar-center","w-full"],[1,"text-sm","text-gray-500"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"card","bg-base-100","shadow-xl"],[1,"card-body","p-4"],[1,"card-title","text-sm","font-medium","text-center","mb-2"],[1,"badge","badge-primary"],[1,"aspect-video","bg-black","rounded-lg","overflow-hidden","relative"],["autoplay","","playsinline","",1,"w-full","h-full","object-cover",3,"muted"],["class","absolute inset-0 flex items-center justify-center bg-gray-800",4,"ngIf"],[1,"badge","badge-secondary"],["class","card bg-info text-info-content mt-4",4,"ngIf"],[1,"fixed","bottom-4","left-1/2","transform","-translate-x-1/2"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-gray-800"],[1,"text-center","text-white",3,"ngClass"],[1,"loading","loading-spinner","loading-lg","mb-2"],[1,"card","bg-info","text-info-content","mt-4"],[1,"card-body","p-2"],[1,"text-xs"],[1,"btn-group"],["title","Encerrar chamada",1,"btn","btn-error","btn-circle","btn-lg",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","currentColor",1,"w-6","h-6"],["d","M792-54.83 583-262.7q-91.26 74.27-198.59 118.09-107.32 43.83-222.98 43.83-29.08 0-44.58-17.33t-15.5-43.32v-165.96q0-24.74 14.65-42.31 14.65-17.56 38.83-22.82l122.73-26.31q19.48-4.26 41.64 1.87 22.15 6.13 36.37 19.78l97.95 96.27q12.92-7.61 27.42-17.94 14.49-10.32 25.97-19.93L54.87-790.83l63.35-61.65 736 736L792-54.83ZM355.48-249.09l-65.44-64.3-82.69 18.3v85.18q38.17-4.13 75.35-14 37.17-9.87 72.78-25.18ZM708-388.57l-76.91-74.65q9.29-10.39 18.9-23.84t15.18-25.07l-100.39-93.48q-15.35-13.65-19.76-33.24-4.41-19.58-.72-38.76l25.44-128.13q5.82-25.87 23.95-39.67 18.14-13.81 44.01-13.81h161.43q27.04 0 43.57 16.81 16.52 16.8 16.52 43.84 0 107.74-40.02 213.37Q779.18-479.57 708-388.57Zm7.74-220.47q15.35-35.11 23.48-71.12 8.13-36.01 12-73.06h-84.61l-16.31 83.26 65.44 60.92Zm0 0ZM355.48-249.09Z"],[1,"btn","btn-warning","btn-circle","btn-lg",3,"click","disabled","title"],["class","w-6 h-6","fill","currentcolor","viewBox","0 -960 960 960",4,"ngIf"],["class","w-6 h-6","fill","currentColor","viewBox","0 -960 960 960",4,"ngIf"],[1,"btn","btn-info","btn-circle","btn-lg",3,"click","disabled","title"],["class","btn btn-success btn-circle btn-lg","title","Tentar reconectar",3,"click",4,"ngIf"],["fill","currentcolor","viewBox","0 -960 960 960",1,"w-6","h-6"],["d","M479.93-374q-58.97 0-100.19-41.26-41.22-41.27-41.22-100.22v-236.04q0-58.95 41.28-100.22Q421.09-893 480.07-893q58.97 0 100.19 41.26 41.22 41.27 41.22 100.22v236.04q0 58.95-41.28 100.22Q538.91-374 479.93-374Zm.07-259.78ZM431.52-85.52v-125.26q-113.61-15.13-187.26-102.11-73.65-86.98-73.65-202.59h97.52q0 88.09 62.01 149.98 62 61.89 149.97 61.89 87.98 0 149.87-61.97t61.89-149.9h97.52q0 115.74-73.65 202.66-73.65 86.91-187.26 102.04v125.26h-96.96ZM480-480q15.08 0 25.28-10.2 10.2-10.2 10.2-25.28v-236.04q0-15.08-10.2-25.28Q495.08-787 480-787q-15.08 0-25.28 10.2-10.2 10.2-10.2 25.28v236.04q0 15.08 10.2 25.28Q464.92-480 480-480Z"],["fill","currentColor","viewBox","0 -960 960 960",1,"w-6","h-6"],["fill-rule","evenodd","d","m745.05-353.52-71.57-71.57q11.17-20.17 16.48-42.06 5.3-21.89 5.3-48.33h96.96q0 44-11.87 85.48-11.87 41.48-35.3 76.48ZM482.83-616.61Zm135.74 135.74-99.7-100.26v-170.39q0-14.74-10.37-25.11T482.83-787q-15.31 0-25.39 10.37-10.09 10.37-10.09 25.11v99.43L346.43-753v-26.22q7.35-46.61 45.74-80.19Q430.57-893 482.83-893q59.04 0 100.54 41.22 41.5 41.21 41.5 100.26v236.04q0 9.87-1.93 18.87-1.94 9-4.37 15.74ZM434.35-85.52v-125.26q-113.61-15.13-187.26-102.04-73.66-86.92-73.66-202.66h97.53q0 88.09 61.45 149.98 61.46 61.89 150.42 61.89 39.08 0 74.11-13.32 35.02-13.33 62.28-36.85l70 70q-32.39 28.65-72.26 47.76-39.87 19.11-85.66 25.24v125.26h-96.95Zm354.82 25-736-736 61.66-61.65 736 736-61.66 61.65Z"],["d","M166.78-140.78q-44.3 0-75.15-30.85-30.85-30.85-30.85-75.15v-466.44q0-44.3 30.85-75.15 30.85-30.85 75.15-30.85h466.44q44.3 0 75.15 30.85 30.85 30.85 30.85 75.15V-540l160-160v440l-160-160v173.22q0 44.3-30.85 75.15-30.85 30.85-75.15 30.85H166.78Zm0-106h466.44v-466.44H166.78v466.44Zm0 0v-466.44 466.44Z"],["d","m899.22-260-160-160v75.48l-106-106v-262.7h-262.7l-106-106h368.7q44.3 0 75.15 30.85 30.85 30.85 30.85 75.15V-540l160-160v440ZM830.48-14.7 14.7-831.61l62.21-62.22L893.83-76.91 830.48-14.7ZM503.09-580.09ZM380.87-462.87ZM151.52-819.22l106 106h-90.74v466.44h466.44v-90.74l104.87 104.87q-4.52 39.22-34.24 65.54-29.72 26.33-70.63 26.33H166.78q-44.3 0-75.15-30.85-30.85-30.85-30.85-75.15v-466.44q0-40.35 26.33-70.35 26.32-30 65.54-34.52l-1.13-1.13Z"],["title","Tentar reconectar",1,"btn","btn-success","btn-circle","btn-lg",3,"click"],["d","M480-160q-134 0-227-93t-93-227q0-134 93-227t227-93q69 0 132 28.5T720-690v-110h80v280H520v-80h168q-32-56-87.5-88T480-720q-100 0-170 70t-70 170q0 100 70 170t170 70q77 0 139-44t87-116h84q-28 106-114 168t-186 62Z"]],template:function(n,s){n&1&&(l(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6),p(5),c(),l(6,"div",7)(7,"h1",8),p(8,"Consulta M\xE9dica"),c()(),l(9,"div",9),p(10),c()(),l(11,"div",10)(12,"p"),p(13),c(),l(14,"p",11),p(15),c()()()(),l(16,"div",12)(17,"div",13)(18,"div",14)(19,"div",15)(20,"div",16),p(21,"M\xE9dico"),c()(),l(22,"div",17),f(23,"video",18,0),b(25,gc,5,2,"div",19),c()()(),l(26,"div",13)(27,"div",14)(28,"div",15)(29,"div",20),p(30,"Paciente"),c()(),l(31,"div",17),f(32,"video",18,1),b(34,_c,5,2,"div",19),c()()()(),b(35,vc,4,4,"div",21)(36,Ec,12,13,"div",22),c()),n&2&&(d(5),B(s.role.toUpperCase()),d(4),U(s.getConnectionStatusClass()),d(),R(" ",s.callEnded?"Encerrada":s.getConnectionStatusText()," "),d(3),R("Voc\xEA est\xE1 na sala n\xFAmero: ",s.roomId,""),d(2),R("Participantes: ",s.participantCount(),""),d(8),X("hidden",!s.showDoctorVideo()),_("muted",s.role==="medico"),d(2),_("ngIf",!s.showDoctorVideo()),d(7),X("hidden",!s.showPatientVideo()),_("muted",s.role==="paciente"),d(2),_("ngIf",!s.showPatientVideo()),d(),_("ngIf",s.showDebugInfo()),d(),F(s.callEnded?-1:36))},dependencies:[ce,ss,Me],encapsulation:2})}return i})();var mo=[{path:"",component:Ai},{path:"login",loadComponent:()=>import("./chunk-AHJ35YA6.js").then(i=>i.LoginComponent)},{path:"loginAuth",loadComponent:()=>import("./chunk-YZDXU2F5.js").then(i=>i.LoginComponent)},{path:"dashboardAuth",loadComponent:()=>import("./chunk-SPFD4KMC.js").then(i=>i.DashboardComponent)},{path:"TrustedDeviceManagerComponent",loadComponent:()=>import("./chunk-Y42BTSUF.js").then(i=>i.TrustedDeviceManagerComponent)},{path:"dashboard",component:Ai},{path:"chat",component:io},{path:"chat1",component:so},{path:"videocall",component:co},{path:"videocall1",component:ro},{path:"whatsapp-chat",component:lo},{path:"user-messages",loadComponent:()=>import("./chunk-B6TAPMR5.js").then(i=>i.UserMessagesComponent)},{path:"user-list",loadComponent:()=>import("./chunk-E4EYIETP.js").then(i=>i.UserListComponent)},{path:"users",loadComponent:()=>import("./chunk-OUG4HRML.js").then(i=>i.UsersComponent)},{path:"responsive-example",loadComponent:()=>import("./chunk-WQWDXPGP.js").then(i=>i.ResponsiveExampleComponent)},{path:"conversation",loadComponent:()=>import("./chunk-ILWQHX2F.js").then(i=>i.ConversationMapperComponent)},{path:"responsive",loadComponent:()=>import("./chunk-DEIZB4N4.js").then(i=>i.ResponsiveDivComponent)},{path:"modal",loadComponent:()=>import("./chunk-FVJ4NCHU.js").then(i=>i.ModalExemploUsoComponent)},{path:"HomecareDashboardComponent",loadComponent:()=>import("./chunk-AG4DT6HA.js").then(i=>i.HomecareDashboardComponent)},{path:"PatientsPageComponent",loadComponent:()=>import("./chunk-YJY2YFLS.js").then(i=>i.PatientsPageComponent)},{path:"PatientRegistrationComponent",loadComponent:()=>import("./chunk-FDO7FGIB.js").then(i=>i.PatientRegistrationComponent)},{path:"DynamicTableComponent",loadComponent:()=>import("./chunk-PFWWR6QN.js").then(i=>i.DynamicTableComponent)},{path:"DynamicFormComponent",loadComponent:()=>import("./chunk-L2FH2API.js").then(i=>i.DynamicFormComponent)},{path:"PatientListComponent",loadComponent:()=>import("./chunk-EYNXPLIH.js").then(i=>i.PatientListComponent)},{path:"BugReportComponent",loadComponent:()=>import("./chunk-64JWTCAE.js").then(i=>i.BugReportComponent)},{path:"DashboardComponent",loadComponent:()=>import("./chunk-EGPQXBYE.js").then(i=>i.DashboardComponent)},{path:"TesteComponent",loadComponent:()=>import("./chunk-EISFYXB6.js").then(i=>i.TesteComponent)},{path:"UserFormComponent",loadComponent:()=>import("./chunk-Q2QXMEYT.js").then(i=>i.UserFormComponent)},{path:"ExemploToastComponent",loadComponent:()=>import("./chunk-HTWWT2VR.js").then(i=>i.ExemploToastComponent)},{path:"ToastDemoComponent",loadComponent:()=>import("./chunk-IZ7VX53E.js").then(i=>i.ToastDemoComponent)},{path:"RelatorioAtendimentosComponent",loadComponent:()=>import("./chunk-DRYCIWYK.js").then(i=>i.RelatorioAtendimentosComponent)},{path:"RelatorioPrimeNGComponent",loadComponent:()=>import("./chunk-W5TCFH6M.js").then(i=>i.RelatorioPrimeNGComponent)},{path:"HomecareReportComponent",loadComponent:()=>import("./chunk-OO5BGMW4.js").then(i=>i.HomecareReportComponent)},{path:"PivotTableComponent",loadComponent:()=>import("./chunk-V46VUCWF.js").then(i=>i.PivotTableComponent)},{path:"cid10",loadComponent:()=>import("./chunk-OJDWLKVO.js").then(i=>i.Cid10ConsultaComponent)},{path:"cid11",loadComponent:()=>import("./chunk-NRMSAHDW.js").then(i=>i.Cid11ConsultaComponent)},{path:"Cid10BrowserComponent",loadComponent:()=>import("./chunk-OWLKSW7D.js").then(i=>i.Cid10BrowserComponent)},{path:"RemuneracaoAnaliseComponent",loadComponent:()=>import("./chunk-XN7DETSI.js").then(i=>i.RemuneracaoAnaliseComponent)},{path:"AnaliseRemuneracaoComponent",loadComponent:()=>import("./chunk-YNOPN6AQ.js").then(i=>i.AnaliseRemuneracaoComponent)},{path:"AnaliseRemuneracao2Component",loadComponent:()=>import("./chunk-42LJCLJB.js").then(i=>i.AnaliseRemuneracao2Component)},{path:"HomecareDataComponent",loadComponent:()=>import("./chunk-2R52DYRI.js").then(i=>i.HomecareDataComponent)},{path:"AnaliseRemuneracao",loadComponent:()=>import("./chunk-OPO4RQSR.js").then(i=>i.AnaliseRemuneracao3Component)},{path:"tasks",loadComponent:()=>import("./chunk-HTOA7AXE.js").then(i=>i.TaskManagerComponent)}];os(wr);var ki={"pt-BR":{language:"HEADER.LANGUAGES.PT-BR.NAME",region:"HEADER.LANGUAGES.PT-BR.REGION",enabled:!0},en:{language:"HEADER.LANGUAGES.EN.NAME",region:"HEADER.LANGUAGES.EN.REGION",enabled:!0},es:{language:"HEADER.LANGUAGES.ES.NAME",region:"HEADER.LANGUAGES.ES.REGION",enabled:!0},fr:{language:"HEADER.LANGUAGES.FR.NAME",region:"HEADER.LANGUAGES.FR.REGION",enabled:!0},de:{language:"HEADER.LANGUAGES.DE.NAME",region:"HEADER.LANGUAGES.DE.REGION",enabled:!0},it:{language:"HEADER.LANGUAGES.IT.NAME",region:"HEADER.LANGUAGES.IT.REGION",enabled:!0}},Tc=()=>Object.entries(ki).filter(([i,t])=>t.enabled!==!1).map(([i,t])=>i);function xc(i){return()=>i.loadSvgIcons()}var uo={providers:[es({eventCoalescing:!0}),Sr(),vs(mo),cs(),qi(Cs),bs({config:{availableLangs:Tc(),defaultLang:"pt-BR",fallbackLang:"pt-BR",reRenderOnLangChange:!0,prodMode:!ns()},loader:Tr}),{provide:ts,useValue:"pt-BR"},{provide:Ki,useFactory:xc,deps:[Er],multi:!0}]};var In=(()=>{class i{languagesConfig=null;translocoService=Z(Qt);constructor(){this.languagesConfig=ki}changeLanguage(e){this.translocoService.setActiveLang(e)}get currentLanguage(){return this.translocoService.getActiveLang()}get languagesList(){return Object.entries(this.languagesConfig).map(([e,n])=>G({lang:e,icon:`${e}.png`},n)).filter(e=>e.enabled!==!1)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Mc(i,t){i&1&&(y(),l(0,"svg",5),f(1,"path",6),c())}function Ac(i,t){i&1&&(y(),l(0,"svg",7),f(1,"path",8),c())}function kc(i,t){i&1&&(y(),l(0,"svg",7),f(1,"path",9),c())}function Ic(i,t){if(i&1){let e=q();l(0,"li")(1,"a",2),I("click",function(){x(e);let s=h();return M(s.cycleTheme())}),b(2,Mc,2,0,"svg",3)(3,Ac,2,0,"svg",4)(4,kc,2,0,"svg",4),p(5),$(6,"transloco"),$(7,"transloco"),c()()}if(i&2){let e=h();d(2),_("ngIf",e.themeService.theme()==="light"),d(),_("ngIf",e.themeService.theme()==="dark"),d(),_("ngIf",e.themeService.theme()==="auto"),d(),$e(" ",W(6,5,"HEADER.THEME."+e.themeService.theme().toUpperCase()),"",e.themeService.theme().toLowerCase()==="auto"?" ("+W(7,7,"HEADER.THEME."+(e.themeService.detectSystemTheme()?"DARK":"LIGHT"))+")":""," ")}}function Rc(i,t){i&1&&(y(),l(0,"svg",5),f(1,"path",6),c())}function Dc(i,t){i&1&&(y(),l(0,"svg",7),f(1,"path",8),c())}function Nc(i,t){i&1&&(y(),l(0,"svg",7),f(1,"path",9),c())}function Pc(i,t){i&1&&(y(),l(0,"svg",16),f(1,"path",17),c())}function Oc(i,t){i&1&&(y(),l(0,"svg",16),f(1,"path",18),c())}function Vc(i,t){i&1&&(y(),l(0,"svg",16),f(1,"path",19),c())}function Lc(i,t){if(i&1){let e=q();l(0,"li")(1,"a",14),I("click",function(){let s=x(e).$implicit,r=h(2);return M(r.themeService.setTheme(s))}),b(2,Pc,2,0,"svg",15)(3,Oc,2,0,"svg",15)(4,Vc,2,0,"svg",15),p(5),$(6,"transloco"),$(7,"transloco"),c()()}if(i&2){let e=t.$implicit,n=h(2);d(),X("active",n.themeService.theme()===e),d(),_("ngIf",n.iconMap[e]==="claro"),d(),_("ngIf",n.iconMap[e]==="escuro"),d(),_("ngIf",n.iconMap[e]==="auto"),d(),$e(" ",W(6,7,"HEADER.THEME."+e.toUpperCase()),"",n.iconMap[e]==="auto"?" ("+W(7,9,"HEADER.THEME."+(n.themeService.detectSystemTheme()?"DARK":"LIGHT"))+")":""," ")}}function Fc(i,t){if(i&1){let e=q();l(0,"div",10)(1,"button",11),I("click",function(){x(e);let s=h();return M(s.cycleTheme())}),b(2,Rc,2,0,"svg",3)(3,Dc,2,0,"svg",4)(4,Nc,2,0,"svg",4),c(),l(5,"ul",12),b(6,Lc,8,11,"li",13),c()()}if(i&2){let e=h();d(),_("appAccessible",e.accessibleLabel),d(),_("ngIf",e.themeService.theme()==="light"),d(),_("ngIf",e.themeService.theme()==="dark"),d(),_("ngIf",e.themeService.theme()==="auto"),d(2),_("ngForOf",e.options)}}var po=(()=>{class i{mobile=!1;options=["light","dark","auto"];iconMap={light:"claro",dark:"escuro",auto:"auto"};themeService=Z(Ts);languageService=Z(In);transloco=Z(Qt);cycleTheme(){let e=this.options.indexOf(this.themeService.theme()),n=this.options[(e+1)%this.options.length];this.themeService.setTheme(n)}get accessibleLabel(){let e=this.themeService.theme();if(e==="auto"){let n=this.themeService.detectSystemTheme();return`${this.transloco.translate("HEADER.THEME.LABEL")} - ${this.transloco.translate("HEADER.THEME.AUTO")}  (${n?this.transloco.translate("HEADER.THEME.DARK"):this.transloco.translate("HEADER.THEME.LIGHT")})`}return`${this.transloco.translate("HEADER.THEME.LABEL")} - ${e==="light"?this.transloco.translate("HEADER.THEME.LIGHT"):this.transloco.translate("HEADER.THEME.DARK")}`}getTranslationSafe(e,n){try{let s=this.transloco.translate(e);return s===e?n:s}catch{return n}}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["app-theme-toggle"]],inputs:{mobile:"mobile"},decls:2,vars:2,consts:[[4,"ngIf"],["class","dropdown dropdown-end dropdown-hover cursor-pointer",4,"ngIf"],[1,"flex","items-center","gap-2","cursor-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","class","w-5 h-5","ngClass","text-yellow-500","viewBox","0 -960 960 960","fill","currentColor","stroke-width","1.5","stroke","currentColor",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","class","w-5 h-5","viewBox","0 -960 960 960","fill","currentColor","stroke-width","1.5","stroke","currentColor",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","ngClass","text-yellow-500","viewBox","0 -960 960 960","fill","currentColor","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Zm326-268Z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","currentColor","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Zm-10-270Z"],["stroke-linecap","round","stroke-linejoin","round","d","M396-396q-32-32-58.5-67T289-537q-5 14-6.5 28.5T281-480q0 83 58 141t141 58q14 0 28.5-2t28.5-6q-39-22-74-48.5T396-396Zm57-56q51 51 114 87.5T702-308q-40 51-98 79.5T481-200q-117 0-198.5-81.5T201-480q0-65 28.5-123t79.5-98q20 72 56.5 135T453-452Zm290 72q-20-5-39.5-11T665-405q8-18 11.5-36.5T680-480q0-83-58.5-141.5T480-680q-20 0-38.5 3.5T405-665q-8-19-13.5-38T381-742q24-9 49-13.5t51-4.5q117 0 198.5 81.5T761-480q0 26-4.5 51T743-380ZM440-840v-120h80v120h-80Zm0 840v-120h80V0h-80Zm323-706-57-57 85-84 57 56-85 85ZM169-113l-57-56 85-85 57 57-85 84Zm671-327v-80h120v80H840ZM0-440v-80h120v80H0Zm791 328-85-85 57-57 84 85-56 57ZM197-706l-84-85 56-57 85 85-57 57Zm199 310Z"],[1,"dropdown","dropdown-end","dropdown-hover","cursor-pointer"],["t1abindex","0","role","button",1,"rounded-full","p-2","hover:bg-gray-100","hover:text-black",3,"click","appAccessible"],["tabindex","0",1,"dropdown-content","menu","p-2","shadow-md","bg-base-200","rounded-box","w-40","mt-2","z-[1000]","border","border-base-300"],[4,"ngFor","ngForOf"],[1,"flex","items-center","gap-1",3,"click"],["xmlns","http://www.w3.org/2000/svg","class","w-5 h-5","viewBox","0 -960 960 960","fill","currentColor",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","currentColor",1,"w-5","h-5"],["d","M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Zm326-268Z"],["d","M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Zm-10-270Z"],["d","M396-396q-32-32-58.5-67T289-537q-5 14-6.5 28.5T281-480q0 83 58 141t141 58q14 0 28.5-2t28.5-6q-39-22-74-48.5T396-396Zm57-56q51 51 114 87.5T702-308q-40 51-98 79.5T481-200q-117 0-198.5-81.5T201-480q0-65 28.5-123t79.5-98q20 72 56.5 135T453-452Zm290 72q-20-5-39.5-11T665-405q8-18 11.5-36.5T680-480q0-83-58.5-141.5T480-680q-20 0-38.5 3.5T405-665q-8-19-13.5-38T381-742q24-9 49-13.5t51-4.5q117 0 198.5 81.5T761-480q0 26-4.5 51T743-380ZM440-840v-120h80v120h-80Zm0 840v-120h80V0h-80Zm323-706-57-57 85-84 57 56-85 85ZM169-113l-57-56 85-85 57 57-85 84Zm671-327v-80h120v80H840ZM0-440v-80h120v80H0Zm791 328-85-85 57-57 84 85-56 57ZM197-706l-84-85 56-57 85 85-57 57Zm199 310Z"]],template:function(n,s){n&1&&b(0,Ic,8,9,"li",0)(1,Fc,7,5,"div",1),n&2&&(_("ngIf",s.mobile),d(),_("ngIf",!s.mobile))},dependencies:[Me,Be,Jt,mt,dt],styles:[".active[_ngcontent-%COMP%]{font-weight:700;background-color:hsl(var(--b2)/.2)}"]})}return i})();var Bc=(i,t)=>t.lang;function qc(i,t){if(i&1){let e=q();l(0,"li",30),$(1,"transloco"),I("click",function(){let s=x(e).$implicit,r=h();return M(r.onChange(s.lang))}),l(2,"a"),f(3,"img",31),p(4),$(5,"transloco"),c()()}if(i&2){let e=t.$implicit,n=h();U(e.lang===n.languageService.currentLanguage?"bg-success":""),_("appAccessible",W(1,5,e.language)),d(3),_("src",e.icon,Fe),d(),R(" ",W(5,7,e.language)," ")}}function Uc(i,t){if(i&1&&(y(),l(0,"svg",36),f(1,"path"),c()),i&2){let e=h(2).$implicit;d(),Ze("d",e.icon)}}function jc(i,t){if(i&1&&(l(0,"a",34),b(1,Uc,2,1,"svg",35),p(2),$(3,"transloco"),c()),i&2){let e=h().$implicit;_("routerLink",e.route),d(),_("ngIf",e.icon),d(),R(" ",W(3,3,e.label)," ")}}function zc(i,t){if(i&1&&(y(),l(0,"svg",36),f(1,"path"),c()),i&2){let e=h(2).$implicit;d(),Ze("d",e.icon)}}function Hc(i,t){if(i&1&&(l(0,"span",37),b(1,zc,2,1,"svg",35),p(2),$(3,"transloco"),c()),i&2){let e=h().$implicit;d(),_("ngIf",e.icon),d(),R(" ",W(3,2,e.label)," ")}}function Gc(i,t){if(i&1&&(l(0,"li"),b(1,jc,4,5,"a",32)(2,Hc,4,4,"span",33),c()),i&2){let e=t.index,n=h();U(e===n.breadcrumbs.length-1?"text-primary font-semibold":""),d(),_("ngIf",e<n.breadcrumbs.length-1),d(),_("ngIf",e===n.breadcrumbs.length-1)}}var ho=(()=>{class i{router;languageService=Z(In);languages=this.languageService.languagesList;onChange(e){this.languageService.changeLanguage(e)}breadcrumbs=[{label:"COMMON.HOME",route:"/dashboard",icon:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"}];constructor(e){this.router=e,this.router.events.pipe(Li(n=>n instanceof fs)).subscribe(n=>{this.updateBreadcrumbs(n.url)})}updateBreadcrumbs(e){this.breadcrumbs=[{label:"COMMON.HOME",route:"/dashboard",icon:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"}],e==="/AnaliseRemuneracao"&&this.breadcrumbs.push({label:"REPORTS.PROFESSIONAL_COMPENSATION_ANALYSIS.BREADCRUMB",route:"/",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}static \u0275fac=function(n){return new(n||i)(Ct(_s))};static \u0275cmp=ne({type:i,selectors:[["wcm-root"]],decls:54,vars:25,consts:[[1,"navbar","bg-base-100","shadow-lg","px-4","sticky","top-0","z-50"],[1,"navbar-start","gap-3","cursor-pointer"],["src","WebCareManager_square.svg","alt","WebCareManager","routerLink","/dashboard",1,"h-10","w-10","flex-shrink-0"],["routerLink","/dashboard",1,"logo_text","main-logo"],[1,"text-xl","font-bold","text-primary"],[1,"navbar-end"],[3,"appAccessible"],[1,"dropdown","dropdown-end","hover:bg-gray-100","rounded-full"],["tabindex","0","role","button",1,"btn","btn-ghost","btn-circle",3,"appAccessible"],[1,"w-8","h-8","rounded-full","overflow-hidden"],["src","https://i.pravatar.cc/150?img=2",1,"w-full","h-full","object-cover"],["tabindex","0",1,"dropdown-content","menu","z-10","w-58","rounded-box","bg-base-100","p-2","shadow-sm"],["disabled","",1,"opacity-50","cursor-not-allowed",3,"appAccessible"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","d","M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"],["stroke-linecap","round","stroke-linejoin","round","d","M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"],[1,"p-2"],[3,"appAccessible","class"],[1,"divider","m-0","p-0"],["disabled","",1,"w-full","btn","btn-error","btn-sm","flex","items-center","justify-center","gap-2","hover:btn-error-focus","transition-colors","duration-200",3,"appAccessible"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"],[1,"bg-base-200","px-4","py-2"],[1,"breadcrumbs","text-sm"],[3,"class",4,"ngFor","ngForOf"],[1,"min-h-[calc(100vh-160px)]","bg-base-100"],[1,"c1ontainer","mx-auto","p-4"],[1,"footer","footer-center","p-2","bg-base-300","text-base-content","border-t"],[1,"text-sm"],[3,"click","appAccessible"],[1,"w-5",3,"src"],["class","flex items-center gap-1 hover:text-primary transition-colors",3,"routerLink",4,"ngIf"],["class","flex items-center gap-1",4,"ngIf"],[1,"flex","items-center","gap-1","hover:text-primary","transition-colors",3,"routerLink"],["class","w-4 h-4","fill","currentColor","viewBox","0 0 20 20",4,"ngIf"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4"],[1,"flex","items-center","gap-1"]],template:function(n,s){n&1&&(l(0,"header",0)(1,"div",1),f(2,"img",2),l(3,"div",3)(4,"h1",4),p(5,"WebCareManager"),c()()(),l(6,"div",5),f(7,"app-theme-toggle",6),$(8,"transloco"),l(9,"div",7)(10,"div",8),$(11,"transloco"),l(12,"div",9),f(13,"img",10),c()(),l(14,"ul",11)(15,"li")(16,"a",12),$(17,"transloco"),y(),l(18,"svg",13),f(19,"path",14)(20,"path",15),c(),p(21),$(22,"transloco"),c()(),N(),l(23,"li")(24,"details")(25,"summary",6),$(26,"transloco"),y(),l(27,"svg",13),f(28,"path",16),c(),p(29),$(30,"transloco"),c(),N(),l(31,"ul",17),Re(32,qc,6,9,"li",18,Bc),c()()(),f(34,"div",19),l(35,"li")(36,"button",20),$(37,"transloco"),y(),l(38,"svg",21),f(39,"path",22),c(),N(),l(40,"span"),p(41),$(42,"transloco"),c()()()()()()(),l(43,"div",23)(44,"div",24)(45,"ul"),b(46,Gc,3,4,"li",25),c()()(),l(47,"main",26)(48,"div",27),f(49,"router-outlet"),c()(),l(50,"footer",28)(51,"aside")(52,"p",29),p(53,"\xA9 2025 WebCareManager"),c()()()),n&2&&(d(7),_("appAccessible",W(8,9,"HEADER.THEME.LABEL")),d(3),_("appAccessible",W(11,11,"HEADER.MENU_USER")),d(6),_("appAccessible",W(17,13,"HEADER.SETTINGS")),d(5),R(" ",W(22,15,"HEADER.SETTINGS")," "),d(4),_("appAccessible",W(26,17,"HEADER.LANGUAGE")),d(4),R(" ",W(30,19,"HEADER.LANGUAGE")," "),d(3),De(s.languages),d(4),_("appAccessible",W(37,21,"COMMON.LOGOUT")),d(5),B(W(42,23,"COMMON.LOGOUT")),d(5),_("ngForOf",s.breadcrumbs))},dependencies:[ce,Be,Me,gs,Kt,mt,dt,Jt,po],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:90vh}"]})}return i})();Es();ls(ho,uo).catch(i=>console.error(i));
