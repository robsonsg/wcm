import{b as K,c as W,f as X,i as Z,o as ee,p as te,q as ie,t as oe}from"./chunk-OVH4RFKH.js";import{k as N,l as H,m as U,n as J,w as j}from"./chunk-HOG6MQQB.js";import{Ab as R,Bb as w,Ca as T,Db as S,Dc as $,Fb as k,Kb as o,Lb as n,Mb as h,Qb as D,Rc as C,Sc as B,Vb as _,Wb as m,a as y,ab as r,ac as z,b as V,bc as Q,cc as Y,fc as L,gc as s,hc as b,ic as f,jc as I,lb as A,na as G,oa as v,pa as g,qa as E,ra as M,rb as x,xa as O,yb as q,zb as c}from"./chunk-5HUFPCHR.js";var re=["scrollContainer"];function se(a,p){a&1&&(o(0,"div",67)(1,"div",68),h(2,"span",69),o(3,"span",70),s(4,"Aplicando filtros cascata..."),n()()())}function le(a,p){if(a&1&&(o(0,"span"),s(1),n()),a&2){let e,t=m();r(),f("",(e=t.infoVisaoAtual())==null?null:e.codigo," - ")}}function de(a,p){a&1&&(o(0,"span",74),s(1,"\u2022"),n())}function ce(a,p){if(a&1&&(o(0,"span"),s(1),n()),a&2){let e,t=m(2);r(),b((e=t.infoVisaoAtual())==null?null:e.descricaoTerciaria)}}function pe(a,p){if(a&1&&(o(0,"div",71)(1,"span",72),s(2),n(),x(3,de,2,0,"span",73)(4,ce,2,1,"span",7),n()),a&2){let e,t,i,l=m();r(2),b((e=l.infoVisaoAtual())==null?null:e.descricaoSecundaria),r(),c("ngIf",(t=l.infoVisaoAtual())==null?null:t.descricaoTerciaria),r(),c("ngIf",(i=l.infoVisaoAtual())==null?null:i.descricaoTerciaria)}}function me(a,p){if(a&1&&(o(0,"div",71)(1,"span",72),s(2),n()()),a&2){let e,t=m();r(2),b((e=t.infoVisaoAtual())==null?null:e.descricaoSecundaria)}}function fe(a,p){a&1&&(o(0,"div",75),s(1," Inteligente "),n())}function ue(a,p){if(a&1&&(o(0,"option",80),s(1),n()),a&2){let e=p.$implicit;c("value",e.valor),r(),I(" ",e.valor," (",e.contador,") ")}}function ve(a,p){if(a&1){let e=D();o(0,"div",28)(1,"label",29)(2,"span",30),s(3," Profissional "),o(4,"div",31),s(5),n(),o(6,"div",76),s(7),n()()(),o(8,"select",77),_("ngModelChange",function(i){v(e);let l=m();return g(l.onFiltroChange("profissional",i))}),o(9,"option",78),s(10,"Todos os profissionais"),n(),x(11,ue,2,3,"option",79),n()()}if(a&2){let e=m();r(4),S(e.filtros().profissional?"badge-success":"badge-ghost"),r(),f(" ",e.filtros().profissional?"\u2713":"\u25CB"," "),r(2),b(e.opcoesProfissionaisDisponiveis().length),r(),w("select-success",e.filtros().profissional),c("ngModel",e.filtrosTemporarios.profissional)("disabled",e.opcoesProfissionaisDisponiveis().length===0),r(3),c("ngForOf",e.opcoesProfissionaisDisponiveis())("ngForTrackBy",e.trackByOpcao)}}function ge(a,p){if(a&1&&(o(0,"option",80),s(1),n()),a&2){let e=p.$implicit;c("value",e.valor),r(),I(" ",e.valor," (",e.contador,") ")}}function _e(a,p){if(a&1){let e=D();o(0,"div",28)(1,"label",29)(2,"span",30),s(3," Profiss\xE3o "),o(4,"div",31),s(5),n(),o(6,"div",76),s(7),n()()(),o(8,"select",77),_("ngModelChange",function(i){v(e);let l=m();return g(l.onFiltroChange("profissao",i))}),o(9,"option",78),s(10,"Todas as profiss\xF5es"),n(),x(11,ge,2,3,"option",79),n()()}if(a&2){let e=m();r(4),S(e.filtros().profissao?"badge-success":"badge-ghost"),r(),f(" ",e.filtros().profissao?"\u2713":"\u25CB"," "),r(2),b(e.opcoesProfissoesDisponiveis().length),r(),w("select-success",e.filtros().profissao),c("ngModel",e.filtrosTemporarios.profissao)("disabled",e.opcoesProfissoesDisponiveis().length===0),r(3),c("ngForOf",e.opcoesProfissoesDisponiveis())("ngForTrackBy",e.trackByOpcao)}}function xe(a,p){if(a&1&&(o(0,"option",80),s(1),n()),a&2){let e=p.$implicit;c("value",e.valor),r(),I(" ",e.valor," (",e.contador,") ")}}function he(a,p){if(a&1){let e=D();o(0,"div",28)(1,"label",29)(2,"span",30),s(3," Cooperativa "),o(4,"div",31),s(5),n(),o(6,"div",76),s(7),n()()(),o(8,"select",77),_("ngModelChange",function(i){v(e);let l=m();return g(l.onFiltroChange("cooperativa",i))}),o(9,"option",78),s(10,"Todas as cooperativas"),n(),x(11,xe,2,3,"option",79),n()()}if(a&2){let e=m();r(4),S(e.filtros().cooperativa?"badge-success":"badge-ghost"),r(),f(" ",e.filtros().cooperativa?"\u2713":"\u25CB"," "),r(2),b(e.opcoesCooperativasDisponiveis().length),r(),w("select-success",e.filtros().cooperativa),c("ngModel",e.filtrosTemporarios.cooperativa)("disabled",e.opcoesCooperativasDisponiveis().length===0),r(3),c("ngForOf",e.opcoesCooperativasDisponiveis())("ngForTrackBy",e.trackByOpcao)}}function be(a,p){if(a&1&&(o(0,"option",80),s(1),n()),a&2){let e=p.$implicit;c("value",e.valor),r(),I(" ",e.valor," (",e.contador,") ")}}function Ce(a,p){if(a&1){let e=D();o(0,"div",28)(1,"label",29)(2,"span",30),s(3," Paciente "),o(4,"div",31),s(5),n(),o(6,"div",76),s(7),n()()(),o(8,"select",77),_("ngModelChange",function(i){v(e);let l=m();return g(l.onFiltroChange("paciente",i))}),o(9,"option",78),s(10,"Todos os pacientes"),n(),x(11,be,2,3,"option",79),n()()}if(a&2){let e=m();r(4),S(e.filtros().paciente?"badge-success":"badge-ghost"),r(),f(" ",e.filtros().paciente?"\u2713":"\u25CB"," "),r(2),b(e.opcoesPacientesDisponiveis().length),r(),w("select-success",e.filtros().paciente),c("ngModel",e.filtrosTemporarios.paciente)("disabled",e.opcoesPacientesDisponiveis().length===0),r(3),c("ngForOf",e.opcoesPacientesDisponiveis())("ngForTrackBy",e.trackByOpcao)}}function De(a,p){if(a&1&&(o(0,"option",80),s(1),n()),a&2){let e=p.$implicit;c("value",e.valor),r(),I(" ",e.valor," (",e.contador,") ")}}function Ee(a,p){if(a&1){let e=D();o(0,"div",28)(1,"label",29)(2,"span",30),s(3," Conv\xEAnio "),o(4,"div",31),s(5),n(),o(6,"div",76),s(7),n()()(),o(8,"select",77),_("ngModelChange",function(i){v(e);let l=m();return g(l.onFiltroChange("convenio",i))}),o(9,"option",78),s(10,"Todos os conv\xEAnios"),n(),x(11,De,2,3,"option",79),n()()}if(a&2){let e=m();r(4),S(e.filtros().convenio?"badge-success":"badge-ghost"),r(),f(" ",e.filtros().convenio?"\u2713":"\u25CB"," "),r(2),b(e.opcoesConveniosDisponiveis().length),r(),w("select-success",e.filtros().convenio),c("ngModel",e.filtrosTemporarios.convenio)("disabled",e.opcoesConveniosDisponiveis().length===0),r(3),c("ngForOf",e.opcoesConveniosDisponiveis())("ngForTrackBy",e.trackByOpcao)}}function Me(a,p){if(a&1){let e=D();o(0,"div",85),s(1),o(2,"button",86),_("click",function(){v(e);let i=m(2);return g(i.removerFiltro("dataInicio"))}),s(3,"\xD7"),n()()}if(a&2){let e=m(2);r(),f(" Data in\xEDcio: ",e.formatarDataBrasil(e.filtros().dataInicio)," ")}}function Se(a,p){if(a&1){let e=D();o(0,"div",85),s(1),o(2,"button",86),_("click",function(){v(e);let i=m(2);return g(i.removerFiltro("dataFim"))}),s(3,"\xD7"),n()()}if(a&2){let e=m(2);r(),f(" Data fim: ",e.formatarDataBrasil(e.filtros().dataFim)," ")}}function we(a,p){if(a&1){let e=D();o(0,"div",87),s(1),o(2,"button",86),_("click",function(){v(e);let i=m(2);return g(i.removerFiltro("tipoAtendimento"))}),s(3,"\xD7"),n()()}if(a&2){let e=m(2);r(),f(" ",e.filtros().tipoAtendimento==="escala"?"Escala":"Freq.Multi"," ")}}function Te(a,p){if(a&1){let e=D();o(0,"div",88),s(1),o(2,"button",86),_("click",function(){v(e);let i=m(2);return g(i.removerFiltro("profissional"))}),s(3,"\xD7"),n()()}if(a&2){let e=m(2);r(),f(" Profissional: ",e.filtros().profissional," ")}}function Ie(a,p){if(a&1){let e=D();o(0,"div",88),s(1),o(2,"button",86),_("click",function(){v(e);let i=m(2);return g(i.removerFiltro("profissao"))}),s(3,"\xD7"),n()()}if(a&2){let e=m(2);r(),f(" Profiss\xE3o: ",e.filtros().profissao," ")}}function Fe(a,p){if(a&1){let e=D();o(0,"div",88),s(1),o(2,"button",86),_("click",function(){v(e);let i=m(2);return g(i.removerFiltro("cooperativa"))}),s(3,"\xD7"),n()()}if(a&2){let e=m(2);r(),f(" Cooperativa: ",e.filtros().cooperativa," ")}}function ye(a,p){if(a&1){let e=D();o(0,"div",88),s(1),o(2,"button",86),_("click",function(){v(e);let i=m(2);return g(i.removerFiltro("paciente"))}),s(3,"\xD7"),n()()}if(a&2){let e=m(2);r(),f(" Paciente: ",e.filtros().paciente," ")}}function Ve(a,p){if(a&1){let e=D();o(0,"div",88),s(1),o(2,"button",86),_("click",function(){v(e);let i=m(2);return g(i.removerFiltro("convenio"))}),s(3,"\xD7"),n()()}if(a&2){let e=m(2);r(),f(" Conv\xEAnio: ",e.filtros().convenio," ")}}function ke(a,p){if(a&1&&(o(0,"div",81),x(1,Me,4,1,"div",82)(2,Se,4,1,"div",82)(3,we,4,1,"div",83)(4,Te,4,1,"div",84)(5,Ie,4,1,"div",84)(6,Fe,4,1,"div",84)(7,ye,4,1,"div",84)(8,Ve,4,1,"div",84),n()),a&2){let e=m();r(),c("ngIf",e.filtros().dataInicio),r(),c("ngIf",e.filtros().dataFim),r(),c("ngIf",e.filtros().tipoAtendimento!=="todos"),r(),c("ngIf",e.filtros().profissional),r(),c("ngIf",e.filtros().profissao),r(),c("ngIf",e.filtros().cooperativa),r(),c("ngIf",e.filtros().paciente),r(),c("ngIf",e.filtros().convenio)}}function Pe(a,p){if(a&1&&(o(0,"div")(1,"span",98),s(2,"Sa\xEDda:"),n(),h(3,"br"),s(4),n(),o(5,"div")(6,"span",98),s(7,"Total Horas (pagas):"),n(),h(8,"br"),o(9,"span",102),s(10),n()(),o(11,"div")(12,"span",98),s(13,"Qtd Horas (contratada):"),n(),h(14,"br"),o(15,"span",102),s(16),n()()),a&2){let e=m().$implicit,t=m();r(4),I(" ",t.formatarDataSegura(e.dtSaida)," ",e.hrSaida," "),r(6),b(e.totalHoras),r(6),b(e.prodQtdHora+":00h"||"-")}}function Oe(a,p){if(a&1&&(o(0,"div",89)(1,"div",90)(2,"div",91)(3,"div",92)(4,"h4",93),s(5),n(),o(6,"p",94),s(7),n()(),o(8,"div",95)(9,"div",96),s(10),n(),o(11,"div",16),s(12),n()()(),o(13,"div",97)(14,"div")(15,"span",98),s(16),n(),h(17,"br"),s(18),n(),x(19,Pe,17,4),n(),o(20,"div",99)(21,"span",100),s(22,"Procedimento:"),n(),o(23,"span",101),s(24),n()()()()),a&2){let e=p.$implicit,t=p.index,i=m();q("data-index",i.indiceInicio()+t),r(5),f(" ",e.pacienteNome," "),r(2),f(" ",e.convenioDescricao," "),r(3),f(" ",i.formatarMoeda(i.obterValorPago(e))," "),r(),S(i.obterTipoAtendimento(e)==="escala"?"badge-primary":"badge-secondary"),r(),f(" ",i.obterTipoAtendimento(e)==="escala"?"Escala":"Freq.Multi"," "),r(4),b(i.obterTipoAtendimento(e)==="escala"?"Entrada":"Data do Atendimento:"),r(2),I(" ",i.formatarDataSegura(e.dtEntrada)," ",e.hrEntrada," "),r(),k(i.obterTipoAtendimento(e)==="escala"?19:-1),r(5),b(i.formatarProcedimento(e))}}function Ae(a,p){if(a&1){let e=D();o(0,"div",103)(1,"div",104),E(),o(2,"svg",105),h(3,"path",106),n(),M(),o(4,"p"),s(5,"Nenhum registro encontrado com os filtros cascata aplicados"),n(),o(6,"button",107),_("click",function(){v(e);let i=m();return g(i.resetarFiltrosCascata())}),s(7," Resetar Filtros "),n()()()}}var rt=(()=>{class a{isOpen=!1;detalhes=null;incluirAjudaCusto=!1;tipoVisaoAtual="profissional";dadosVisao=null;closeModal=new O;scrollContainer;Math=Math;tituloVisao=C(()=>({profissional:"Profissional",profissao:"Profiss\xE3o",convenio:"Conv\xEAnio",paciente:"Paciente",cooperativa:"Cooperativa"})[this.tipoVisaoAtual]||"Detalhes");dadosOriginais=T([]);filtros=T({dataInicio:"",dataFim:"",paciente:"",convenio:"",profissional:"",profissao:"",cooperativa:"",tipoAtendimento:"todos"});trackByOpcao(e,t){return t.valor}formatarDataBrasil(e){return e?new Date(e).toLocaleDateString("pt-BR"):""}opcoesCooperativasDisponiveis=C(()=>{if(!this.modoFiltroInteligente())return this.criarOpcoesFiltroComposto(this.dadosOriginais(),"cooperativaCodigo","cooperativaDescricao");let e=this.dadosBaseFiltro(),t=this.filtros(),i=e.filter(l=>(!t.paciente||l.pacienteNome===t.paciente)&&(!t.convenio||l.convenioDescricao===t.convenio)&&(!t.profissional||l.profissionalNome===t.profissional)&&(!t.profissao||l.profissaoDescricao===t.profissao));return this.criarOpcoesFiltroComposto(i,"cooperativaCodigo","cooperativaDescricao")});ordenacao=T({campo:"dtEntrada",direcao:"desc"});dadosVisiveis=C(()=>{let e=this.dadosFiltrados(),t=this.indiceInicio(),i=this.indiceFim();return e.slice(t,i)});modoFiltroInteligente=T(!0);processandoFiltros=T(!1);paginaAtual=T(1);alturaItem=140;scrollTop=T(0);containerHeight=T(600);bufferItens=C(()=>{let e=this.totalRegistrosFiltrados();return e>2e3?10:e>1e3?15:20});indiceInicio=C(()=>{let e=this.scrollTop(),t=this.containerHeight(),i=this.bufferItens();return Math.max(0,Math.floor(e/this.alturaItem)-i)});indiceFim=C(()=>{let e=this.scrollTop(),t=this.containerHeight(),i=this.bufferItens(),l=Math.ceil(t/this.alturaItem);return Math.min(this.totalRegistrosFiltrados(),this.indiceInicio()+l+i*2)});formatarMoeda(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e||0)}trackByItem(e,t){return`${t.profissionalCodigo}-${t.pacienteCodigo}-${t.dtEntrada}-${e}`}onScroll(e){let i=e.target.scrollTop;this.scrollTop.set(i)}get alturaTotal(){return this.totalRegistrosFiltrados()*this.alturaItem}get offsetTop(){return this.indiceInicio()*this.alturaItem}calcularPercentualFiltrado(){let e=this.dadosOriginais().length,t=this.totalRegistrosFiltrados();return e>0?Math.round(t/e*100):0}onFiltroChange(e,t){this.aplicarFiltroComDebounce(e,t)}onModoFiltroChange(e){this.modoFiltroInteligente.set(e),this.aplicarFiltroComDebounce()}onOrdenacaoChange(e,t){this.ordenacao.update(i=>V(y({},i),{[e]:t})),this.paginaAtual.set(1),this.scrollTop.set(0)}aplicarFiltroComDebounce(e,t){this.debounceTimer&&clearTimeout(this.debounceTimer),this.processandoFiltros.set(!0),this.debounceTimer=setTimeout(()=>{e&&t!==void 0&&(this.filtrosTemporarios[e]=t,this.filtros.update(i=>V(y({},i),{[e]:t}))),this.validarFiltrosInteligentes(),this.processandoFiltros.set(!1)},300)}validarFiltrosInteligentes(){if(!this.modoFiltroInteligente())return;let e=this.filtros(),t={pacientes:this.opcoesPacientesDisponiveis().map(d=>d.valor),convenios:this.opcoesConveniosDisponiveis().map(d=>d.valor),profissionais:this.opcoesProfissionaisDisponiveis().map(d=>d.valor),profissoes:this.opcoesProfissoesDisponiveis().map(d=>d.valor),cooperativas:this.opcoesCooperativasDisponiveis().map(d=>d.valor)},i=y({},e),l=!1;e.paciente&&!t.pacientes.includes(e.paciente)&&(i.paciente="",this.filtrosTemporarios.paciente="",l=!0),e.convenio&&!t.convenios.includes(e.convenio)&&(i.convenio="",this.filtrosTemporarios.convenio="",l=!0),e.profissional&&!t.profissionais.includes(e.profissional)&&(i.profissional="",this.filtrosTemporarios.profissional="",l=!0),e.profissao&&!t.profissoes.includes(e.profissao)&&(i.profissao="",this.filtrosTemporarios.profissao="",l=!0),e.cooperativa&&!t.cooperativas.includes(e.cooperativa)&&(i.cooperativa="",this.filtrosTemporarios.cooperativa="",l=!0),l&&this.filtros.set(i)}criarOpcoesFiltro(e,t){let i=new Map;return e.forEach(l=>{let d=l[t];d&&d.trim()&&i.set(d,(i.get(d)||0)+1)}),Array.from(i.entries()).map(([l,d])=>({valor:l,contador:d})).sort((l,d)=>l.valor.localeCompare(d.valor,"pt-BR"))}criarOpcoesFiltroComposto(e,t,i){let l=new Map;return e.forEach(d=>{let u=d[t],F=d[i];if(u&&F){let P=`${u} - ${F}`;l.set(P,(l.get(P)||0)+1)}}),Array.from(l.entries()).map(([d,u])=>({valor:d,contador:u})).sort((d,u)=>d.valor.localeCompare(u.valor,"pt-BR"))}filtrosTemporarios={dataInicio:"",dataFim:"",paciente:"",convenio:"",profissional:"",profissao:"",cooperativa:"",tipoAtendimento:"todos"};debounceTimer=null;filtrosDisponiveis=C(()=>{let e=this.tipoVisaoAtual;return{dataInicio:!0,dataFim:!0,tipoAtendimento:!0,paciente:e!=="paciente",convenio:!(e==="convenio"||e==="paciente"),profissional:e!=="profissional",profissao:!(e==="profissao"||e==="profissional"),cooperativa:!(e==="cooperativa"||e==="profissional")}});infoVisaoAtual=C(()=>{if(this.dadosVisao)return this.dadosVisao;let e=this.dadosOriginais();if(!e||e.length===0)return null;let t=this.dadosOriginais()[0];if(!t)return null;switch(this.tipoVisaoAtual){case"profissional":return{codigo:t.profissionalCodigo,nome:t.profissionalNome,descricaoSecundaria:t.profissaoDescricao,descricaoTerciaria:t.cooperativaDescricao};case"profissao":return{codigo:t.profissaoCodigo,nome:t.profissaoDescricao};case"convenio":return{codigo:t.convenioCodigo,nome:t.convenioDescricao};case"paciente":return{codigo:t.pacienteCodigo,nome:t.pacienteNome};case"cooperativa":return{codigo:t.cooperativaCodigo,nome:t.cooperativaDescricao};default:return null}});dadosBaseFiltro=C(()=>{let e=[...this.dadosOriginais()],t=this.filtros();if(t.dataInicio){let i=new Date(t.dataInicio);e=e.filter(l=>{let d=this.parseDataBrasileira(l.dtEntrada);return d&&d>=i})}if(t.dataFim){let i=new Date(t.dataFim);i.setHours(23,59,59),e=e.filter(l=>{let d=this.parseDataBrasileira(l.dtEntrada);return d&&d<=i})}return t.tipoAtendimento!=="todos"&&(e=e.filter(i=>this.obterTipoAtendimento(i)===t.tipoAtendimento)),e});dadosFiltrados=C(()=>{let e=[...this.dadosBaseFiltro()],t=this.filtros();t.paciente&&(e=e.filter(l=>l.pacienteNome===t.paciente)),t.convenio&&(e=e.filter(l=>l.convenioDescricao===t.convenio)),t.profissional&&(e=e.filter(l=>l.profissionalNome===t.profissional)),t.profissao&&(e=e.filter(l=>l.profissaoDescricao===t.profissao)),t.cooperativa&&(e=e.filter(l=>l.cooperativaDescricao===t.cooperativa));let i=this.ordenacao();return e.sort((l,d)=>this.compararItens(l,d,i)),e});compararItens(e,t,i){let l,d;switch(i.campo){case"dtEntrada":if(l=this.parseDataBrasileira(e.dtEntrada),d=this.parseDataBrasileira(t.dtEntrada),!l||!d)return 0;break;case"pacienteNome":l=e.pacienteNome.toLowerCase(),d=t.pacienteNome.toLowerCase();break;case"convenioDescricao":l=e.convenioDescricao.toLowerCase(),d=t.convenioDescricao.toLowerCase();break;case"valorTotalPago":l=this.obterValorPago(e),d=this.obterValorPago(t);break;case"totalHoras":l=parseFloat(e.totalHoras.replace(",","."))||0,d=parseFloat(t.totalHoras.replace(",","."))||0;break;default:return 0}return l<d?i.direcao==="asc"?-1:1:l>d?i.direcao==="asc"?1:-1:0}obterValorPago(e){return this.incluirAjudaCusto?(e.valorTotalPago||0)+(e.ajudaCusto||0):e.valorTotalPago||0}opcoesPacientesDisponiveis=C(()=>{if(!this.modoFiltroInteligente())return this.criarOpcoesFiltro(this.dadosOriginais(),"pacienteNome");let e=this.dadosBaseFiltro(),t=this.filtros(),i=e.filter(l=>(!t.convenio||l.convenioDescricao===t.convenio)&&(!t.profissional||l.profissionalNome===t.profissional)&&(!t.profissao||l.profissaoDescricao===t.profissao)&&(!t.cooperativa||l.cooperativaDescricao===t.cooperativa));return this.criarOpcoesFiltro(i,"pacienteNome")});opcoesConveniosDisponiveis=C(()=>{if(!this.modoFiltroInteligente())return this.criarOpcoesFiltro(this.dadosOriginais(),"convenioDescricao");let e=this.dadosBaseFiltro(),t=this.filtros(),i=e.filter(l=>(!t.paciente||l.pacienteNome===t.paciente)&&(!t.profissional||l.profissionalNome===t.profissional)&&(!t.profissao||l.profissaoDescricao===t.profissao)&&(!t.cooperativa||l.cooperativaDescricao===t.cooperativa));return this.criarOpcoesFiltro(i,"convenioDescricao")});opcoesProfissionaisDisponiveis=C(()=>{if(!this.modoFiltroInteligente())return this.criarOpcoesFiltroComposto(this.dadosOriginais(),"profissionalCodigo","profissionalNome");let e=this.dadosBaseFiltro(),t=this.filtros(),i=e.filter(l=>(!t.paciente||l.pacienteNome===t.paciente)&&(!t.convenio||l.convenioDescricao===t.convenio)&&(!t.profissao||l.profissaoDescricao===t.profissao)&&(!t.cooperativa||l.cooperativaDescricao===t.cooperativa));return this.criarOpcoesFiltroComposto(i,"profissionalCodigo","profissionalNome")});opcoesProfissoesDisponiveis=C(()=>{if(!this.modoFiltroInteligente())return this.criarOpcoesFiltro(this.dadosOriginais(),"profissaoDescricao");let e=this.dadosBaseFiltro(),t=this.filtros(),i=e.filter(l=>(!t.paciente||l.pacienteNome===t.paciente)&&(!t.convenio||l.convenioDescricao===t.convenio)&&(!t.profissional||l.profissionalNome===t.profissional)&&(!t.cooperativa||l.cooperativaDescricao===t.cooperativa));return this.criarOpcoesFiltro(i,"profissaoDescricao")});estatisticasTipoAtendimento=C(()=>{let e=this.modoFiltroInteligente()?this.dadosBaseFiltro():this.dadosOriginais(),t=this.filtros(),i=e;this.modoFiltroInteligente()&&(i=e.filter(u=>(!t.paciente||u.pacienteNome===t.paciente)&&(!t.convenio||u.convenioDescricao===t.convenio)&&(!t.profissional||u.profissionalNome===t.profissional)&&(!t.profissao||u.profissaoDescricao===t.profissao)&&(!t.cooperativa||u.cooperativaDescricao===t.cooperativa)));let l=i.filter(u=>this.obterTipoAtendimento(u)==="escala").length,d=i.filter(u=>this.obterTipoAtendimento(u)==="freq-multi").length;return{total:i.length,escala:l,freqMulti:d}});obterTipoAtendimento(e){return e.prodQtdHora&&e.prodQtdHora.trim()!==""?"escala":"freq-multi"}formatarDataSegura(e){if(!e)return"";let t=this.parseDataBrasileira(e);return t?t.toLocaleDateString("pt-BR"):""}formatarProcedimento(e){return e.prcTabela&&e.prcCodigo&&e.prcDescricao?`${e.prcTabela} - ${e.prcCodigo} - ${e.prcDescricao}`:e.prodQtdHora?`INTERNA\xC7\xC3O ${e.prodQtdHora} HORAS`:"Procedimento n\xE3o especificado"}calcularTotalHoras(){return this.dadosFiltrados().reduce((t,i)=>{let l=parseFloat(i.totalHoras.replace(",","."))||0;return t+l},0).toFixed(2).replace(".",",")}calcularValorTotal(){return this.dadosFiltrados().reduce((e,t)=>e+this.obterValorPago(t),0)}getStatusPerformance(){let e=this.totalRegistrosFiltrados();return this.filtrosAtivos()>3?"Filtro Avan\xE7ado":e>1e3?"Dataset Grande":e>500?"Otimizado":"Perform\xE1tico"}getStatusPerformanceClass(){let e=this.totalRegistrosFiltrados();return this.filtrosAtivos()>3?"bg-secondary":e>1e3?"bg-warning":e>500?"bg-info":"bg-success"}estatisticasData=C(()=>{let t=(this.modoFiltroInteligente()?this.dadosBaseFiltro():this.dadosOriginais()).map(F=>this.parseDataBrasileira(F.dtEntrada)).filter(F=>F!==null).sort((F,P)=>F.getTime()-P.getTime());if(t.length===0)return{totalDias:0,dataMin:null,dataMax:null};let i=t[0],l=t[t.length-1],d=Math.abs(l.getTime()-i.getTime());return{totalDias:Math.ceil(d/(1e3*60*60*24))+1,dataMin:i,dataMax:l}});rangeDataDisponivel=C(()=>{let e=this.estatisticasData();return{min:e.dataMin?this.formatarDataInput(e.dataMin):"",max:e.dataMax?this.formatarDataInput(e.dataMax):""}});totalRegistrosFiltrados=C(()=>this.dadosFiltrados().length);filtrosAtivos=C(()=>{let e=this.filtros(),t=0;return e.dataInicio&&t++,e.dataFim&&t++,e.tipoAtendimento!=="todos"&&t++,e.paciente&&t++,e.convenio&&t++,e.profissional&&t++,e.profissao&&t++,e.cooperativa&&t++,t});constructor(){B(()=>{this.dadosOriginais().length>0&&this.definirDatasPadraoFiltro()}),B(()=>{this.filtros(),this.paginaAtual.set(1),this.scrollTop.set(0)}),B(()=>{if(this.scrollContainer?.nativeElement){let e=this.scrollContainer.nativeElement.clientHeight;this.containerHeight.set(e)}})}ngOnInit(){this.carregarDados()}ngOnChanges(e){(e.detalhes||e.isOpen)&&this.carregarDados()}carregarDados(){this.detalhes?.remuneracao?(this.dadosOriginais.set([...this.detalhes.remuneracao]),this.paginaAtual.set(1),this.scrollTop.set(0),this.resetarFiltrosCascata()):this.dadosOriginais.set([])}fecharModal(){this.closeModal.emit()}resetarFiltrosCascata(){this.filtrosTemporarios={dataInicio:"",dataFim:"",paciente:"",convenio:"",profissional:"",profissao:"",cooperativa:"",tipoAtendimento:"todos"},this.filtros.set({dataInicio:"",dataFim:"",paciente:"",convenio:"",profissional:"",profissao:"",cooperativa:"",tipoAtendimento:"todos"}),this.definirDatasPadraoFiltro()}definirDatasPadraoFiltro(){let e=this.dadosOriginais();if(e.length===0)return;let t=e.map(i=>this.parseDataBrasileira(i.dtEntrada)).filter(i=>i!==null).sort((i,l)=>i.getTime()-l.getTime());if(t.length>0){let i=this.formatarDataInput(t[0]),l=this.formatarDataInput(t[t.length-1]);this.filtrosTemporarios.dataInicio=i,this.filtrosTemporarios.dataFim=l,this.filtros.update(d=>V(y({},d),{dataInicio:i,dataFim:l}))}}removerFiltro(e){e==="tipoAtendimento"?(this.filtrosTemporarios[e]="todos",this.filtros.update(t=>V(y({},t),{[e]:"todos"}))):(this.filtrosTemporarios[e]="",this.filtros.update(t=>V(y({},t),{[e]:""})))}parseDataBrasileira(e){if(!e)return null;try{if(e.includes("-")){let i=new Date(e);return isNaN(i.getTime())?null:i}let t=e.split("/");if(t.length===3){let i=parseInt(t[0],10),l=parseInt(t[1],10)-1,d=parseInt(t[2],10),u=new Date(d,l,i);return isNaN(u.getTime())?null:u}}catch{return null}return null}formatarDataInput(e){return e.toISOString().split("T")[0]}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=A({type:a,selectors:[["app-modal-detalhes-profissional"]],viewQuery:function(t,i){if(t&1&&z(re,5),t&2){let l;Q(l=Y())&&(i.scrollContainer=l.first)}},inputs:{isOpen:"isOpen",detalhes:"detalhes",incluirAjudaCusto:"incluirAjudaCusto",tipoVisaoAtual:"tipoVisaoAtual",dadosVisao:"dadosVisao"},outputs:{closeModal:"closeModal"},features:[G],decls:142,vars:67,consts:[["scrollContainer",""],[1,"modal"],[1,"modal-box","w-11/12","max-w-7xl","h-5/6","max-h-screen","overflow-hidden","flex","flex-col"],["class","absolute inset-0 bg-base-100/80 z-50 flex items-center justify-center",4,"ngIf"],[1,"flex-shrink-0","border-b","border-base-300","pb-4","mb-4"],[1,"flex","justify-between","items-start","mb-3"],[1,"font-bold","text-lg","text-primary"],[4,"ngIf"],["class","text-sm text-base-content/70 mt-1",4,"ngIf"],[1,"btn","btn-sm","btn-circle","btn-ghost",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"collapse","collapse-arrow","bg-base-200"],["type","checkbox",1,"peer"],[1,"collapse-title","text-xl","font-bold","flex","items-center","gap-3"],[1,"flex","gap-1"],[1,"badge","badge-sm"],["class","badge badge-sm badge-info",4,"ngIf"],[1,"collapse-content"],[1,"flex","justify-between","items-center","mb-4","p-3","bg-base-100","rounded-lg"],[1,"label","cursor-pointer"],[1,"label-text","mr-3"],["type","checkbox",1,"toggle","toggle-primary","toggle-sm",3,"ngModelChange","ngModel"],[1,"text-xs","text-base-content/60","mt-1"],[1,"btn","btn-sm","btn-outline","btn-warning",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4","mb-4"],[1,"form-control"],[1,"label"],[1,"label-text","text-xs","flex","items-center","gap-1"],[1,"badge","badge-xs"],["type","date",1,"input","input-bordered","input-sm",3,"ngModelChange","ngModel","min","max"],[1,"label-text-alt"],[1,"select","select-bordered","select-sm",3,"ngModelChange","ngModel"],["value","todos"],["value","escala"],["value","freq-multi"],[1,"grid","grid-cols-2","gap-2","px-2","bg-base-300","rounded-lg"],[1,"label-text","text-xs"],["value","dtEntrada"],["value","pacienteNome"],["value","convenioDescricao"],["value","valorTotalPago"],["value","totalHoras"],["value","desc"],["value","asc"],["class","form-control",4,"ngIf"],["class","flex flex-wrap gap-2 mb-4",4,"ngIf"],[1,"flex","justify-between","items-center","text-xs","text-base-content/60","mt-2"],[1,"flex-1","overflow-y-auto",3,"scroll"],[1,"space-y-3"],["class","card bg-base-100 shadow-sm border-2 border-base-200 transition-all duration-200 hover:shadow-md",4,"ngFor","ngForOf","ngForTrackBy"],["class","text-center py-8",4,"ngIf"],[1,"flex-shrink-0","border-t","border-base-300","pt-4","mt-4"],[1,"stats","stats-horizontal","w-full","bg-base-200"],[1,"stat","px-4","py-2"],[1,"stat-title","text-xs"],[1,"stat-value","text-lg"],[1,"stat-desc"],[1,"stat-value","text-lg","font-mono"],[1,"stat-value","text-lg","text-error"],[1,"stat-value","text-sm"],[1,"flex","items-center","gap-1"],[1,"w-2","h-2","rounded-full"],[1,"text-xs"],[1,"modal-backdrop",3,"click"],[1,"absolute","inset-0","bg-base-100/80","z-50","flex","items-center","justify-center"],[1,"flex","items-center","gap-2"],[1,"loading","loading-spinner","loading-sm"],[1,"text-sm"],[1,"text-sm","text-base-content/70","mt-1"],[1,"font-medium"],["class","mx-2",4,"ngIf"],[1,"mx-2"],[1,"badge","badge-sm","badge-info"],[1,"badge","badge-xs","badge-info"],[1,"select","select-bordered","select-sm",3,"ngModelChange","ngModel","disabled"],["value",""],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[3,"value"],[1,"flex","flex-wrap","gap-2","mb-4"],["class","badge badge-primary badge-sm",4,"ngIf"],["class","badge badge-secondary badge-sm",4,"ngIf"],["class","badge badge-accent badge-sm",4,"ngIf"],[1,"badge","badge-primary","badge-sm"],[1,"ml-1","hover:text-error",3,"click"],[1,"badge","badge-secondary","badge-sm"],[1,"badge","badge-accent","badge-sm"],[1,"card","bg-base-100","shadow-sm","border-2","border-base-200","transition-all","duration-200","hover:shadow-md"],[1,"card-body","p-4"],[1,"flex","flex-wrap","items-center","justify-between","gap-2","mb-2"],[1,"flex-1","min-w-0"],[1,"font-semibold","text-sm","truncate"],[1,"text-xs","text-base-content/70"],[1,"text-right"],[1,"font-bold","text-lg","text-error"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-2","text-xs"],[1,"font-medium","text-base-content/60"],[1,"mt-3","p-2","bg-base-200","rounded","text-xs"],[1,"font-medium","text-base-content/80"],[1,"ml-2"],[1,"font-mono"],[1,"text-center","py-8"],[1,"text-base-content/50"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-12","w-12","mx-auto","mb-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"btn","btn-sm","btn-outline","mt-2",3,"click"]],template:function(t,i){if(t&1){let l=D();o(0,"div",1)(1,"div",2),x(2,se,5,0,"div",3),o(3,"div",4)(4,"div",5)(5,"div")(6,"h3",6),s(7),x(8,le,2,1,"span",7),s(9),n(),x(10,pe,5,3,"div",8)(11,me,3,1,"div",8),n(),o(12,"button",9),_("click",function(){return v(l),g(i.fecharModal())}),E(),o(13,"svg",10),h(14,"path",11),n()()(),M(),o(15,"div",12),h(16,"input",13),o(17,"div",14)(18,"span"),s(19,"Filtros Cascata"),n(),o(20,"div",15)(21,"div",16),s(22),n(),x(23,fe,2,0,"div",17),n()(),o(24,"div",18)(25,"div",19)(26,"div")(27,"label",20)(28,"span",21),s(29,"Modo Filtro Inteligente"),n(),o(30,"input",22),_("ngModelChange",function(u){return v(l),g(i.onModoFiltroChange(u))}),n()(),o(31,"div",23),s(32),n()(),o(33,"button",24),_("click",function(){return v(l),g(i.resetarFiltrosCascata())}),E(),o(34,"svg",25),h(35,"path",26),n(),s(36," Resetar Filtros "),n()(),M(),o(37,"div",27)(38,"div",28)(39,"label",29)(40,"span",30),s(41," Data In\xEDcio "),o(42,"div",31),s(43),n()()(),o(44,"input",32),_("ngModelChange",function(u){return v(l),g(i.onFiltroChange("dataInicio",u))}),n(),o(45,"label",29)(46,"span",33),s(47),n()()(),o(48,"div",28)(49,"label",29)(50,"span",30),s(51," Data Fim "),o(52,"div",31),s(53),n()()(),o(54,"input",32),_("ngModelChange",function(u){return v(l),g(i.onFiltroChange("dataFim",u))}),n()(),o(55,"div",28)(56,"label",29)(57,"span",30),s(58," Tipo Atendimento "),o(59,"div",31),s(60),n()()(),o(61,"select",34),_("ngModelChange",function(u){return v(l),g(i.onFiltroChange("tipoAtendimento",u))}),o(62,"option",35),s(63),n(),o(64,"option",36),s(65),n(),o(66,"option",37),s(67),n()()(),o(68,"div",38)(69,"div",28)(70,"label",29)(71,"span",39),s(72,"Ordenar por"),n()(),o(73,"select",34),_("ngModelChange",function(u){return v(l),g(i.onOrdenacaoChange("campo",u))}),o(74,"option",40),s(75,"Data de Entrada"),n(),o(76,"option",41),s(77,"Nome do Paciente"),n(),o(78,"option",42),s(79,"Conv\xEAnio"),n(),o(80,"option",43),s(81,"Valor Pago"),n(),o(82,"option",44),s(83,"Total de Horas"),n()()(),o(84,"div",28)(85,"label",29)(86,"span",39),s(87,"Dire\xE7\xE3o (ordem)"),n()(),o(88,"select",34),_("ngModelChange",function(u){return v(l),g(i.onOrdenacaoChange("direcao",u))}),o(89,"option",45),s(90,"Decrescente"),n(),o(91,"option",46),s(92,"Crescente"),n()()()(),x(93,ve,12,10,"div",47)(94,_e,12,10,"div",47)(95,he,12,10,"div",47)(96,Ce,12,10,"div",47)(97,Ee,12,10,"div",47),n(),x(98,ke,9,8,"div",48),n()(),o(99,"div",49)(100,"span"),s(101),n()()(),o(102,"div",50,0),_("scroll",function(u){return v(l),g(i.onScroll(u))}),o(104,"div",51)(105,"div"),x(106,Oe,25,12,"div",52),n(),x(107,Ae,8,0,"div",53),n()(),o(108,"div",54)(109,"div",55)(110,"div",56)(111,"div",57),s(112,"Registros"),n(),o(113,"div",58),s(114),n(),o(115,"div",59),s(116),n()(),o(117,"div",56)(118,"div",57),s(119,"Total Horas"),n(),o(120,"div",60),s(121),n(),o(122,"div",59),s(123,"filtradas"),n()(),o(124,"div",56)(125,"div",57),s(126,"Valor Total de Pagamentos"),n(),o(127,"div",61),s(128),n(),o(129,"div",59),s(130,"com filtros"),n()(),o(131,"div",56)(132,"div",57),s(133,"Performance (Velocidade da tela)"),n(),o(134,"div",62)(135,"div",63),h(136,"div",64),o(137,"span",65),s(138),n()()(),o(139,"div",59),s(140),n()()()()(),o(141,"div",66),_("click",function(){return v(l),g(i.fecharModal())}),n()()}if(t&2){let l,d,u;w("modal-open",i.isOpen),r(2),c("ngIf",i.processandoFiltros()),r(5),f(" ",i.tituloVisao(),": "),r(),c("ngIf",(l=i.infoVisaoAtual())==null?null:l.codigo),r(),f("",(d=i.infoVisaoAtual())==null?null:d.nome," "),r(),c("ngIf",i.tipoVisaoAtual==="profissional"),r(),c("ngIf",i.tipoVisaoAtual!=="profissional"&&((u=i.infoVisaoAtual())==null?null:u.descricaoSecundaria)),r(10),S(i.filtrosAtivos()>0?"badge-primary":"badge-ghost"),r(),f(" ",i.filtrosAtivos()," ativos "),r(),c("ngIf",i.modoFiltroInteligente()),r(7),c("ngModel",i.modoFiltroInteligente()),r(2),f(" ",i.modoFiltroInteligente()?"Filtros se ajustam automaticamente":"Filtros independentes"," "),r(10),S(i.filtros().dataInicio?"badge-success":"badge-ghost"),r(),f(" ",i.filtros().dataInicio?"\u2713":"\u25CB"," "),r(),w("input-success",i.filtros().dataInicio),c("ngModel",i.filtrosTemporarios.dataInicio)("min",i.rangeDataDisponivel().min)("max",i.rangeDataDisponivel().max),r(3),f("",i.estatisticasData().totalDias," dias dispon\xEDveis"),r(5),S(i.filtros().dataFim?"badge-success":"badge-ghost"),r(),f(" ",i.filtros().dataFim?"\u2713":"\u25CB"," "),r(),w("input-success",i.filtros().dataFim),c("ngModel",i.filtrosTemporarios.dataFim)("min",i.filtrosTemporarios.dataInicio||i.rangeDataDisponivel().min)("max",i.rangeDataDisponivel().max),r(5),S(i.filtros().tipoAtendimento!=="todos"?"badge-success":"badge-ghost"),r(),f(" ",i.filtros().tipoAtendimento!=="todos"?"\u2713":"\u25CB"," "),r(),w("select-success",i.filtros().tipoAtendimento!=="todos"),c("ngModel",i.filtrosTemporarios.tipoAtendimento),r(2),f("Todos (",i.estatisticasTipoAtendimento().total,")"),r(2),f("Escala (",i.estatisticasTipoAtendimento().escala,")"),r(2),f("Frequ\xEAncia Multi (",i.estatisticasTipoAtendimento().freqMulti,")"),r(6),c("ngModel",i.ordenacao().campo),r(15),c("ngModel",i.ordenacao().direcao),r(5),c("ngIf",i.filtrosDisponiveis().profissional),r(),c("ngIf",i.filtrosDisponiveis().profissao),r(),c("ngIf",i.filtrosDisponiveis().cooperativa),r(),c("ngIf",i.filtrosDisponiveis().paciente),r(),c("ngIf",i.filtrosDisponiveis().convenio),r(),c("ngIf",i.filtrosAtivos()>0),r(3),I("Mostrando ",i.Math.min(i.indiceInicio()+i.dadosVisiveis().length,i.totalRegistrosFiltrados())," de ",i.totalRegistrosFiltrados(),""),r(3),R("height",i.alturaTotal,"px"),r(),R("transform","translateY("+i.offsetTop+"px)")("will-change","transform"),r(),c("ngForOf",i.dadosVisiveis())("ngForTrackBy",i.trackByItem),r(),c("ngIf",i.totalRegistrosFiltrados()===0&&!i.processandoFiltros()),r(7),b(i.totalRegistrosFiltrados()),r(2),f("de ",i.dadosOriginais().length,""),r(5),b(i.calcularTotalHoras()),r(7),b(i.formatarMoeda(i.calcularValorTotal())),r(8),S(i.getStatusPerformanceClass()),r(2),b(i.getStatusPerformance()),r(2),f("",i.filtrosAtivos()," filtros ativos")}},dependencies:[j,N,H,oe,te,ie,W,K,ee,X,Z],styles:['@charset "UTF-8";.modal-backdrop[_ngcontent-%COMP%]{background-color:#0000004d}.card[_ngcontent-%COMP%]{transition:all .2s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px -8px #0003}.stats[_ngcontent-%COMP%]{box-shadow:none;border:1px solid oklch(var(--b3))}.collapse-content[_ngcontent-%COMP%]{padding-top:1rem}.input-success[_ngcontent-%COMP%], .select-success[_ngcontent-%COMP%]{border-color:oklch(var(--su));background-color:oklch(var(--su)/.1)}.badge[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:oklch(var(--er))}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:oklch(var(--b3))}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:oklch(var(--bc)/.2);border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:oklch(var(--bc)/.3)}.form-control[_ngcontent-%COMP%], .badge[_ngcontent-%COMP%]{transition:all .2s ease}[style*=transform][_ngcontent-%COMP%]{contain:layout style paint}'],changeDetection:0})}return a})();function Be(a,p){if(a&1){let e=D();o(0,"button",25),_("click",function(){let i=v(e).$implicit,l=m(2);return g(l.activeTab=i.id)}),s(1),n()}if(a&2){let e=p.$implicit,t=m(2);S(t.getTabClasses(e.id)),r(),f(" ",e.label," ")}}function Ne(a,p){if(a&1&&(o(0,"div",33)(1,"div",35)(2,"div",36),E(),o(3,"svg",37),h(4,"path",38),n(),M(),o(5,"span",39),s(6,"Colunas Faltantes"),n()(),o(7,"div",40),s(8),n()(),o(9,"div",41)(10,"div",36),E(),o(11,"svg",42),h(12,"path",43),n(),M(),o(13,"span",44),s(14,"Colunas Encontradas"),n()(),o(15,"div",45),s(16),n()()()),a&2){let e=m(4);r(8),f(" ",e.erroData.detalhes.cabecalhosFaltantes.length||0," "),r(8),f(" ",e.erroData.detalhes.totalEncontrados||0," ")}}function He(a,p){if(a&1&&(o(0,"div",34)(1,"div",28),E(),o(2,"svg",46),h(3,"path",47),n(),M(),o(4,"div")(5,"h4",48),s(6,"Sugest\xE3o"),n(),o(7,"p",49),s(8),n()()()()),a&2){let e=m(4);r(8),b(e.erroData.sugestao)}}function je(a,p){if(a&1&&x(0,Ne,17,2,"div",33)(1,He,9,1,"div",34),a&2){let e=m(3);k(e.erroData.detalhes?0:-1),r(),k(e.erroData.sugestao?1:-1)}}function Re(a,p){if(a&1&&(o(0,"div",26)(1,"div",27)(2,"div",28),E(),o(3,"svg",29),h(4,"path",30),n(),M(),o(5,"div")(6,"h4",31),s(7,"Erro de Valida\xE7\xE3o"),n(),o(8,"p",32),s(9),n()()()(),x(10,je,2,2),n()),a&2){let e=m(2);r(9),b(e.erroData==null?null:e.erroData.erro),r(),k(e.erroData?10:-1)}}function Le(a,p){if(a&1&&(o(0,"li",58)(1,"span",59),s(2),n(),E(),o(3,"svg",60),h(4,"path",15),n(),M(),o(5,"code",61),s(6),n()()),a&2){let e=p.$implicit,t=p.index;r(2),f(" ",t+1," "),r(4),b(e)}}function $e(a,p){if(a&1&&(o(0,"div")(1,"p",52),s(2," As seguintes colunas s\xE3o obrigat\xF3rias mas n\xE3o foram encontrados no arquivo: "),n(),o(3,"div",53)(4,"div",54)(5,"h4",31),s(6),n()(),o(7,"div",55)(8,"ul",56),x(9,Le,7,2,"li",57),n()()()()),a&2){let e=m(3);r(6),f(" ",e.erroData==null||e.erroData.detalhes==null||e.erroData.detalhes.cabecalhosFaltantes==null?null:e.erroData.detalhes.cabecalhosFaltantes.length," colunas(s) faltante(s) "),r(3),c("ngForOf",e.erroData==null||e.erroData.detalhes==null?null:e.erroData.detalhes.cabecalhosFaltantes)}}function Ge(a,p){a&1&&(o(0,"div",62),E(),o(1,"svg",63),h(2,"path",43),n(),M(),o(3,"p",64),s(4,"Todas as colunas obrigat\xF3rias foram encontrados"),n()())}function qe(a,p){if(a&1&&(o(0,"div",50),x(1,$e,10,2,"div",51)(2,Ge,5,0,"ng-template",null,0,$),n()),a&2){let e=L(3),t=m(2);r(),c("ngIf",t.erroData==null||t.erroData.detalhes==null||t.erroData.detalhes.cabecalhosFaltantes==null?null:t.erroData.detalhes.cabecalhosFaltantes.length)("ngIfElse",e)}}function ze(a,p){if(a&1&&(o(0,"li",71)(1,"span",72),s(2),n(),E(),o(3,"svg",73),h(4,"path",43),n(),M(),o(5,"code",74),s(6),n()()),a&2){let e=p.$implicit,t=p.index;r(2),f(" ",t+1," "),r(4),b(e)}}function Qe(a,p){if(a&1&&(o(0,"div")(1,"p",52),s(2," Colunas encontradas no arquivo enviado: "),n(),o(3,"div",65)(4,"div",66)(5,"h4",67),s(6),n()(),o(7,"div",68)(8,"ul",69),x(9,ze,7,2,"li",70),n()()()()),a&2){let e=m(3);r(6),f(" ",e.erroData==null||e.erroData.detalhes==null||e.erroData.detalhes.cabecalhosEncontrados==null?null:e.erroData.detalhes.cabecalhosEncontrados.length," colunas(s) encontrada(s) "),r(3),c("ngForOf",e.erroData==null||e.erroData.detalhes==null?null:e.erroData.detalhes.cabecalhosEncontrados)}}function Ye(a,p){a&1&&(o(0,"div",62),E(),o(1,"svg",63),h(2,"path",75),n(),M(),o(3,"p",64),s(4,"Nenhuma coluna foi encontrado no arquivo"),n()())}function Ue(a,p){if(a&1&&(o(0,"div",50),x(1,Qe,10,2,"div",51)(2,Ye,5,0,"ng-template",null,1,$),n()),a&2){let e=L(3),t=m(2);r(),c("ngIf",t.erroData==null||t.erroData.detalhes==null||t.erroData.detalhes.cabecalhosEncontrados==null?null:t.erroData.detalhes.cabecalhosEncontrados.length)("ngIfElse",e)}}function Je(a,p){if(a&1){let e=D();o(0,"div",3)(1,"div",4),_("click",function(){v(e);let i=m();return g(i.closeModal())}),n(),o(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9),E(),o(7,"svg",10),h(8,"path",11),n()(),M(),o(9,"h3",12),s(10,"Erro na Valida\xE7\xE3o do Arquivo"),n()(),o(11,"button",13),_("click",function(){v(e);let i=m();return g(i.closeModal())}),E(),o(12,"svg",14),h(13,"path",15),n()()(),M(),o(14,"div",16)(15,"div",17)(16,"nav",18),x(17,Be,2,3,"button",19),n()(),o(18,"div",20),x(19,Re,11,2,"div",21)(20,qe,4,2,"div",22)(21,Ue,4,2,"div",22),n()(),o(22,"div",23)(23,"button",24),_("click",function(){v(e);let i=m();return g(i.closeModal())}),s(24," Fechar "),n()()()()()}if(a&2){let e=m();r(17),c("ngForOf",e.tabs),r(),c("ngSwitch",e.activeTab),r(),c("ngSwitchCase","resumo"),r(),c("ngSwitchCase","faltantes"),r(),c("ngSwitchCase","encontrados")}}var ut=(()=>{class a{isOpen=!1;erroData=null;close=new O;activeTab="resumo";tabs=[{id:"resumo",label:"Resumo"},{id:"faltantes",label:"Colunas Faltantes"},{id:"encontrados",label:"Colunas Encontradas"}];closeModal(){this.close.emit()}getTabClasses(e){let t="px-3 py-2 font-medium text-sm rounded-md transition-colors";return this.activeTab===e?`${t} bg-blue-100 text-blue-700 border-b-2 border-blue-500`:`${t} text-gray-500 hover:text-gray-700`}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=A({type:a,selectors:[["app-validation-error-modal"]],inputs:{isOpen:"isOpen",erroData:"erroData"},outputs:{close:"close"},decls:1,vars:1,consts:[["noFaltantes",""],["noEncontrados",""],["class","fixed inset-0 z-50 overflow-y-auto",4,"ngIf"],[1,"fixed","inset-0","z-50","overflow-y-auto"],[1,"fixed","inset-0","bg-black","bg-opacity-50","transition-opacity",3,"click"],[1,"flex","min-h-full","items-center","justify-center","p-4"],[1,"relative","bg-white","rounded-lg","shadow-xl","w-full","max-w-2xl","transform","transition-all"],[1,"flex","items-center","justify-between","p-6","border-b","border-gray-200"],[1,"flex","items-center","space-x-3"],[1,"flex-shrink-0"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.732 15.5c-.77.833.192 2.5 1.732 2.5z"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-gray-400","hover:text-gray-600","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-6"],[1,"mb-6"],[1,"flex","space-x-8"],[3,"class","click",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","space-y-6",4,"ngSwitchCase"],["class","space-y-4",4,"ngSwitchCase"],[1,"bg-gray-50","px-6","py-4","flex","justify-end","space-x-3","rounded-b-lg"],[1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","transition-colors",3,"click"],[3,"click"],[1,"space-y-6"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-4"],[1,"flex","items-start","space-x-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-500","mt-0.5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"font-medium","text-red-800"],[1,"text-red-700","mt-1"],[1,"grid","grid-cols-2","gap-4"],[1,"bg-yellow-50","border","border-yellow-200","rounded-lg","p-4"],[1,"bg-red-50","rounded-lg","p-4"],[1,"flex","items-center","space-x-2","mb-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"font-medium","text-red-700"],[1,"text-2xl","font-bold","text-red-600"],[1,"bg-green-50","rounded-lg","p-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"font-medium","text-green-700"],[1,"text-2xl","font-bold","text-green-600"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-yellow-500","mt-0.5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"font-medium","text-yellow-800"],[1,"text-yellow-700","mt-1"],[1,"space-y-4"],[4,"ngIf","ngIfElse"],[1,"text-gray-600","mb-4"],[1,"bg-red-50","border","border-red-200","rounded-lg"],[1,"p-4","border-b","border-red-200","bg-red-100"],[1,"max-h-80","overflow-y-scroll","border","border-green-300","bg-white","rounded-md",2,"scrollbar-width","auto","-ms-overflow-style","scrollbar"],[1,"divide-y","divide-red-200"],["class","p-4 flex items-center space-x-3 hover:bg-red-100 transition-colors",4,"ngFor","ngForOf"],[1,"p-4","flex","items-center","space-x-3","hover:bg-red-100","transition-colors"],[1,"flex-shrink-0","w-6","h-6","bg-red-500","text-white","text-xs","rounded-full","flex","items-center","justify-center","font-medium"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-red-500","flex-shrink-0"],[1,"bg-red-200","px-3","py-1","rounded-md","text-sm","text-red-800","font-mono","flex-grow"],[1,"text-center","py-8"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","w-12","h-12","text-gray-400"],[1,"text-gray-500","mt-2"],[1,"bg-green-50","border","border-green-200","rounded-lg"],[1,"p-4","border-b","border-green-200","bg-green-100"],[1,"font-medium","text-green-800"],[1,"max-h-80","overflow-y-scroll","border","border-red-300","bg-white","rounded-md",2,"scrollbar-width","auto","-ms-overflow-style","scrollbar"],[1,"divide-y","divide-green-200"],["class","p-4 flex items-center space-x-3 hover:bg-green-100 transition-colors",4,"ngFor","ngForOf"],[1,"p-4","flex","items-center","space-x-3","hover:bg-green-100","transition-colors"],[1,"flex-shrink-0","w-6","h-6","bg-green-500","text-white","text-xs","rounded-full","flex","items-center","justify-center","font-medium"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-green-500","flex-shrink-0"],[1,"bg-green-200","px-3","py-1","rounded-md","text-sm","text-green-800","font-mono","flex-grow"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"]],template:function(t,i){t&1&&x(0,Je,25,5,"div",2),t&2&&c("ngIf",i.isOpen)},dependencies:[j,N,H,U,J],encapsulation:2})}return a})();export{rt as a,ut as b};
